/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/LTG_CommonUI/Common/CommonEnums.ts":
/*!************************************************!*\
  !*** ./src/LTG_CommonUI/Common/CommonEnums.ts ***!
  \************************************************/
/*! exports provided: ECoinType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ECoinType", function() { return ECoinType; });
/**游戏默认代币类型 */
var ECoinType;
(function (ECoinType) {
    /**金币 */
    ECoinType[ECoinType["COIN"] = 0] = "COIN";
    /**钻石 */
    ECoinType[ECoinType["DIAMAND"] = 1] = "DIAMAND";
    /**钞票 */
    ECoinType[ECoinType["CASH"] = 2] = "CASH";
})(ECoinType || (ECoinType = {}));


/***/ }),

/***/ "./src/LTG_CommonUI/Common/EEggUnlockType.ts":
/*!***************************************************!*\
  !*** ./src/LTG_CommonUI/Common/EEggUnlockType.ts ***!
  \***************************************************/
/*! exports provided: EEggUnlockType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EEggUnlockType", function() { return EEggUnlockType; });
var EEggUnlockType;
(function (EEggUnlockType) {
    /**
     * 默认解锁,理论上不存在
     * 未实现
     */
    EEggUnlockType[EEggUnlockType["Default"] = 1] = "Default";
    /**
     * 兑换码解锁
     */
    EEggUnlockType[EEggUnlockType["Code"] = 2] = "Code";
    /**
     * 直接看视频解锁
     */
    EEggUnlockType[EEggUnlockType["WatchAd"] = 3] = "WatchAd";
    /**
     * 分享解锁
     * 未实现
     */
    EEggUnlockType[EEggUnlockType["Share"] = 4] = "Share";
    /**
     * 详细信息解锁
     * 未实现
     */
    EEggUnlockType[EEggUnlockType["Info"] = 5] = "Info";
    /**
         * 看视频进度解锁
         */
    EEggUnlockType[EEggUnlockType["WatchAdPro"] = 6] = "WatchAdPro";
})(EEggUnlockType || (EEggUnlockType = {}));


/***/ }),

/***/ "./src/LTG_CommonUI/Data/LTG_Com_EggWallData.ts":
/*!******************************************************!*\
  !*** ./src/LTG_CommonUI/Data/LTG_Com_EggWallData.ts ***!
  \******************************************************/
/*! exports provided: LTG_Com_EggWallData, EEggState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTG_Com_EggWallData", function() { return LTG_Com_EggWallData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EEggState", function() { return EEggState; });
/* harmony import */ var _Mediator_LTG_UI_EggWallMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Mediator/LTG_UI_EggWallMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_EggWallMediator.ts");
/* harmony import */ var _script_config_EggConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../script/config/EggConfig */ "./src/script/config/EggConfig.ts");
/* harmony import */ var _LTGame_Commom_CommonProgressData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/Commom/CommonProgressData */ "./src/LTGame/Commom/CommonProgressData.ts");



const EGG_TAG = 1001;
/**
 * -彩蛋墙-
 */
class LTG_Com_EggWallData {
    Send() {
        _Mediator_LTG_UI_EggWallMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Show(this);
        return 0;
    }
    static GetUnlockProgress(eggId) {
        let eggConfig = _script_config_EggConfig__WEBPACK_IMPORTED_MODULE_1__["EggConfig"].data[eggId];
        return this.GetWatchedADCount(eggConfig.id) + "/" + eggConfig.unlock_value;
    }
    static GetWatchedADCount(eggId) {
        return _LTGame_Commom_CommonProgressData__WEBPACK_IMPORTED_MODULE_2__["CommonProgressData"].instance.ReadProgress(EGG_TAG, eggId);
    }
    static RecordWatchAD(eggId) {
        let newValue = _LTGame_Commom_CommonProgressData__WEBPACK_IMPORTED_MODULE_2__["CommonProgressData"].instance.AddProgress(EGG_TAG, eggId);
        let eggConfig = _script_config_EggConfig__WEBPACK_IMPORTED_MODULE_1__["EggConfig"].data[eggId];
        return newValue >= eggConfig.unlock_value;
    }
    static MarkEggUnlocking(eggId) {
        _LTGame_Commom_CommonProgressData__WEBPACK_IMPORTED_MODULE_2__["CommonProgressData"].instance.SetProgress(EGG_TAG, eggId, 0);
    }
    static GetEggState(eggConfig) {
        let readValue = _LTGame_Commom_CommonProgressData__WEBPACK_IMPORTED_MODULE_2__["CommonProgressData"].instance.ReadProgress(EGG_TAG, eggConfig.id, -1);
        if (readValue < 0)
            return EEggState.Locked;
        if (readValue < eggConfig.unlock_value) {
            return EEggState.Unlocking;
        }
        return EEggState.Unlocked;
    }
}
var EEggState;
(function (EEggState) {
    EEggState[EEggState["Locked"] = 0] = "Locked";
    EEggState[EEggState["Unlocking"] = 1] = "Unlocking";
    EEggState[EEggState["Unlocked"] = 2] = "Unlocked";
})(EEggState || (EEggState = {}));


/***/ }),

/***/ "./src/LTG_CommonUI/Data/LTG_Com_RollData.ts":
/*!***************************************************!*\
  !*** ./src/LTG_CommonUI/Data/LTG_Com_RollData.ts ***!
  \***************************************************/
/*! exports provided: LTG_Com_RollData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTG_Com_RollData", function() { return LTG_Com_RollData; });
/* harmony import */ var _Mediator_LTG_UI_RollMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Mediator/LTG_UI_RollMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_RollMediator.ts");
/* harmony import */ var _LTGame_UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/FGuiEx */ "./src/LTGame/UIExt/FGui/FGuiEx.ts");


class LTG_Com_RollData {
    Send() {
        _Mediator_LTG_UI_RollMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Show(this);
        return 0;
    }
    WaitClose() {
        return __awaiter(this, void 0, void 0, function* () {
            yield _LTGame_UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_1__["default"].WaitUIClose(_Mediator_LTG_UI_RollMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance);
        });
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Data/LTG_Com_ShareVideoData.ts":
/*!*********************************************************!*\
  !*** ./src/LTG_CommonUI/Data/LTG_Com_ShareVideoData.ts ***!
  \*********************************************************/
/*! exports provided: LTG_Com_ShareVideoData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTG_Com_ShareVideoData", function() { return LTG_Com_ShareVideoData; });
/* harmony import */ var _Mediator_LTG_UI_ScreenShootMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Mediator/LTG_UI_ScreenShootMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_ScreenShootMediator.ts");
/* harmony import */ var _Common_CommonEnums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Common/CommonEnums */ "./src/LTG_CommonUI/Common/CommonEnums.ts");


/**
 * -分享视频-
 * @param camera 截图用相机
 * @param onClosed 关闭事件
 */
class LTG_Com_ShareVideoData {
    constructor() {
        this.camera = null;
        /**代币类型
         * 金币=0,钻石 = 1,钞票 = 2
         */
        this.coinType = _Common_CommonEnums__WEBPACK_IMPORTED_MODULE_1__["ECoinType"].COIN;
        /**
         * code: int 0 未分享, 1 已分享
         */
        this.onClosed = null;
    }
    Send() {
        _Mediator_LTG_UI_ScreenShootMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Show(this);
        return 0;
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Data/LTG_Com_SignData.ts":
/*!***************************************************!*\
  !*** ./src/LTG_CommonUI/Data/LTG_Com_SignData.ts ***!
  \***************************************************/
/*! exports provided: LTG_Com_SignData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTG_Com_SignData", function() { return LTG_Com_SignData; });
/* harmony import */ var _Mediator_LTG_UI_SignMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Mediator/LTG_UI_SignMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_SignMediator.ts");
/* harmony import */ var _LTGame_UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/FGuiEx */ "./src/LTGame/UIExt/FGui/FGuiEx.ts");


/**
 * -签到界面-
 * 签到数据由signconfig控制
 * @param onSign 签到回调
 * @param onClose 关闭回调
 */
class LTG_Com_SignData {
    Send() {
        _Mediator_LTG_UI_SignMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Show(this);
        return 0;
    }
    WaitClose() {
        return __awaiter(this, void 0, void 0, function* () {
            yield _LTGame_UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_1__["default"].WaitUIClose(_Mediator_LTG_UI_SignMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance);
        });
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Data/LTG_Com_TrySkinData.ts":
/*!******************************************************!*\
  !*** ./src/LTG_CommonUI/Data/LTG_Com_TrySkinData.ts ***!
  \******************************************************/
/*! exports provided: LTG_Com_TrySkinData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTG_Com_TrySkinData", function() { return LTG_Com_TrySkinData; });
/* harmony import */ var _Mediator_LTG_UI_TrySkinMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Mediator/LTG_UI_TrySkinMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_TrySkinMediator.ts");

/**传参图标和模型二选一 */
class LTG_Com_TrySkinData {
    Send() {
        _Mediator_LTG_UI_TrySkinMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Show(this);
        return 0;
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Mediator/LTG_UI_EggDetailMediator.ts":
/*!***************************************************************!*\
  !*** ./src/LTG_CommonUI/Mediator/LTG_UI_EggDetailMediator.ts ***!
  \***************************************************************/
/*! exports provided: LTG_UI_EggDetailMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTG_UI_EggDetailMediator", function() { return LTG_UI_EggDetailMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTCom_LTG_UI_EggDetail__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UI/LTCom/LTG_UI_EggDetail */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggDetail.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSceneDisplay */ "./src/LTGame/UIExt/Cmp/CmpSceneDisplay.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSimpleLoader */ "./src/LTGame/UIExt/Cmp/CmpSimpleLoader.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");







class LTG_UI_EggDetailMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get ui() {
        return this._ui;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTG_UI_EggDetailMediator();
            this._instance._classDefine = _UI_LTCom_LTG_UI_EggDetail__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._cacheConfig = this._openParam;
        this._displayScene = new _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_2__["CmpSceneDisplay"](this.ui.m_display);
        this.ui.m_txt_info.text = this._cacheConfig.code;
        this.ui.m_btn_ok.onClick(this, this._OnClickOk);
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.ShowBannerAd();
        this._CreateScene();
    }
    _CreateScene() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__["default"].ShowLoading('资源加载中');
            yield this._displayScene.LoadScene('ZS_EggUnlock');
            this._displayScene.camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
            this._displayPlayer = new _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_3__["CmpSimpleLoader"](_LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_5__["LTUtils"].FindChild(this._displayScene.s3d, 'ZS_01/xuanzhuan/jiaose'));
            yield this._displayPlayer.LoadObj(this._cacheConfig.model_path);
            this._displayPlayer.loadObj.transform.localScale = new Laya.Vector3(this._cacheConfig.scale[0], this._cacheConfig.scale[1], this._cacheConfig.scale[2]);
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__["default"].HideLoading();
        });
    }
    _OnHide() {
        var _a;
        (_a = this._displayScene) === null || _a === void 0 ? void 0 : _a.Dispose();
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.HideBannerAd();
    }
    _OnClickOk() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__["default"].TrigerBtnClick();
        this.Hide();
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Mediator/LTG_UI_EggUnlockMediator.ts":
/*!***************************************************************!*\
  !*** ./src/LTG_CommonUI/Mediator/LTG_UI_EggUnlockMediator.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_EggUnlockMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTCom_LTG_UI_EggUnlock__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UI/LTCom/LTG_UI_EggUnlock */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggUnlock.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSceneDisplay */ "./src/LTGame/UIExt/Cmp/CmpSceneDisplay.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSimpleLoader */ "./src/LTGame/UIExt/Cmp/CmpSimpleLoader.ts");
/* harmony import */ var _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _LTG_UI_EggWallMediator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LTG_UI_EggWallMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_EggWallMediator.ts");
/* harmony import */ var _LTGame_LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../LTGame/LTUtils/TransformEx */ "./src/LTGame/LTUtils/TransformEx.ts");
/* harmony import */ var _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Data/LTG_Com_EggWallData */ "./src/LTG_CommonUI/Data/LTG_Com_EggWallData.ts");
/* harmony import */ var _script_common_GameData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../script/common/GameData */ "./src/script/common/GameData.ts");











class LTG_UI_EggUnlockMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTG_UI_EggUnlockMediator();
            this._instance._classDefine = _UI_LTCom_LTG_UI_EggUnlock__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._cacheConfig = this._openParam[0];
        this._onUnlocked = this._openParam[1];
        this._displayScene = new _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_4__["CmpSceneDisplay"](this.ui.m_img_display);
        this.ui.m_view_unlock_progress.m_loader_01.url = this._cacheConfig.coin_icon;
        this.ui.m_view_unlock_progress.m_loader_02.url = this._cacheConfig.coin_icon;
        this.ui.m_view_unlock_progress.m_text_01.text = this._cacheConfig.reward_coin_value[0].toFixed(0);
        this.ui.m_view_unlock_progress.m_text_02.text = this._cacheConfig.reward_coin_value[1].toFixed(0);
        this.ui.m_btn_unlock_ad.m_text_value.text = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_9__["LTG_Com_EggWallData"].GetUnlockProgress(this._cacheConfig.id);
        this.ui.m_view_unlock_progress.m_state.selectedIndex = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_9__["LTG_Com_EggWallData"].GetWatchedADCount(this._cacheConfig.id);
        this.ui.m_btn_giveup.onClick(this, this._OnClickGiveUp);
        this.ui.m_btn_unlock_ad.onClick(this, this._OnClickUnlock);
        this._CreateScene();
    }
    _CreateScene() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].ShowLoading('资源加载中');
            yield this._displayScene.LoadScene('ZS_Egg');
            this._displayScene.camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
            this._displayPlayer = new _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_5__["CmpSimpleLoader"](_LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_6__["LTUtils"].FindChild(this._displayScene.s3d, 'ZS_01/xuanzhuan/jiaose'));
            let model = yield this._displayPlayer.LoadObj(this._cacheConfig.model_path);
            if (model) {
                _LTGame_LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_8__["TransformEx"].ResetLocalTrans(model.transform);
                model.transform.localRotationEuler = new Laya.Vector3(this._cacheConfig.rotation[0], this._cacheConfig.rotation[1], this._cacheConfig.rotation[2]);
                let pos = model.transform.localPosition.clone();
                model.transform.localPosition = new Laya.Vector3(pos.x + this._cacheConfig.offset[0], pos.y + this._cacheConfig.offset[1], pos.z + this._cacheConfig.offset[2]);
                model.transform.localScale = new Laya.Vector3(this._cacheConfig.scale[0], this._cacheConfig.scale[1], this._cacheConfig.scale[2]);
                let anim = model.getChildAt(0).getComponent(Laya.Animator);
                if (anim) {
                    anim.play(this._cacheConfig.default_anim);
                }
            }
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].HideLoading();
        });
    }
    _OnHide() {
        this._displayScene.Dispose();
        if (this._onUnlocked != null) {
            this._onUnlocked.recover();
        }
    }
    _OnClickGiveUp() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].TrigerBtnClick();
        console.error('todo这里刷新主界面金币');
        this.Hide();
    }
    _OnClickUnlock(evt) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            evt.stopPropagation();
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].TrigerBtnClick();
            let result = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ShowRewardVideoAdAsync();
            if (result) {
                _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_9__["LTG_Com_EggWallData"].RecordWatchAD(this._cacheConfig.id);
                let count = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_9__["LTG_Com_EggWallData"].GetWatchedADCount(this._cacheConfig.id);
                _LTG_UI_EggWallMediator__WEBPACK_IMPORTED_MODULE_7__["default"].instance.RefreshUI();
                if (count >= this._cacheConfig.unlock_value) {
                    (_a = this._onUnlocked) === null || _a === void 0 ? void 0 : _a.run();
                    this.Hide();
                    return;
                }
                else {
                    let coinIndex = count - 1;
                    let getCoin = this._cacheConfig.reward_coin_value[coinIndex];
                    if (getCoin != null) {
                        // TODO: 等待修改
                        _script_common_GameData__WEBPACK_IMPORTED_MODULE_10__["default"].instance.coinCount += getCoin;
                        _script_common_GameData__WEBPACK_IMPORTED_MODULE_10__["default"].SaveToDisk();
                        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast('获得' + getCoin + '钻石');
                    }
                    this.ui.m_view_unlock_progress.m_state.selectedIndex = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_9__["LTG_Com_EggWallData"].GetWatchedADCount(this._cacheConfig.id);
                }
                this.ui.m_btn_unlock_ad.m_text_value.text = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_9__["LTG_Com_EggWallData"].GetUnlockProgress(this._cacheConfig.id);
            }
        });
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Mediator/LTG_UI_EggWallMediator.ts":
/*!*************************************************************!*\
  !*** ./src/LTG_CommonUI/Mediator/LTG_UI_EggWallMediator.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_EggWallMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTCom_LTG_UI_EggWall__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UI/LTCom/LTG_UI_EggWall */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggWall.ts");
/* harmony import */ var _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Data/LTG_Com_EggWallData */ "./src/LTG_CommonUI/Data/LTG_Com_EggWallData.ts");
/* harmony import */ var _script_config_EggConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../script/config/EggConfig */ "./src/script/config/EggConfig.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSceneDisplay */ "./src/LTGame/UIExt/Cmp/CmpSceneDisplay.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Common/EEggUnlockType */ "./src/LTG_CommonUI/Common/EEggUnlockType.ts");
/* harmony import */ var _LTG_UI_EggUnlockMediator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LTG_UI_EggUnlockMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_EggUnlockMediator.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSimpleLoader */ "./src/LTGame/UIExt/Cmp/CmpSimpleLoader.ts");
/* harmony import */ var _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../LTGame/LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../LTGame/LTUtils/TransformEx */ "./src/LTGame/LTUtils/TransformEx.ts");
/* harmony import */ var _LTG_UI_EggDetailMediator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LTG_UI_EggDetailMediator */ "./src/LTG_CommonUI/Mediator/LTG_UI_EggDetailMediator.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");














class LTG_UI_EggWallMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTG_UI_EggWallMediator();
            this._instance._classDefine = _UI_LTCom_LTG_UI_EggWall__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._avilableConfigs = _script_config_EggConfig__WEBPACK_IMPORTED_MODULE_3__["EggConfig"].dataList.filter((config) => {
            return config.avliable;
        });
        this._cacheData = this._openParam;
        if (this._cacheData == null) {
            throw new Error("请调用LTG_Com_EggWallData进行界面打开操作");
        }
        this._selectIndex = -1;
        this._displayScene = new _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_4__["CmpSceneDisplay"](this.ui.m_img_display);
        this.ui.m_list_view.setVirtual();
        this.ui.m_list_view.itemRenderer = Laya.Handler.create(this, this._OnItemRender, null, false);
        this.ui.m_list_view.numItems = this._avilableConfigs.length;
        this.ui.m_view_entercode.m_text_code.valign = "middle";
        this.ui.m_view_entercode.m_text_code.nativeInput.promptColor = "#000000";
        this.ui.m_btn_back.onClick(this, this._OnClickBack);
        this.ui.m_view_entercode.m_btn_duihuan.onClick(this, this._OnClickEnterCode);
        this._CreateScene();
    }
    _CreateScene() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].ShowLoading('资源加载中');
            yield this._displayScene.LoadScene('ZS_Egg');
            this._displayScene.camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
            this._displayPlayer = new _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_8__["CmpSimpleLoader"](_LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_9__["LTUtils"].FindChild(this._displayScene.s3d, 'ZS_01/xuanzhuan/jiaose'));
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].HideLoading();
        });
    }
    _OnHide() {
        this._displayScene.Dispose();
        if (this._cacheData.onUnlocked != null) {
            this._cacheData.onUnlocked.recover();
        }
    }
    _OnItemRender(index, itemUI) {
        let data = this._avilableConfigs[index];
        itemUI.m_loader_icon.url = data.icon_path;
        itemUI.m_txt_name.icon = data.name_icon;
        let lockState = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["LTG_Com_EggWallData"].GetEggState(data);
        switch (lockState) {
            case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Unlocked:
                itemUI.m_state_lock.selectedIndex = 0;
                break;
            case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Locked:
                switch (data.unlock_type) {
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Code:
                        itemUI.m_state_lock.selectedIndex = 3;
                        itemUI.m_txt_name.text = data.name;
                        break;
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Share:
                        break;
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Info:
                        itemUI.m_state_lock.selectedIndex = 2;
                        break;
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].WatchAd:
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].WatchAdPro:
                        itemUI.m_state_lock.selectedIndex = 1;
                        itemUI.m_btn_reward_video.title = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["LTG_Com_EggWallData"].GetUnlockProgress(data.id);
                        break;
                    default:
                        console.error("暂未实现的彩蛋解锁类型" + data.unlock_type);
                        break;
                }
                break;
            case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Unlocking:
                switch (data.unlock_type) {
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].WatchAd:
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].WatchAdPro:
                        itemUI.m_state_lock.selectedIndex = 1;
                        itemUI.m_btn_reward_video.title = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["LTG_Com_EggWallData"].GetUnlockProgress(data.id);
                        break;
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Code:
                        itemUI.m_state_lock.selectedIndex = 3;
                        break;
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Share:
                        break;
                    case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Info:
                        itemUI.m_state_lock.selectedIndex = 2;
                        break;
                    default:
                        break;
                }
                // if (data.unlock_type == EEggUnlockType.WatchAd) {
                // } else {
                // }
                break;
        }
        // itemUI.m_img_selected.visible = index == this._selectIndex;
        itemUI.onClick(this, this._OnClickItem, [index]);
    }
    _OnClickItem(index) {
        return __awaiter(this, void 0, void 0, function* () {
            let data = this._avilableConfigs[index];
            let lockState = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["LTG_Com_EggWallData"].GetEggState(data);
            this._selectIndex = index;
            switch (data.unlock_type) {
                case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].WatchAd:
                    switch (lockState) {
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Locked:
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Unlocking:
                            if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_10__["default"].instance.platform != _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_13__["EPlatformType"].Vivo && _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_10__["default"].instance.platform != _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_13__["EPlatformType"].WX) {
                                yield this._WatchAd(data);
                            }
                            else {
                                _LTG_UI_EggUnlockMediator__WEBPACK_IMPORTED_MODULE_7__["default"].instance.Show([data, Laya.Handler.create(this, this._UnlockItem, [data])]);
                            }
                            break;
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Unlocked:
                            break;
                    }
                    yield this.showModel(data);
                    break;
                case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Code:
                    switch (lockState) {
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Locked:
                            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].Toast("输入彩蛋兑换码");
                            break;
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Unlocking:
                            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].Toast("输入彩蛋兑换码");
                            //LTG_UI_EggUnlockMediator.instance.Show([data, Laya.Handler.create(this, this._UnlockItem, [data])]);
                            break;
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Unlocked:
                            break;
                    }
                    break;
                case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Share:
                    switch (lockState) {
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Locked:
                            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].Toast("分享视频解锁");
                            break;
                        default:
                            break;
                    }
                    yield this.showModel(data);
                    break;
                case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Info:
                    switch (lockState) {
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Locked:
                            let res = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_10__["default"].instance.ShowRewardVideoAdAsync();
                            if (res) {
                                _LTG_UI_EggDetailMediator__WEBPACK_IMPORTED_MODULE_12__["LTG_UI_EggDetailMediator"].instance.Show(data);
                            }
                            break;
                        default:
                            break;
                    }
                    yield this.showModel(data);
                    break;
                case _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].WatchAdPro:
                    switch (lockState) {
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Locked:
                        case _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Unlocking:
                            _LTG_UI_EggUnlockMediator__WEBPACK_IMPORTED_MODULE_7__["default"].instance.Show([data, Laya.Handler.create(this, this._UnlockItem, [data])]);
                            break;
                        default:
                            break;
                    }
                    yield this.showModel(data);
                    break;
            }
            this.ui.m_list_view.refreshVirtualList();
        });
    }
    showModel(data) {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].ShowLoading('资源加载中', false);
            let model = yield this._displayPlayer.LoadObj(data.model_path);
            if (model) {
                _LTGame_LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_11__["TransformEx"].ResetLocalTrans(model.transform);
                model.transform.localRotationEuler = new Laya.Vector3(data.rotation[0], data.rotation[1], data.rotation[2]);
                let pos = model.transform.localPosition.clone();
                model.transform.localPosition = new Laya.Vector3(pos.x + data.offset[0], pos.y + data.offset[1], pos.z + data.offset[2]);
                model.transform.localScale = new Laya.Vector3(data.scale[0], data.scale[1], data.scale[2]);
                let anim = model.getChildAt(0).getComponent(Laya.Animator);
                if (anim) {
                    anim.play(data.default_anim);
                }
            }
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].HideLoading();
        });
    }
    _WatchAd(config) {
        return __awaiter(this, void 0, void 0, function* () {
            let result = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_10__["default"].instance.ShowRewardVideoAdAsync();
            if (result) {
                let isUnlocked = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["LTG_Com_EggWallData"].RecordWatchAD(config.id);
                if (isUnlocked) {
                    this._UnlockItem(config);
                }
            }
        });
    }
    RefreshUI() {
        if (!this.isShow)
            return;
        this.ui.m_list_view.refreshVirtualList();
    }
    _OnClickEnterCode() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].TrigerBtnClick();
        let code = this.ui.m_view_entercode.m_text_code.text;
        let searchConfig = this._SearchEnterCode(code);
        if (searchConfig == null) {
            return _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].Toast("兑换码无效");
        }
        if (searchConfig.unlock_type != _Common_EEggUnlockType__WEBPACK_IMPORTED_MODULE_6__["EEggUnlockType"].Code) {
            return;
        }
        let eggState = _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["LTG_Com_EggWallData"].GetEggState(searchConfig);
        if (eggState != _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["EEggState"].Locked) {
            return _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].Toast("兑换码无效");
        }
        if (searchConfig.unlock_type == 2) {
            _Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_2__["LTG_Com_EggWallData"].RecordWatchAD(searchConfig.id);
            this._cacheData.onUnlocked.runWith([searchConfig.reward_type, searchConfig.reward_value]);
            this.RefreshUI();
        }
        else {
            _LTG_UI_EggUnlockMediator__WEBPACK_IMPORTED_MODULE_7__["default"].instance.Show([searchConfig, Laya.Handler.create(this, this._UnlockItem, [searchConfig])]);
        }
    }
    _UnlockItem(config) {
        this._cacheData.onUnlocked.runWith([config.reward_type, config.reward_value]);
    }
    _SearchEnterCode(code) {
        for (let eggConfig of this._avilableConfigs) {
            if (eggConfig.code == code) {
                return eggConfig;
            }
        }
        return null;
    }
    _OnClickBack() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].TrigerBtnClick();
        this.Hide();
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Mediator/LTG_UI_RollMediator.ts":
/*!**********************************************************!*\
  !*** ./src/LTG_CommonUI/Mediator/LTG_UI_RollMediator.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_RollMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTCom_LTG_UI_Roll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UI/LTCom/LTG_UI_Roll */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Roll.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _script_config_GameConst__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../script/config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _script_config_RollConfig__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../script/config/RollConfig */ "./src/script/config/RollConfig.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");









class LTG_UI_RollMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTG_UI_RollMediator();
            this._instance._classDefine = _UI_LTCom_LTG_UI_Roll__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        if (_script_config_RollConfig__WEBPACK_IMPORTED_MODULE_7__["RollConfig"].data == null) {
            throw new Error("请先加载配置表RollConfig");
        }
        this._cacheData = this._openParam;
        if (this._cacheData == null) {
            throw new Error("请调用LTG_Com_RollData进行界面打开操作");
        }
        this.ui.m_plat.selectedIndex = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_8__["EPlatformType"].TT ? 1 : 0;
        this.ui.m_btn_close.onClick(this, this._OnClickClose);
        this.ui.m_btn_no.onClick(this, this._OnClickClose);
        for (let i = 1; i <= 6; ++i) {
            let itemName = 'm_item_0' + i.toFixed(0);
            let itemUI = this.ui.m_view.m_view_roll[itemName];
            let data = _script_config_RollConfig__WEBPACK_IMPORTED_MODULE_7__["RollConfig"].data[i];
            itemUI.m_text_name.text = data.show_str;
            itemUI.m_text_name.color = data.text_color;
            itemUI.m_loader_icon.url = data.icon_path;
        }
        // this.ui.m_view.m_.onClick(this, this._OnClickFreeRoll);
        this.ui.m_btn_roll.onClick(this, this._OnClickWatchAd);
        this._UpdateUI();
        this._rollIndex = [];
        this._rollWeight = [];
        for (let i = 0; i < 6; ++i) {
            this._rollIndex.push(i + 1);
            this._rollWeight.push(_script_config_RollConfig__WEBPACK_IMPORTED_MODULE_7__["RollConfig"].data[i + 1].roll_weight);
        }
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.ShowBannerAd();
    }
    _UpdateUI() {
        if (false) {}
        else {
            this.ui.m_btn_roll.m_adicon.visible = true;
            this.ui.m_plat.selectedIndex = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_8__["EPlatformType"].TT ? 1 : 0;
        }
        this.ui.m_btn_roll.visible = true;
        this.ui.m_btn_close.visible = true;
        let currentRollCount = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.totalRollCount % _script_config_GameConst__WEBPACK_IMPORTED_MODULE_3__["GameConst"].data.special_roll_count;
        if (_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.totalRollCount > 0 && currentRollCount == 0) {
            currentRollCount = _script_config_GameConst__WEBPACK_IMPORTED_MODULE_3__["GameConst"].data.special_roll_count;
        }
        let remainCount = _script_config_GameConst__WEBPACK_IMPORTED_MODULE_3__["GameConst"].data.special_roll_count - currentRollCount;
        if (remainCount > 0) {
            this._isSpecialRoll = false;
            this.ui.m_view.m_text_notice.text = remainCount + "次之后必得特殊奖励";
        }
        else {
            this.ui.m_view.m_text_notice.text = " 本次必得特殊奖励";
            this._isSpecialRoll = true;
        }
        let progress100 = (currentRollCount / _script_config_GameConst__WEBPACK_IMPORTED_MODULE_3__["GameConst"].data.special_roll_count) * 100;
        this.ui.m_view.m_progress_supper.value = progress100;
    }
    _DoRoll() {
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.totalRollCount++;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].SaveToDisk();
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__["default"].LockScreen();
        this.ui.m_btn_roll.visible = false;
        this.ui.m_btn_close.visible = false;
        if (_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.totalRollCount == 1) {
            //第一次转盘必然转到第一个奖励 
            this._cacheFinalIndex = 1;
        }
        else {
            this._cacheFinalIndex = _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__["default"].RandomFromWithWeight(this._rollIndex, this._rollWeight);
        }
        let targetRotate = -(this._cacheFinalIndex - 1) * 60 - 360 * 3;
        Laya.Tween.to(this.ui.m_view.m_view_roll, { rotation: targetRotate }, 2000, Laya.Ease.quadOut, Laya.Handler.create(this, this._OnRollEnd));
    }
    _OnRollEnd() {
        var _a, _b;
        this.ui.m_view.m_view_roll.rotation = this.ui.m_view.m_view_roll.rotation % 360;
        let rewardConfig = _script_config_RollConfig__WEBPACK_IMPORTED_MODULE_7__["RollConfig"].data[this._cacheFinalIndex];
        (_a = this._cacheData.onRolled) === null || _a === void 0 ? void 0 : _a.runWith([rewardConfig]);
        if (this._isSpecialRoll) {
            let specialConfig = _script_config_RollConfig__WEBPACK_IMPORTED_MODULE_7__["RollConfig"].data[7];
            (_b = this._cacheData.onSpecial) === null || _b === void 0 ? void 0 : _b.runWith([specialConfig]);
        }
        this._UpdateUI();
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__["default"].UnlockScreen();
    }
    _OnClickWatchAd() {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.ui.m_btn_roll.m_adicon.visible) {
                let result = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.ShowRewardVideoAdAsync();
                if (result) {
                    this._DoRoll();
                }
            }
            else {
                this._OnClickFreeRoll();
            }
        });
    }
    _OnClickFreeRoll() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__["default"].TrigerBtnClick();
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.freeRollCount--;
        this._DoRoll();
    }
    _OnClickClose() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_4__["default"].TrigerBtnClick();
        this.Hide();
    }
    _OnHide() {
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.HideBannerAd();
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Mediator/LTG_UI_ScreenShootMediator.ts":
/*!*****************************************************************!*\
  !*** ./src/LTG_CommonUI/Mediator/LTG_UI_ScreenShootMediator.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_ScreenShootMediator; });
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _UI_LTCom_LTG_UI_ScreenShoot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../UI/LTCom/LTG_UI_ScreenShoot */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_ScreenShoot.ts");




class LTG_UI_ScreenShootMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTG_UI_ScreenShootMediator();
            this._instance._classDefine = _UI_LTCom_LTG_UI_ScreenShoot__WEBPACK_IMPORTED_MODULE_3__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._cacheData = this._openParam;
        if (this._cacheData == null) {
            throw new Error("请调用LTG_Com_ShareVideoData进行界面打开操作");
        }
        this.ui.m_view.m_coin_type.selectedIndex = this._cacheData.coinType;
        this._cacheRT = new Laya.RenderTexture(this.ui.m_view.m_img_display.width, this.ui.m_view.m_img_display.height, Laya.RenderTextureFormat.R8G8B8A8, Laya.RenderTextureDepthFormat.DEPTH_16);
        this._cacheImage = new fgui.GImage();
        this.ui.m_view.addChildAt(this._cacheImage, this.ui.m_view.getChildIndex(this.ui.m_view.m_img_display) + 1);
        this._cacheImage.image.texture = new Laya.Texture(this._cacheRT);
        this._cacheImage.setPivot(this.ui.m_view.m_img_display.pivotX, this.ui.m_view.m_img_display.pivotY, this.ui.m_view.m_img_display.pivotAsAnchor);
        this._cacheImage.setXY(this.ui.m_view.m_img_display.x, this.ui.m_view.m_img_display.y);
        this.ui.m_view.m_img_display.dispose();
        if (this._cacheData.camera != null) {
            this._cacheData.camera.renderTarget = this._cacheRT;
            this._cacheData.camera.render();
            this._cacheData.camera.renderTarget = null;
        }
        this.ui.m_view.m_view_play.onClick(this, this._OnClickShare);
        this.ui.m_view.m_btn_close.onClick(this, this._OnClickClose);
        this.ui.m_view.m_btn_share.onClick(this, this._OnClickShare);
    }
    _OnClickShare() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].TrigerBtnClick();
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.recordManager.ShareVideo(Laya.Handler.create(null, () => {
            var _a;
            this.Hide();
            (_a = this._cacheData.onClosed) === null || _a === void 0 ? void 0 : _a.runWith([1]);
        }), Laya.Handler.create(null, () => {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].Toast("跳过分享无法获得奖励");
        }), Laya.Handler.create(null, () => {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].Toast("分享发生错误");
        }));
    }
    _OnClickClose() {
        var _a;
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].TrigerBtnClick();
        this.Hide();
        (_a = this._cacheData.onClosed) === null || _a === void 0 ? void 0 : _a.runWith([0]);
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Mediator/LTG_UI_SignMediator.ts":
/*!**********************************************************!*\
  !*** ./src/LTG_CommonUI/Mediator/LTG_UI_SignMediator.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_SignMediator; });
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../script/config/SignConfig */ "./src/script/config/SignConfig.ts");
/* harmony import */ var _UI_LTCom_LTG_UI_Sign__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../UI/LTCom/LTG_UI_Sign */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Sign.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");






class LTG_UI_SignMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_2__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTG_UI_SignMediator();
            this._instance._classDefine = _UI_LTCom_LTG_UI_Sign__WEBPACK_IMPORTED_MODULE_4__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._cacheConfig = this._openParam;
        if (this._cacheConfig == null) {
            throw new Error("请调用LTG_Com_SignData进行界面打开操作");
        }
        this.ui.m_btn_close.onClick(this, this._OnClickClose);
        this.ui.m_view.m_day_1.m_text_name.text = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[1].show_str;
        this.ui.m_view.m_day_2.m_text_name.text = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[2].show_str;
        this.ui.m_view.m_day_3.m_text_name.text = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[3].show_str;
        this.ui.m_view.m_day_4.m_text_name.text = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[4].show_str;
        this.ui.m_view.m_day_5.m_text_name.text = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[5].show_str;
        this.ui.m_view.m_day_6.m_text_name.text = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[6].show_str;
        this.ui.m_view.m_day_1.m_loader_icon.url = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[1].show_icon;
        this.ui.m_view.m_day_2.m_loader_icon.url = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[2].show_icon;
        this.ui.m_view.m_day_3.m_loader_icon.url = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[3].show_icon;
        this.ui.m_view.m_day_4.m_loader_icon.url = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[4].show_icon;
        this.ui.m_view.m_day_5.m_loader_icon.url = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[5].show_icon;
        this.ui.m_view.m_day_6.m_loader_icon.url = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[6].show_icon;
        this.ui.m_view.m_day_7.m_loader_icon.url = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[7].show_icon;
        this.ui.m_view.m_state.selectedIndex = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.isSigned ? 1 : 0;
        if (_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.isSigned) {
            let displayDay = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.signDayCount % 7;
            for (let i = 0; i < displayDay; ++i) {
                let itemUI = this.ui.m_view['m_day_' + (i + 1)];
                itemUI.m_state_get.selectedIndex = 2;
            }
            this.ui.m_view.m_btn_watchad.visible = false;
        }
        else {
            let displayDay = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.signDayCount % 7;
            for (let i = 0; i < displayDay; ++i) {
                let itemUI = this.ui.m_view['m_day_' + (i + 1)];
                itemUI.m_state_get.selectedIndex = 2;
            }
            let itemUI = this.ui.m_view['m_day_' + (displayDay + 1)];
            itemUI.m_state_get.selectedIndex = 1;
            this._currentReward = _script_config_SignConfig__WEBPACK_IMPORTED_MODULE_3__["SignConfig"].data[displayDay + 1];
            this._cacheUIItem = itemUI;
            this.ui.m_view.m_text_signed.visible = false;
            this.ui.m_view.m_btn_normal.onClick(this, this._OnClickGet);
            this.ui.m_view.m_btn_watchad.onClick(this, this._OnClickWatchAd);
        }
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShowBannerAd();
    }
    _OnClickGet() {
        var _a;
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].TrigerBtnClick();
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.isSigned = true;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.signDayCount++;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].SaveToDisk();
        (_a = this._cacheConfig.onSign) === null || _a === void 0 ? void 0 : _a.runWith([this._currentReward, false]);
        this.Hide();
    }
    _OnClickWatchAd(evt) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            evt.stopPropagation();
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].TrigerBtnClick();
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.RecordEvent('ad_sign', {});
            let result = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShowRewardVideoAdAsync();
            if (result) {
                _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.isSigned = true;
                _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.signDayCount++;
                _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].SaveToDisk();
                (_a = this._cacheConfig.onSign) === null || _a === void 0 ? void 0 : _a.runWith([this._currentReward, true]);
                this.Hide();
            }
        });
    }
    _OnClickClose() {
        if (_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].instance.isSigned) {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].TrigerBtnClick();
            this.Hide();
        }
        else {
            this._OnClickGet();
        }
    }
    _OnHide() {
        var _a;
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.HideBannerAd();
        (_a = this._cacheConfig.onClose) === null || _a === void 0 ? void 0 : _a.run();
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/Mediator/LTG_UI_TrySkinMediator.ts":
/*!*************************************************************!*\
  !*** ./src/LTG_CommonUI/Mediator/LTG_UI_TrySkinMediator.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_TrySkinMediator; });
/* harmony import */ var _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSceneDisplay */ "./src/LTGame/UIExt/Cmp/CmpSceneDisplay.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSimpleLoader */ "./src/LTGame/UIExt/Cmp/CmpSimpleLoader.ts");
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _script_common_GameData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../script/common/GameData */ "./src/script/common/GameData.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _UI_LTCom_LTG_UI_TrySkin__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../UI/LTCom/LTG_UI_TrySkin */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_TrySkin.ts");










class LTG_UI_TrySkinMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_5__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTG_UI_TrySkinMediator();
            this._instance._classDefine = _UI_LTCom_LTG_UI_TrySkin__WEBPACK_IMPORTED_MODULE_9__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._cacheData = this._openParam;
        if (this._cacheData == null) {
            throw new Error("请调用LTG_Com_TrySkinData进行界面打开操作");
        }
        if (this._cacheData.tryProgress) {
            this.ui.m_view.m_progress.text = this._cacheData.tryProgress;
        }
        else {
            this.ui.m_view.visible = false;
        }
        // this.ui.m_view.m_loader_title.url = this._cacheData.tryConfig.intro_url;
        this.ui.m_btn_no.onClick(this, this._OnClickClose);
        this.ui.m_btn_try.onClick(this, this._OnClickWatchAd);
        if (this._cacheData.tryData && this._cacheData.tryData.display_model_path) {
            this._cacheData.tryIcon = null;
            this._cacheData.modelPath = this._cacheData.tryData.display_model_path;
            this._displayScene = new _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_3__["CmpSceneDisplay"](this.ui.m_img_display);
            this._CreateScene();
        }
        else if (this._cacheData.tryIcon) {
            this.ui.m_img_display.icon = this._cacheData.tryIcon;
        }
        else {
            this._displayScene = new _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_3__["CmpSceneDisplay"](this.ui.m_img_display);
            this._CreateScene();
        }
        this.initBtns();
    }
    initBtns() {
        this.ui.m_btn_no.m_bg.visible = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].TT || _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.isInCheck;
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.isInCheck)
            return;
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].Vivo || _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].Oppo) {
            this.ui.m_state.selectedIndex = 2;
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.HideBannerAd();
        }
        else {
            this.ui.m_state.selectedIndex = _script_common_GameData__WEBPACK_IMPORTED_MODULE_7__["default"].instance.curLv % 2;
        }
    }
    _CreateScene() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].ShowLoading('资源加载中');
            yield this._displayScene.LoadScene('ZS_EggUnlock');
            this._displayScene.camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
            this._displayPlayer = new _LTGame_UIExt_Cmp_CmpSimpleLoader__WEBPACK_IMPORTED_MODULE_4__["CmpSimpleLoader"](_LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_0__["LTUtils"].FindChild(this._displayScene.s3d, 'ZS_01/xuanzhuan/jiaose'));
            yield this._displayPlayer.LoadObj(this._cacheData.modelPath);
            //this._displayPlayer.loadObj.transform.localScale = new Laya.Vector3(1,1,1);
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].HideLoading();
        });
    }
    _OnHide() {
        var _a;
        (_a = this._displayScene) === null || _a === void 0 ? void 0 : _a.Dispose();
    }
    _OnClickClose() {
        var _a;
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].TrigerBtnClick();
        this.Hide();
        (_a = this._cacheData.onClose) === null || _a === void 0 ? void 0 : _a.runWith(false);
    }
    _OnClickWatchAd(evt) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            evt.stopPropagation();
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].TrigerBtnClick();
            let result = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ShowRewardVideoAdAsync();
            if (result) {
                this.Hide();
                (_a = this._cacheData.onClose) === null || _a === void 0 ? void 0 : _a.runWith(true);
            }
        });
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTComBinder.ts":
/*!**************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTComBinder.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTComBinder; });
/* harmony import */ var _LTG_UI_Set__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LTG_UI_Set */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Set.ts");
/* harmony import */ var _LTG_UI_Notice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LTG_UI_Notice */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Notice.ts");
/* harmony import */ var _LTG_UI_view_notice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LTG_UI_view_notice */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_notice.ts");
/* harmony import */ var _LTG_UI_AddShortcut__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LTG_UI_AddShortcut */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_AddShortcut.ts");
/* harmony import */ var _LTG_UI_Roll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LTG_UI_Roll */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Roll.ts");
/* harmony import */ var _LTG_UI_btn_watchad_roll__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LTG_UI_btn_watchad_roll */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_watchad_roll.ts");
/* harmony import */ var _LTG_UI_item_view_roll__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./LTG_UI_item_view_roll */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_item_view_roll.ts");
/* harmony import */ var _LTG_UI_view_roll_panel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LTG_UI_view_roll_panel */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_roll_panel.ts");
/* harmony import */ var _LTG_UI_view_roll__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LTG_UI_view_roll */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_roll.ts");
/* harmony import */ var _LTG_UI_WatchDY__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LTG_UI_WatchDY */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_WatchDY.ts");
/* harmony import */ var _LTG_UI_view_watchdy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./LTG_UI_view_watchdy */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_watchdy.ts");
/* harmony import */ var _LTG_UI_Sign__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LTG_UI_Sign */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Sign.ts");
/* harmony import */ var _LTG_UI_view_sign__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LTG_UI_view_sign */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_sign.ts");
/* harmony import */ var _LTG_UI_view_item_sign_01__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LTG_UI_view_item_sign_01 */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_sign_01.ts");
/* harmony import */ var _LTG_UI_btn_normalg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./LTG_UI_btn_normalg */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_normalg.ts");
/* harmony import */ var _LTG_UI_view_title_set__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./LTG_UI_view_title_set */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_title_set.ts");
/* harmony import */ var _LTG_UI_HideMenu__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LTG_UI_HideMenu */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_HideMenu.ts");
/* harmony import */ var _LTG_UI_view_hidemenu__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./LTG_UI_view_hidemenu */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_hidemenu.ts");
/* harmony import */ var _LTG_UI_toggle_01__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./LTG_UI_toggle_01 */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_toggle_01.ts");
/* harmony import */ var _LTG_UI_view_set__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./LTG_UI_view_set */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_set.ts");
/* harmony import */ var _LTG_UI_RewardCode__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./LTG_UI_RewardCode */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_RewardCode.ts");
/* harmony import */ var _LTG_UI_view_rewardcode__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./LTG_UI_view_rewardcode */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_rewardcode.ts");
/* harmony import */ var _LTG_UI_TrySkin__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./LTG_UI_TrySkin */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_TrySkin.ts");
/* harmony import */ var _LTG_UI_VideoList__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./LTG_UI_VideoList */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_VideoList.ts");
/* harmony import */ var _LTG_UI_top3__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./LTG_UI_top3 */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_top3.ts");
/* harmony import */ var _LTG_UI_iconVdieo__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./LTG_UI_iconVdieo */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_iconVdieo.ts");
/* harmony import */ var _LTG_UI_videoItem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./LTG_UI_videoItem */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_videoItem.ts");
/* harmony import */ var _LTG_UI_normal_btn__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./LTG_UI_normal_btn */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_normal_btn.ts");
/* harmony import */ var _LTG_UI_RankList__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./LTG_UI_RankList */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_RankList.ts");
/* harmony import */ var _LTG_UI_view_item_sign_08__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./LTG_UI_view_item_sign_08 */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_sign_08.ts");
/* harmony import */ var _LTG_UI_common_ad_btn__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./LTG_UI_common_ad_btn */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_common_ad_btn.ts");
/* harmony import */ var _LTG_UI_btn_morediamond__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./LTG_UI_btn_morediamond */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_morediamond.ts");
/* harmony import */ var _LTG_UI_Win__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./LTG_UI_Win */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Win.ts");
/* harmony import */ var _LTG_UI_image_bar__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./LTG_UI_image_bar */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_image_bar.ts");
/* harmony import */ var _LTG_UI_btn_unlock_ad_01__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./LTG_UI_btn_unlock_ad_01 */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_unlock_ad_01.ts");
/* harmony import */ var _LTG_UI_view_unlock_progress__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./LTG_UI_view_unlock_progress */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_unlock_progress.ts");
/* harmony import */ var _LTG_UI_EggUnlock__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./LTG_UI_EggUnlock */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggUnlock.ts");
/* harmony import */ var _LTG_UI_view_enter_code__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./LTG_UI_view_enter_code */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_enter_code.ts");
/* harmony import */ var _LTG_UI_UnlockItem__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./LTG_UI_UnlockItem */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_UnlockItem.ts");
/* harmony import */ var _LTG_UI_btn_unlock_ad__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./LTG_UI_btn_unlock_ad */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_unlock_ad.ts");
/* harmony import */ var _LTG_UI_btn_refuse__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./LTG_UI_btn_refuse */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_refuse.ts");
/* harmony import */ var _LTG_UI_view_unlock__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./LTG_UI_view_unlock */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_unlock.ts");
/* harmony import */ var _LTG_UI_scrollText__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./LTG_UI_scrollText */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_scrollText.ts");
/* harmony import */ var _LTG_UI_ScreenShoot__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./LTG_UI_ScreenShoot */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_ScreenShoot.ts");
/* harmony import */ var _LTG_UI_EggWall__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./LTG_UI_EggWall */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggWall.ts");
/* harmony import */ var _LTG_UI_view_item_egg1__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./LTG_UI_view_item_egg1 */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_egg1.ts");
/* harmony import */ var _LTG_UI_view_screenshoot_new__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./LTG_UI_view_screenshoot_new */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_screenshoot_new.ts");
/* harmony import */ var _LTG_UI_view_shortcut__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./LTG_UI_view_shortcut */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_shortcut.ts");
/* harmony import */ var _LTG_UI_btn_next_2__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./LTG_UI_btn_next_2 */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_next_2.ts");
/* harmony import */ var _LTG_UI_btn_get__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./LTG_UI_btn_get */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_get.ts");
/* harmony import */ var _LTG_UI_try_view__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./LTG_UI_try_view */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_try_view.ts");
/* harmony import */ var _LTG_UI_EggDetail__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./LTG_UI_EggDetail */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggDetail.ts");
/* harmony import */ var _LTG_UI_Statement__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./LTG_UI_Statement */ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Statement.ts");
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/





















































class LTComBinder {
    static bindAll() {
        fgui.UIObjectFactory.setExtension(_LTG_UI_Set__WEBPACK_IMPORTED_MODULE_0__["default"].URL, _LTG_UI_Set__WEBPACK_IMPORTED_MODULE_0__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_Notice__WEBPACK_IMPORTED_MODULE_1__["default"].URL, _LTG_UI_Notice__WEBPACK_IMPORTED_MODULE_1__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_notice__WEBPACK_IMPORTED_MODULE_2__["default"].URL, _LTG_UI_view_notice__WEBPACK_IMPORTED_MODULE_2__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_AddShortcut__WEBPACK_IMPORTED_MODULE_3__["default"].URL, _LTG_UI_AddShortcut__WEBPACK_IMPORTED_MODULE_3__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_Roll__WEBPACK_IMPORTED_MODULE_4__["default"].URL, _LTG_UI_Roll__WEBPACK_IMPORTED_MODULE_4__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_watchad_roll__WEBPACK_IMPORTED_MODULE_5__["default"].URL, _LTG_UI_btn_watchad_roll__WEBPACK_IMPORTED_MODULE_5__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_item_view_roll__WEBPACK_IMPORTED_MODULE_6__["default"].URL, _LTG_UI_item_view_roll__WEBPACK_IMPORTED_MODULE_6__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_roll_panel__WEBPACK_IMPORTED_MODULE_7__["default"].URL, _LTG_UI_view_roll_panel__WEBPACK_IMPORTED_MODULE_7__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_roll__WEBPACK_IMPORTED_MODULE_8__["default"].URL, _LTG_UI_view_roll__WEBPACK_IMPORTED_MODULE_8__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_WatchDY__WEBPACK_IMPORTED_MODULE_9__["default"].URL, _LTG_UI_WatchDY__WEBPACK_IMPORTED_MODULE_9__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_watchdy__WEBPACK_IMPORTED_MODULE_10__["default"].URL, _LTG_UI_view_watchdy__WEBPACK_IMPORTED_MODULE_10__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_Sign__WEBPACK_IMPORTED_MODULE_11__["default"].URL, _LTG_UI_Sign__WEBPACK_IMPORTED_MODULE_11__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_sign__WEBPACK_IMPORTED_MODULE_12__["default"].URL, _LTG_UI_view_sign__WEBPACK_IMPORTED_MODULE_12__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_item_sign_01__WEBPACK_IMPORTED_MODULE_13__["default"].URL, _LTG_UI_view_item_sign_01__WEBPACK_IMPORTED_MODULE_13__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_normalg__WEBPACK_IMPORTED_MODULE_14__["default"].URL, _LTG_UI_btn_normalg__WEBPACK_IMPORTED_MODULE_14__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_title_set__WEBPACK_IMPORTED_MODULE_15__["default"].URL, _LTG_UI_view_title_set__WEBPACK_IMPORTED_MODULE_15__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_HideMenu__WEBPACK_IMPORTED_MODULE_16__["default"].URL, _LTG_UI_HideMenu__WEBPACK_IMPORTED_MODULE_16__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_hidemenu__WEBPACK_IMPORTED_MODULE_17__["default"].URL, _LTG_UI_view_hidemenu__WEBPACK_IMPORTED_MODULE_17__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_toggle_01__WEBPACK_IMPORTED_MODULE_18__["default"].URL, _LTG_UI_toggle_01__WEBPACK_IMPORTED_MODULE_18__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_set__WEBPACK_IMPORTED_MODULE_19__["default"].URL, _LTG_UI_view_set__WEBPACK_IMPORTED_MODULE_19__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_RewardCode__WEBPACK_IMPORTED_MODULE_20__["default"].URL, _LTG_UI_RewardCode__WEBPACK_IMPORTED_MODULE_20__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_rewardcode__WEBPACK_IMPORTED_MODULE_21__["default"].URL, _LTG_UI_view_rewardcode__WEBPACK_IMPORTED_MODULE_21__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_TrySkin__WEBPACK_IMPORTED_MODULE_22__["default"].URL, _LTG_UI_TrySkin__WEBPACK_IMPORTED_MODULE_22__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_VideoList__WEBPACK_IMPORTED_MODULE_23__["default"].URL, _LTG_UI_VideoList__WEBPACK_IMPORTED_MODULE_23__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_top3__WEBPACK_IMPORTED_MODULE_24__["default"].URL, _LTG_UI_top3__WEBPACK_IMPORTED_MODULE_24__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_iconVdieo__WEBPACK_IMPORTED_MODULE_25__["default"].URL, _LTG_UI_iconVdieo__WEBPACK_IMPORTED_MODULE_25__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_videoItem__WEBPACK_IMPORTED_MODULE_26__["default"].URL, _LTG_UI_videoItem__WEBPACK_IMPORTED_MODULE_26__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_normal_btn__WEBPACK_IMPORTED_MODULE_27__["default"].URL, _LTG_UI_normal_btn__WEBPACK_IMPORTED_MODULE_27__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_RankList__WEBPACK_IMPORTED_MODULE_28__["default"].URL, _LTG_UI_RankList__WEBPACK_IMPORTED_MODULE_28__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_item_sign_08__WEBPACK_IMPORTED_MODULE_29__["default"].URL, _LTG_UI_view_item_sign_08__WEBPACK_IMPORTED_MODULE_29__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_common_ad_btn__WEBPACK_IMPORTED_MODULE_30__["default"].URL, _LTG_UI_common_ad_btn__WEBPACK_IMPORTED_MODULE_30__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_morediamond__WEBPACK_IMPORTED_MODULE_31__["default"].URL, _LTG_UI_btn_morediamond__WEBPACK_IMPORTED_MODULE_31__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_Win__WEBPACK_IMPORTED_MODULE_32__["default"].URL, _LTG_UI_Win__WEBPACK_IMPORTED_MODULE_32__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_image_bar__WEBPACK_IMPORTED_MODULE_33__["default"].URL, _LTG_UI_image_bar__WEBPACK_IMPORTED_MODULE_33__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_unlock_ad_01__WEBPACK_IMPORTED_MODULE_34__["default"].URL, _LTG_UI_btn_unlock_ad_01__WEBPACK_IMPORTED_MODULE_34__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_unlock_progress__WEBPACK_IMPORTED_MODULE_35__["default"].URL, _LTG_UI_view_unlock_progress__WEBPACK_IMPORTED_MODULE_35__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_EggUnlock__WEBPACK_IMPORTED_MODULE_36__["default"].URL, _LTG_UI_EggUnlock__WEBPACK_IMPORTED_MODULE_36__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_enter_code__WEBPACK_IMPORTED_MODULE_37__["default"].URL, _LTG_UI_view_enter_code__WEBPACK_IMPORTED_MODULE_37__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_UnlockItem__WEBPACK_IMPORTED_MODULE_38__["default"].URL, _LTG_UI_UnlockItem__WEBPACK_IMPORTED_MODULE_38__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_unlock_ad__WEBPACK_IMPORTED_MODULE_39__["default"].URL, _LTG_UI_btn_unlock_ad__WEBPACK_IMPORTED_MODULE_39__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_refuse__WEBPACK_IMPORTED_MODULE_40__["default"].URL, _LTG_UI_btn_refuse__WEBPACK_IMPORTED_MODULE_40__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_unlock__WEBPACK_IMPORTED_MODULE_41__["default"].URL, _LTG_UI_view_unlock__WEBPACK_IMPORTED_MODULE_41__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_scrollText__WEBPACK_IMPORTED_MODULE_42__["default"].URL, _LTG_UI_scrollText__WEBPACK_IMPORTED_MODULE_42__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_ScreenShoot__WEBPACK_IMPORTED_MODULE_43__["default"].URL, _LTG_UI_ScreenShoot__WEBPACK_IMPORTED_MODULE_43__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_EggWall__WEBPACK_IMPORTED_MODULE_44__["default"].URL, _LTG_UI_EggWall__WEBPACK_IMPORTED_MODULE_44__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_item_egg1__WEBPACK_IMPORTED_MODULE_45__["default"].URL, _LTG_UI_view_item_egg1__WEBPACK_IMPORTED_MODULE_45__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_screenshoot_new__WEBPACK_IMPORTED_MODULE_46__["default"].URL, _LTG_UI_view_screenshoot_new__WEBPACK_IMPORTED_MODULE_46__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_view_shortcut__WEBPACK_IMPORTED_MODULE_47__["default"].URL, _LTG_UI_view_shortcut__WEBPACK_IMPORTED_MODULE_47__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_next_2__WEBPACK_IMPORTED_MODULE_48__["default"].URL, _LTG_UI_btn_next_2__WEBPACK_IMPORTED_MODULE_48__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_btn_get__WEBPACK_IMPORTED_MODULE_49__["default"].URL, _LTG_UI_btn_get__WEBPACK_IMPORTED_MODULE_49__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_try_view__WEBPACK_IMPORTED_MODULE_50__["default"].URL, _LTG_UI_try_view__WEBPACK_IMPORTED_MODULE_50__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_EggDetail__WEBPACK_IMPORTED_MODULE_51__["default"].URL, _LTG_UI_EggDetail__WEBPACK_IMPORTED_MODULE_51__["default"]);
        fgui.UIObjectFactory.setExtension(_LTG_UI_Statement__WEBPACK_IMPORTED_MODULE_52__["default"].URL, _LTG_UI_Statement__WEBPACK_IMPORTED_MODULE_52__["default"]);
    }
}


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_AddShortcut.ts":
/*!*********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_AddShortcut.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_AddShortcut; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_AddShortcut extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "AddShortcut"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
        this.m_btn_back = (this.getChildAt(2));
    }
}
LTG_UI_AddShortcut.URL = "ui://hbq27te38gel17";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggDetail.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggDetail.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_EggDetail; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_EggDetail extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "EggDetail"));
    }
    onConstruct() {
        this.m_btn_ok = (this.getChildAt(4));
        this.m_txt_info = (this.getChildAt(5));
        this.m_display = (this.getChildAt(6));
    }
}
LTG_UI_EggDetail.URL = "ui://hbq27te3x4fgf6";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggUnlock.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggUnlock.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_EggUnlock; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_EggUnlock extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "EggUnlock"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_img_display = (this.getChildAt(2));
        this.m_view_unlock_progress = (this.getChildAt(3));
        this.m_btn_giveup = (this.getChildAt(4));
        this.m_btn_unlock_ad = (this.getChildAt(5));
    }
}
LTG_UI_EggUnlock.URL = "ui://hbq27te3mwzx95";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggWall.ts":
/*!*****************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_EggWall.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_EggWall; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_EggWall extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "EggWall"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_img_display = (this.getChildAt(3));
        this.m_img_bg1 = (this.getChildAt(4));
        this.m_list_view = (this.getChildAt(5));
        this.m_view_entercode = (this.getChildAt(6));
        this.m_btn_back = (this.getChildAt(7));
    }
}
LTG_UI_EggWall.URL = "ui://hbq27te3x4fgd3";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_HideMenu.ts":
/*!******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_HideMenu.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_HideMenu; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_HideMenu extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "HideMenu"));
    }
    onConstruct() {
        this.m_btn_show = (this.getChildAt(0));
        this.m_view_menu = (this.getChildAt(1));
        this.m_anim_show_menu = this.getTransitionAt(0);
        this.m_anim_hide_menu = this.getTransitionAt(1);
    }
}
LTG_UI_HideMenu.URL = "ui://hbq27te38gel60";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Notice.ts":
/*!****************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_Notice.ts ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_Notice; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_Notice extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "Notice"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
    }
}
LTG_UI_Notice.URL = "ui://hbq27te38gel10";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_RankList.ts":
/*!******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_RankList.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_RankList; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_RankList extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "RankList"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_txt_rank = (this.getChildAt(3));
        this.m_txt_nikename = (this.getChildAt(4));
        this.m_txt_count = (this.getChildAt(5));
        this.m_btn_close = (this.getChildAt(6));
        this.m_btn_pre = (this.getChildAt(7));
        this.m_btn_next = (this.getChildAt(8));
        this.m_openView = (this.getChildAt(9));
    }
}
LTG_UI_RankList.URL = "ui://hbq27te3e6qp8a";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_RewardCode.ts":
/*!********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_RewardCode.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_RewardCode; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_RewardCode extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "RewardCode"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
    }
}
LTG_UI_RewardCode.URL = "ui://hbq27te38gelp";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Roll.ts":
/*!**************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_Roll.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_Roll; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_Roll extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "Roll"));
    }
    onConstruct() {
        this.m_plat = this.getControllerAt(0);
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
        this.m_btn_no = (this.getChildAt(2));
        this.m_btn_close = (this.getChildAt(3));
        this.m_btn_roll = (this.getChildAt(4));
    }
}
LTG_UI_Roll.URL = "ui://hbq27te38gel3k";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_ScreenShoot.ts":
/*!*********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_ScreenShoot.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_ScreenShoot; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_ScreenShoot extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "ScreenShoot"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
        this.m_img_cover = (this.getChildAt(2));
        this.m_anim_cover = this.getTransitionAt(0);
    }
}
LTG_UI_ScreenShoot.URL = "ui://hbq27te3t2mg74";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Set.ts":
/*!*************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_Set.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_Set; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_Set extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "Set"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
    }
}
LTG_UI_Set.URL = "ui://hbq27te38gel1";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Sign.ts":
/*!**************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_Sign.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_Sign; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_Sign extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "Sign"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
        this.m_btn_close = (this.getChildAt(2));
        this.m_anim_enter = this.getTransitionAt(0);
        this.m_anim_exit = this.getTransitionAt(1);
    }
}
LTG_UI_Sign.URL = "ui://hbq27te38gel4v";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Statement.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_Statement.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_Statement; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_Statement extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "Statement"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(0);
        this.m_txt = (this.getChildAt(2));
        this.m_btn_confirm = (this.getChildAt(4));
        this.m_btn_cancel = (this.getChildAt(5));
        this.m_btn_ok = (this.getChildAt(6));
    }
}
LTG_UI_Statement.URL = "ui://hbq27te3y1nvbz";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_TrySkin.ts":
/*!*****************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_TrySkin.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_TrySkin; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_TrySkin extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "TrySkin"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(0);
        this.m_img_bg = (this.getChildAt(0));
        this.m_img_display = (this.getChildAt(2));
        this.m_view = (this.getChildAt(3));
        this.m_btn_no = (this.getChildAt(4));
        this.m_btn_try = (this.getChildAt(5));
        this.m___nativeinpage = (this.getChildAt(6));
    }
}
LTG_UI_TrySkin.URL = "ui://hbq27te3bl1a8a";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_UnlockItem.ts":
/*!********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_UnlockItem.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_UnlockItem; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_UnlockItem extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "UnlockItem"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
    }
}
LTG_UI_UnlockItem.URL = "ui://hbq27te3n2g16s";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_VideoList.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_VideoList.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_VideoList; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_VideoList extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "VideoList"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_item1 = (this.getChildAt(5));
        this.m_item2 = (this.getChildAt(6));
        this.m_item3 = (this.getChildAt(7));
        this.m_list = (this.getChildAt(8));
        this.m_btn_back = (this.getChildAt(9));
        this.m_btn_like = (this.getChildAt(10));
        this.m_btn_new = (this.getChildAt(11));
        this.m_btn_create = (this.getChildAt(12));
    }
}
LTG_UI_VideoList.URL = "ui://hbq27te3cx1n7i";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_WatchDY.ts":
/*!*****************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_WatchDY.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_WatchDY; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_WatchDY extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "WatchDY"));
    }
    onConstruct() {
        this.m_img_bg = (this.getChildAt(0));
        this.m_view = (this.getChildAt(1));
        this.m_btn_close = (this.getChildAt(2));
        this.m_anim_enter = this.getTransitionAt(0);
    }
}
LTG_UI_WatchDY.URL = "ui://hbq27te38gel46";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_Win.ts":
/*!*************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_Win.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_Win; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_Win extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "Win"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(0);
        this.m_btn_normalget = (this.getChildAt(2));
        this.m_btn_multiget = (this.getChildAt(3));
        this.m_unlock_progress = (this.getChildAt(4));
        this.m___nativeinpage = (this.getChildAt(5));
        this.m_t0 = this.getTransitionAt(0);
    }
}
LTG_UI_Win.URL = "ui://hbq27te3fig0bi";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_get.ts":
/*!*****************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_get.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_get; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_get extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_get"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_ad = (this.getChildAt(1));
        this.m_t4 = this.getTransitionAt(0);
    }
}
LTG_UI_btn_get.URL = "ui://hbq27te3x4fge1";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_morediamond.ts":
/*!*************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_morediamond.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_morediamond; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_morediamond extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_morediamond"));
    }
    onConstruct() {
        this.m_ad = this.getControllerAt(0);
        this.m_color = this.getControllerAt(1);
        this.m_img_coin = (this.getChildAt(5));
        this.m_text_value = (this.getChildAt(6));
        this.m_rate = (this.getChildAt(8));
        this.m_t0 = this.getTransitionAt(0);
    }
}
LTG_UI_btn_morediamond.URL = "ui://hbq27te3fig0ar";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_next_2.ts":
/*!********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_next_2.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_next_2; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_next_2 extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_next_2"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_t4 = this.getTransitionAt(0);
    }
}
LTG_UI_btn_next_2.URL = "ui://hbq27te3x4fgdw";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_normalg.ts":
/*!*********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_normalg.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_normalg; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_normalg extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_normalg"));
    }
    onConstruct() {
        this.m_red = this.getControllerAt(0);
        this.m_bg = (this.getChildAt(0));
    }
}
LTG_UI_btn_normalg.URL = "ui://hbq27te38gel5s";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_refuse.ts":
/*!********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_refuse.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_refuse; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_refuse extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_refuse"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
    }
}
LTG_UI_btn_refuse.URL = "ui://hbq27te3n2g171";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_unlock_ad.ts":
/*!***********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_unlock_ad.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_unlock_ad; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_unlock_ad extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_unlock_ad"));
    }
    onConstruct() {
        this.m_text_progress = (this.getChildAt(3));
    }
}
LTG_UI_btn_unlock_ad.URL = "ui://hbq27te3n2g170";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_unlock_ad_01.ts":
/*!**************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_unlock_ad_01.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_unlock_ad_01; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_unlock_ad_01 extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_unlock_ad_01"));
    }
    onConstruct() {
        this.m_text_value = (this.getChildAt(3));
    }
}
LTG_UI_btn_unlock_ad_01.URL = "ui://hbq27te3mwzx92";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_watchad_roll.ts":
/*!**************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_btn_watchad_roll.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_btn_watchad_roll; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_btn_watchad_roll extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "btn_watchad_roll"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_adicon = (this.getChildAt(2));
        this.m_t0 = this.getTransitionAt(0);
    }
}
LTG_UI_btn_watchad_roll.URL = "ui://hbq27te38gel3w";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_common_ad_btn.ts":
/*!***********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_common_ad_btn.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_common_ad_btn; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_common_ad_btn extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "common_ad_btn"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_t0 = this.getTransitionAt(0);
    }
}
LTG_UI_common_ad_btn.URL = "ui://hbq27te3fig0a6";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_iconVdieo.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_iconVdieo.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_iconVdieo; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_iconVdieo extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "iconVdieo"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(1));
    }
}
LTG_UI_iconVdieo.URL = "ui://hbq27te3cx1n7q";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_image_bar.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_image_bar.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_image_bar; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_image_bar extends fgui.GProgressBar {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "image_bar"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
    }
}
LTG_UI_image_bar.URL = "ui://hbq27te3fig0bl";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_item_view_roll.ts":
/*!************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_item_view_roll.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_item_view_roll; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_item_view_roll extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "item_view_roll"));
    }
    onConstruct() {
        this.m_text_name = (this.getChildAt(0));
        this.m_loader_icon = (this.getChildAt(1));
    }
}
LTG_UI_item_view_roll.URL = "ui://hbq27te38gel40";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_normal_btn.ts":
/*!********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_normal_btn.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_normal_btn; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_normal_btn extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "normal_btn"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
    }
}
LTG_UI_normal_btn.URL = "ui://hbq27te3cx1n81";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_scrollText.ts":
/*!********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_scrollText.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_scrollText; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_scrollText extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "scrollText"));
    }
    onConstruct() {
        this.m_txt_content = (this.getChildAt(0));
    }
}
LTG_UI_scrollText.URL = "ui://hbq27te3q1befa";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_toggle_01.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_toggle_01.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_toggle_01; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_toggle_01 extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "toggle_01"));
    }
    onConstruct() {
        this.m_toggle_state = this.getControllerAt(0);
    }
}
LTG_UI_toggle_01.URL = "ui://hbq27te38gelc";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_top3.ts":
/*!**************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_top3.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_top3; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_top3 extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "top3"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_icon = (this.getChildAt(2));
        this.m_rank = (this.getChildAt(4));
        this.m_digs = (this.getChildAt(5));
        this.m_nickname = (this.getChildAt(7));
    }
}
LTG_UI_top3.URL = "ui://hbq27te3cx1n7n";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_try_view.ts":
/*!******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_try_view.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_try_view; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_try_view extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "try_view"));
    }
    onConstruct() {
        this.m_progress = (this.getChildAt(1));
    }
}
LTG_UI_try_view.URL = "ui://hbq27te3x4fge6";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_videoItem.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_videoItem.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_videoItem; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_videoItem extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "videoItem"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(2));
        this.m_nickname = (this.getChildAt(5));
        this.m_digs = (this.getChildAt(6));
    }
}
LTG_UI_videoItem.URL = "ui://hbq27te3cx1n7y";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_enter_code.ts":
/*!*************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_enter_code.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_enter_code; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_enter_code extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_enter_code"));
    }
    onConstruct() {
        this.m_text_code = (this.getChildAt(2));
        this.m_btn_duihuan = (this.getChildAt(3));
    }
}
LTG_UI_view_enter_code.URL = "ui://hbq27te3n2g16q";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_hidemenu.ts":
/*!***********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_hidemenu.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_hidemenu; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_hidemenu extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_hidemenu"));
    }
    onConstruct() {
        this.m_btn_notice = (this.getChildAt(1));
        this.m_btn_addshortcut = (this.getChildAt(2));
        this.m_btn_findgame = (this.getChildAt(3));
        this.m_btn_hide = (this.getChildAt(4));
    }
}
LTG_UI_view_hidemenu.URL = "ui://hbq27te38gel67";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_egg1.ts":
/*!************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_egg1.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_item_egg1; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_item_egg1 extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_item_egg1"));
    }
    onConstruct() {
        this.m_state_lock = this.getControllerAt(0);
        this.m_img_selected = this.getControllerAt(1);
        this.m_loader_icon = (this.getChildAt(2));
        this.m_txt_name = (this.getChildAt(3));
        this.m_btn_reward_video = (this.getChildAt(5));
        this.m_btn_get_detail = (this.getChildAt(6));
    }
}
LTG_UI_view_item_egg1.URL = "ui://hbq27te3x4fgd6";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_sign_01.ts":
/*!***************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_sign_01.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_item_sign_01; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_item_sign_01 extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_item_sign_01"));
    }
    onConstruct() {
        this.m_state_get = this.getControllerAt(0);
        this.m_state_day = this.getControllerAt(1);
        this.m_img_bg = (this.getChildAt(0));
        this.m_img_can_get = (this.getChildAt(1));
        this.m_img_got = (this.getChildAt(2));
        this.m_loader_icon = (this.getChildAt(3));
        this.m_text_day = (this.getChildAt(4));
        this.m_text_name = (this.getChildAt(5));
    }
}
LTG_UI_view_item_sign_01.URL = "ui://hbq27te38gel4z";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_sign_08.ts":
/*!***************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_item_sign_08.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_item_sign_08; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_item_sign_08 extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_item_sign_08"));
    }
    onConstruct() {
        this.m_state_get = this.getControllerAt(0);
        this.m_loader_icon = (this.getChildAt(0));
        this.m_text_day = (this.getChildAt(1));
        this.m_img_got = (this.getChildAt(2));
        this.m_img_can_get = (this.getChildAt(3));
    }
}
LTG_UI_view_item_sign_08.URL = "ui://hbq27te3fig0a3";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_notice.ts":
/*!*********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_notice.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_notice; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_notice extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_notice"));
    }
    onConstruct() {
        this.m_text_notice = (this.getChildAt(4));
        this.m_btn_close = (this.getChildAt(5));
    }
}
LTG_UI_view_notice.URL = "ui://hbq27te38gel16";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_rewardcode.ts":
/*!*************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_rewardcode.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_rewardcode; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_rewardcode extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_rewardcode"));
    }
    onConstruct() {
        this.m_btn_confirm = (this.getChildAt(4));
        this.m_btn_cancel = (this.getChildAt(5));
        this.m_text_input = (this.getChildAt(7));
    }
}
LTG_UI_view_rewardcode.URL = "ui://hbq27te38gely";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_roll.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_roll.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_roll; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_roll extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_roll"));
    }
    onConstruct() {
        this.m_view_roll = (this.getChildAt(0));
        this.m_progress_supper = (this.getChildAt(2));
        this.m_text_notice = (this.getChildAt(4));
    }
}
LTG_UI_view_roll.URL = "ui://hbq27te38gel42";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_roll_panel.ts":
/*!*************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_roll_panel.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_roll_panel; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_roll_panel extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_roll_panel"));
    }
    onConstruct() {
        this.m_item_01 = (this.getChildAt(1));
        this.m_item_02 = (this.getChildAt(2));
        this.m_item_03 = (this.getChildAt(3));
        this.m_item_04 = (this.getChildAt(4));
        this.m_item_05 = (this.getChildAt(5));
        this.m_item_06 = (this.getChildAt(6));
    }
}
LTG_UI_view_roll_panel.URL = "ui://hbq27te38gel41";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_screenshoot_new.ts":
/*!******************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_screenshoot_new.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_screenshoot_new; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_screenshoot_new extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_screenshoot_new"));
    }
    onConstruct() {
        this.m_coin_type = this.getControllerAt(0);
        this.m_img_display = (this.getChildAt(0));
        this.m_view_play = (this.getChildAt(2));
        this.m_btn_share = (this.getChildAt(3));
        this.m_btn_close = (this.getChildAt(4));
        this.m_t0 = this.getTransitionAt(0);
    }
}
LTG_UI_view_screenshoot_new.URL = "ui://hbq27te3x4fgdf";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_set.ts":
/*!******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_set.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_set; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_set extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_set"));
    }
    onConstruct() {
        this.m_toggle_music = (this.getChildAt(4));
        this.m_toggle_shake = (this.getChildAt(5));
        this.m_btn_code = (this.getChildAt(10));
        this.m_btn_close = (this.getChildAt(11));
    }
}
LTG_UI_view_set.URL = "ui://hbq27te38gelo";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_shortcut.ts":
/*!***********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_shortcut.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_shortcut; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_shortcut extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_shortcut"));
    }
    onConstruct() {
        this.m_btn_watch = (this.getChildAt(1));
        this.m_icon = (this.getChildAt(2));
        this.m_btn_follow = (this.getChildAt(4));
        this.m_t0 = this.getTransitionAt(0);
    }
}
LTG_UI_view_shortcut.URL = "ui://hbq27te3x4fgdt";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_sign.ts":
/*!*******************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_sign.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_sign; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_sign extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_sign"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(0);
        this.m_day_1 = (this.getChildAt(3));
        this.m_day_2 = (this.getChildAt(4));
        this.m_day_3 = (this.getChildAt(5));
        this.m_day_4 = (this.getChildAt(6));
        this.m_day_5 = (this.getChildAt(7));
        this.m_day_6 = (this.getChildAt(8));
        this.m_day_7 = (this.getChildAt(9));
        this.m_text_signed = (this.getChildAt(10));
        this.m_btn_normal = (this.getChildAt(11));
        this.m_btn_watchad = (this.getChildAt(12));
    }
}
LTG_UI_view_sign.URL = "ui://hbq27te38gel4w";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_title_set.ts":
/*!************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_title_set.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_title_set; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_title_set extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_title_set"));
    }
    onConstruct() {
        this.m_title_icon = (this.getChildAt(1));
    }
}
LTG_UI_view_title_set.URL = "ui://hbq27te38gel6";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_unlock.ts":
/*!*********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_unlock.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_unlock; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_unlock extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_unlock"));
    }
    onConstruct() {
        this.m_btn_no = (this.getChildAt(1));
        this.m_btn_unlock = (this.getChildAt(2));
        this.m_img_display = (this.getChildAt(3));
        this.m_loader_title = (this.getChildAt(4));
    }
}
LTG_UI_view_unlock.URL = "ui://hbq27te3n2g172";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_unlock_progress.ts":
/*!******************************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_unlock_progress.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_unlock_progress; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_unlock_progress extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_unlock_progress"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(0);
        this.m_loader_01 = (this.getChildAt(5));
        this.m_loader_02 = (this.getChildAt(6));
        this.m_text_01 = (this.getChildAt(7));
        this.m_text_02 = (this.getChildAt(8));
    }
}
LTG_UI_view_unlock_progress.URL = "ui://hbq27te3mwzx94";


/***/ }),

/***/ "./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_watchdy.ts":
/*!**********************************************************!*\
  !*** ./src/LTG_CommonUI/UI/LTCom/LTG_UI_view_watchdy.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTG_UI_view_watchdy; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class LTG_UI_view_watchdy extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("LTCom", "view_watchdy"));
    }
    onConstruct() {
        this.m_btn_follow = (this.getChildAt(1));
        this.m_text_code = (this.getChildAt(2));
        this.m_btn_watch = (this.getChildAt(3));
        this.m_icon = (this.getChildAt(4));
        this.m_t0 = this.getTransitionAt(0);
    }
}
LTG_UI_view_watchdy.URL = "ui://hbq27te38gel4g";


/***/ }),

/***/ "./src/LTGame/Async/Awaiters.ts":
/*!**************************************!*\
  !*** ./src/LTGame/Async/Awaiters.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Awaiters; });
class Awaiters {
    static NextFrame() {
        // 一帧有可能刚好当帧执行,这里跳两帧
        return this.Frames(2);
    }
    static Frames(num) {
        return new Promise(function (resolve) {
            Laya.timer.frameOnce(num, null, () => {
                resolve();
            });
        });
    }
    static Seconds(num) {
        return new Promise(function (resolve) {
            Laya.timer.once(num * 1000, null, () => {
                resolve();
            });
        });
    }
}


/***/ }),

/***/ "./src/LTGame/Commom/CommonEventId.ts":
/*!********************************************!*\
  !*** ./src/LTGame/Commom/CommonEventId.ts ***!
  \********************************************/
/*! exports provided: CommonEventId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommonEventId", function() { return CommonEventId; });
class CommonEventId {
}
CommonEventId.PAUSE_AUDIO = "PAUSE_AUDIO";
CommonEventId.RESUM_AUDIO = "RESUM_AUDIO";
CommonEventId.AD_CONFIG_GETTED = "AD_CONFIG_GETTED";
CommonEventId.SELF_AD_INITED = "SELF_AD_INITED";


/***/ }),

/***/ "./src/LTGame/Commom/CommonProgressData.ts":
/*!*************************************************!*\
  !*** ./src/LTGame/Commom/CommonProgressData.ts ***!
  \*************************************************/
/*! exports provided: CommonProgressData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommonProgressData", function() { return CommonProgressData; });
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _LTUtils_ArrayEx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../LTUtils/ArrayEx */ "./src/LTGame/LTUtils/ArrayEx.ts");


class SaveData {
    constructor() {
        this.saveTags = [];
        this.saveIdArray = [];
        this.saveProgressArray = [];
    }
}
class CommonProgressData {
    constructor(savePath) {
        this._savePath = savePath;
    }
    static get instance() {
        if (this._instance == null) {
            console.error("CommonProgressData尚未初始化,请先调用Init进行初始化");
        }
        return this._instance;
    }
    static Init(saveName) {
        if (this._instance != null) {
            console.error("CommonProgressData不能重复进行初始化");
            return;
        }
        this._instance = new CommonProgressData(saveName);
        this._instance._ReadData();
        console.log('CommonProgressData初始化完成:' + saveName);
    }
    _ReadData() {
        let readStr = Laya.LocalStorage.getJSON(this._savePath);
        this._saveData = new SaveData();
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(readStr)) {
            this._SaveData();
        }
        else {
            let jsonData = JSON.parse(readStr);
            for (let key in jsonData) {
                this._saveData[key] = jsonData[key];
            }
        }
    }
    _SaveData() {
        let json = JSON.stringify(this._saveData);
        Laya.LocalStorage.setJSON(this._savePath, json);
    }
    _GetTagIndex(tag) {
        let saveIndex = this._saveData.saveTags.indexOf(tag);
        if (saveIndex > -1) {
            return saveIndex;
        }
        this._saveData.saveTags.push(tag);
        this._saveData.saveProgressArray.push([]);
        this._saveData.saveIdArray.push([]);
        return this._saveData.saveTags.length - 1;
    }
    _GetIds(tagIndex) {
        if (this._saveData.saveIdArray.length > tagIndex) {
            return this._saveData.saveIdArray[tagIndex];
        }
        console.error("理论上不该触发");
        let newArray = [];
        this._saveData.saveIdArray[tagIndex] = newArray;
        return newArray;
    }
    _GetProgresses(tagIndex) {
        if (this._saveData.saveProgressArray.length > tagIndex) {
            return this._saveData.saveProgressArray[tagIndex];
        }
        console.error("理论上不该触发");
        let newArray = [];
        this._saveData.saveProgressArray[tagIndex] = newArray;
        return newArray;
    }
    AddProgress(tag, id, addProgress = 1) {
        let tagIndex = this._GetTagIndex(tag);
        let idArray = this._GetIds(tagIndex);
        let progressArray = this._GetProgresses(tagIndex);
        let idIndex = idArray.indexOf(id);
        if (idIndex > -1) {
            progressArray[idIndex] += addProgress;
        }
        else {
            idArray.push(id);
            progressArray.push(addProgress);
            idIndex = idArray.length - 1;
        }
        this._SaveData();
        return progressArray[idIndex];
    }
    SetProgress(tag, id, setProgress) {
        let tagIndex = this._GetTagIndex(tag);
        let idArray = this._GetIds(tagIndex);
        let progressArray = this._GetProgresses(tagIndex);
        let idIndex = idArray.indexOf(id);
        if (idIndex > -1) {
            progressArray[idIndex] = setProgress;
        }
        else {
            idArray.push(id);
            progressArray.push(setProgress);
            idIndex = idArray.length - 1;
        }
        this._SaveData();
        return progressArray[idIndex];
    }
    ReadProgress(tag, id, defaultProgress = 0) {
        let tagIndex = this._GetTagIndex(tag);
        let idArray = this._GetIds(tagIndex);
        let progressArray = this._GetProgresses(tagIndex);
        let idIndex = idArray.indexOf(id);
        if (idIndex > -1) {
            return progressArray[idIndex];
        }
        else {
            return defaultProgress;
        }
    }
    ClearProgress(tag, id) {
        let tagIndex = this._GetTagIndex(tag);
        let idArray = this._GetIds(tagIndex);
        let progressArray = this._GetProgresses(tagIndex);
        let idIndex = idArray.indexOf(id);
        if (idIndex > -1) {
            _LTUtils_ArrayEx__WEBPACK_IMPORTED_MODULE_1__["default"].RemoveAt(idArray, idIndex);
            _LTUtils_ArrayEx__WEBPACK_IMPORTED_MODULE_1__["default"].RemoveAt(progressArray, idIndex);
        }
        this._SaveData();
    }
    ClearAll() {
        this._saveData = new SaveData();
        this._SaveData();
    }
}


/***/ }),

/***/ "./src/LTGame/Commom/CommonSaveData.ts":
/*!*********************************************!*\
  !*** ./src/LTGame/Commom/CommonSaveData.ts ***!
  \*********************************************/
/*! exports provided: SaveData, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveData", function() { return SaveData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CommonSaveData; });
/* harmony import */ var _LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");


class SaveData {
    constructor() {
        /**
         * 最后一次打开时间戳
         */
        this.lastOpenTick = 0;
        /**
         * 是否是新的一天
         */
        this.isNewDay = true;
        /**
         * 是否已签到
         */
        this.isSigned = false;
        /**
         * 签到天数
         */
        this.signDayCount = 0;
        /**
         * 音乐是否开启
         */
        this.isMusicOn = true;
        /**
         * 振动是否开启
         */
        this.isShakeOn = true;
        /**
         * 原生插屏展示次数
         */
        this.interstitialCount = 0;
        /**
         * 皮肤试用误点
         * 0 勾中看视频
         * 1 勾中不看视频
         */
        this.trySignMissMode = 0;
        /**
        * 界面开关 误点套路
        */
        this.checkFlag = true;
        /**
         * 结算界面误点
         * 0 勾中看视频
         * 1 勾中不看视频
         */
        this.endRewardMissMode = 0;
        /**
         * 免费抽奖次数
         */
        this.freeRollCount = 1;
        this.totalRollCount = 0;
        /**
         * 限定皮肤观看广告次数
         */
        this.ExSkinAdCount = 0;
        /**
         * 兑换码内容
         */
        this.codeStrList = [];
        /**
         * 与兑换码对应的次数(已观看)
         */
        this.codeADCounts = [];
        /**
        * 达人用户主动填写的渠道号
        */
        this.channelId = '';
        /**
         * 用户唯一id= openid/未登录用户唯一标识
         */
        this.uid = '';
        /** 昵称 */
        this.nickName = '';
        /** 头像 */
        this.avatarUrl = '';
        /**是否已创建桌面 */
        this.hasShotcut = false;
        /**原生误触次数累计 */
        this.nativeClickCount = 0;
    }
}
class CommonSaveData {
    constructor() {
        this._savePath = "ltg-common-save.sav";
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new CommonSaveData();
            this._instance._ReadFromFile();
            this._instance._InitData();
        }
        return this._instance._saveData;
    }
    static SaveToDisk() {
        if (!this._instance)
            return;
        let json = JSON.stringify(this._instance._saveData);
        Laya.LocalStorage.setJSON(this._instance._savePath, json);
    }
    _InitData() {
        this._saveData.isNewDay = false;
        if (this._saveData.lastOpenTick == 0) {
            this._saveData.isNewDay = true;
        }
        else {
            let lastOpenDayCount = _LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_0__["LTUtils"].GetCurrentDayCount(this._saveData.lastOpenTick);
            let currentOpenDayCount = _LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_0__["LTUtils"].GetCurrentDayCount(Date.now());
            if (currentOpenDayCount != lastOpenDayCount) {
                this._saveData.isNewDay = true;
                this._saveData.interstitialCount = 0;
            }
        }
        this._saveData.lastOpenTick = Date.now();
        if (this._saveData.isNewDay) {
            this._saveData.isSigned = false;
            this._saveData.freeRollCount = 1;
            this._saveData.nativeClickCount = 0;
        }
        CommonSaveData.SaveToDisk();
    }
    _ReadFromFile() {
        let readStr = Laya.LocalStorage.getJSON(this._savePath);
        this._saveData = new SaveData();
        if (!_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_1__["default"].IsNullOrEmpty(readStr)) {
            let jsonData = JSON.parse(readStr);
            for (let key in jsonData) {
                this._saveData[key] = jsonData[key];
            }
        }
        console.log('common savedata:', this._saveData);
    }
}


/***/ }),

/***/ "./src/LTGame/Commom/EScreenOrientation.ts":
/*!*************************************************!*\
  !*** ./src/LTGame/Commom/EScreenOrientation.ts ***!
  \*************************************************/
/*! exports provided: EScreenOrientation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EScreenOrientation", function() { return EScreenOrientation; });
var EScreenOrientation;
(function (EScreenOrientation) {
    /**
     * 竖屏
     */
    EScreenOrientation[EScreenOrientation["Portrait"] = 0] = "Portrait";
    /**
     * 横屏
     */
    EScreenOrientation[EScreenOrientation["Landscape"] = 1] = "Landscape";
})(EScreenOrientation || (EScreenOrientation = {}));


/***/ }),

/***/ "./src/LTGame/Config/ConfigManager.ts":
/*!********************************************!*\
  !*** ./src/LTGame/Config/ConfigManager.ts ***!
  \********************************************/
/*! exports provided: ConfigManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigManager", function() { return ConfigManager; });
class ConfigManager {
    static get needLoadCount() {
        return this._configList.length;
    }
    static AddConfig(configName) {
        if (configName.path == null) {
            console.error("错误的配置字段", configName);
            return;
        }
        ConfigManager._configList.push(configName);
    }
    static StartLoad(onFinished, onProgress = null) {
        if (ConfigManager._configList.length == 0) {
            if (onFinished) {
                onFinished.run();
            }
            return;
        }
        let loadUrls = [];
        for (let configName of ConfigManager._configList) {
            loadUrls.push(configName.path);
        }
        Laya.loader.create(loadUrls, Laya.Handler.create(this, () => {
            for (let configName of ConfigManager._configList) {
                configName.data = Laya.loader.getRes(configName.path);
                configName.dataList = [];
                if (configName.isConst) {
                    Object.setPrototypeOf(configName.data, configName.config.prototype);
                }
                else {
                    for (let configKey in configName.data) {
                        let value = configName.data[configKey];
                        if (value != null) {
                            Object.setPrototypeOf(value, configName.config.prototype);
                            configName.dataList.push(value);
                        }
                    }
                    if (configName.dataList.length > 0) {
                        configName.lastData = configName.dataList[configName.dataList.length - 1];
                    }
                }
            }
            if (onFinished) {
                onFinished.run();
            }
        }), onProgress);
    }
}
ConfigManager._configList = [];


/***/ }),

/***/ "./src/LTGame/Config/LoadPackConfig.ts":
/*!*********************************************!*\
  !*** ./src/LTGame/Config/LoadPackConfig.ts ***!
  \*********************************************/
/*! exports provided: LoadPackConfig, EPackType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadPackConfig", function() { return LoadPackConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EPackType", function() { return EPackType; });
class LoadPackConfig {
}
var EPackType;
(function (EPackType) {
    EPackType[EPackType["MainPack"] = 1] = "MainPack";
    EPackType[EPackType["SubPack"] = 2] = "SubPack";
    EPackType[EPackType["Remote"] = 3] = "Remote";
})(EPackType || (EPackType = {}));


/***/ }),

/***/ "./src/LTGame/Fsm/BaseState.ts":
/*!*************************************!*\
  !*** ./src/LTGame/Fsm/BaseState.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BaseState; });
class BaseState {
    constructor(owner, id) {
        this.owner = owner;
        this.id = id;
    }
    GetNextState() {
        if (this.isFinished) {
            return this.nextState;
        }
        return 0;
    }
    OnEnter(exitState, param) {
        this.isFinished = false;
        this.nextState = 0;
        this.passTime = 0;
        this.deltaTime = 0;
        this._DoEnter(exitState, param);
    }
    OnRunning(param, dt) {
        if (this.isFinished)
            return;
        this.deltaTime = dt;
        this.passTime += dt;
        this._DoRunning(param);
    }
    OnExit(enterState, param) {
        this._DoExit(enterState, param);
    }
    _DoEnter(exitStte, param) { }
    _DoRunning(param) { }
    _DoExit(enterState, param) { }
}


/***/ }),

/***/ "./src/LTGame/Fsm/StateMachine.ts":
/*!****************************************!*\
  !*** ./src/LTGame/Fsm/StateMachine.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StateMachine; });
class StateMachine {
    constructor() {
        this._forceChangeState = 0;
        this._states = new Map();
    }
    get count() {
        return this._states.size;
    }
    Add(addState) {
        if (this._states.has(addState.id)) {
            return false;
        }
        this._states.set(addState.id, addState);
        return true;
    }
    Remove(id) {
        return this._states.delete(id);
    }
    RemoveAll() {
        this._states.clear();
        this.currState = null;
    }
    ExitCurrState(param = null) {
        if (null != this.currState) {
            this.currState.OnExit(null, param);
            this.currState = null;
        }
    }
    ChangeState(id, param = null) {
        var state = this.Find(id);
        if (state != null) {
            if (null != this.currState) {
                this.currState.OnExit(state, param);
            }
            this.lastState = this.currState;
            this.currState = state;
            state.OnEnter(this.lastState, param);
            return true;
        }
        console.error("[状态机] 不存在的状态ID:" + id);
        return false;
    }
    SetForceChangeState(id, param = null) {
        this._forceChangeState = id;
        this._forceChangeParam = param;
    }
    LogicUpdate(dt) {
        if (this.currState == null) {
            if (this._forceChangeState != 0) {
                this.ChangeState(this._forceChangeState, this._forceChangeParam);
                this._forceChangeState = 0;
                this._forceChangeParam = null;
                this.OnRunning(null, dt);
            }
            return;
        }
        if (this._forceChangeState != 0) {
            this.ChangeState(this._forceChangeState, this._forceChangeParam);
            this._forceChangeState = 0;
            this._forceChangeParam = null;
            this.OnRunning(null, dt);
            return;
        }
        let nextState = this.currState.GetNextState();
        if (nextState != 0) {
            this.ChangeState(nextState);
        }
        this.OnRunning(null, dt);
    }
    OnRunning(param, dt) {
        if (null == this.currState) {
            return;
        }
        this.currState.OnRunning(param, dt);
    }
    Find(id) {
        return this._states.get(id);
    }
}


/***/ }),

/***/ "./src/LTGame/LTDebug.ts":
/*!*******************************!*\
  !*** ./src/LTGame/LTDebug.ts ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTDebug; });
/* harmony import */ var _LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");


class LTDebug {
    static DrawLine(startPoint, stopPoint, color, during = null) {
        return __awaiter(this, void 0, void 0, function* () {
            let s3d = window['s3d'];
            if (s3d == null) {
                console.error("无s3d对象,无法drawline");
                return;
            }
            let pix = new Laya.PixelLineSprite3D(1);
            pix.addLine(startPoint, stopPoint, color, color);
            s3d.addChild(pix);
            if (during) {
                yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].Seconds(during);
            }
            else {
                yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame();
            }
            pix.destroy();
        });
    }
    static DrawRay(ray, color, during = null) {
        return __awaiter(this, void 0, void 0, function* () {
            this.DrawLine(ray.origin, _LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Add(_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Scale(ray.direction, 100), ray.origin), color, during);
        });
    }
    static PrintNodes(obj, depth = 0) {
        if (obj == null) {
            console.log("null");
            return;
        }
        var printLine = "";
        for (var i = 0; i < depth; ++i) {
            printLine += "--|";
        }
        printLine += obj.name;
        console.log(printLine);
        for (var i = 0; i < obj.numChildren; ++i) {
            this.PrintNodes(obj.getChildAt(i), depth + 1);
        }
    }
    static PrintAvatarNodes(obj, depth = 0) {
        if (obj == null) {
            console.log("null");
            return;
        }
        var printLine = "";
        for (var i = 0; i < depth; ++i) {
            printLine += "--|";
        }
        printLine += obj.name;
        console.log(printLine);
        for (var i = 0; i < obj.getChildCount(); ++i) {
            this.PrintAvatarNodes(obj.getChildByIndex(i), depth + 1);
        }
    }
    static CreateSphere(pos, scale = 0.5, color = Laya.Color.WHITE) {
        let s3d = window['s3d'];
        if (s3d == null) {
            console.error("无s3d对象,无法drawline");
            return;
        }
        //添加自定义模型
        let sphere = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(scale));
        let mat = new Laya.BlinnPhongMaterial();
        mat.albedoColor = new Laya.Vector4(color.r, color.g, color.b, 1);
        sphere.meshRenderer.material = mat;
        s3d.addChild(sphere);
        sphere.transform.position = pos;
        return sphere;
    }
    static DrawMesh(mesh, pos, rot, color = Laya.Color.GREEN, during = null) {
        return __awaiter(this, void 0, void 0, function* () {
            let posList = [];
            mesh.getPositions(posList);
            let indices = mesh.getIndices();
            let triangleCount = indices.length / 3;
            let pix = new Laya.PixelLineSprite3D(indices.length);
            for (let i = 0; i < triangleCount; ++i) {
                let p1 = indices[i * 3];
                let p2 = indices[i * 3 + 1];
                let p3 = indices[i * 3 + 2];
                pix.addLine(posList[p1], posList[p2], color, color);
                pix.addLine(posList[p2], posList[p3], color, color);
                pix.addLine(posList[p1], posList[p3], color, color);
            }
            let s3d = window['s3d'];
            s3d.addChild(pix);
            pix.transform.position = pos;
            pix.transform.rotation = rot;
            if (during) {
                yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].Seconds(during);
            }
            else {
                yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame();
            }
            pix.destroy();
        });
    }
}


/***/ }),

/***/ "./src/LTGame/LTUtils/ArrayEx.ts":
/*!***************************************!*\
  !*** ./src/LTGame/LTUtils/ArrayEx.ts ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ArrayEx; });
class ArrayEx {
    static Replace(arr, oldObj, newObj) {
        let index = arr.indexOf(oldObj);
        if (index < 0)
            return false;
        arr.splice(index, 1, newObj);
        return true;
    }
    static Remove(arr, obj) {
        let index = arr.indexOf(obj);
        if (index < 0)
            return false;
        arr.splice(index, 1);
        return true;
    }
    static RemoveAt(arr, index) {
        if (arr.length <= index)
            return false;
        arr.splice(index, 1);
        return true;
    }
    static Contains(arr, obj) {
        let index = arr.indexOf(obj);
        return index >= 0;
    }
    static Copy(arr) {
        let result = [];
        for (let i = 0; i < arr.length; ++i) {
            result.push(arr[i]);
        }
        return result;
    }
}


/***/ }),

/***/ "./src/LTGame/LTUtils/CameraEx.ts":
/*!****************************************!*\
  !*** ./src/LTGame/LTUtils/CameraEx.ts ***!
  \****************************************/
/*! exports provided: CameraEx */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CameraEx", function() { return CameraEx; });
/* harmony import */ var _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");

class CameraEx {
    static ScreenPosToWorldPos(camera, screenPos, fakeYPos) {
        let ray = new Laya.Ray(_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].zero, _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].zero);
        // camera.viewportPointToRay(screenPos, ray);
        camera.viewportPointToRay(screenPos, ray);
        let downVec = _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].s_down;
        let dotValue = _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Dot(downVec, ray.direction);
        let heightValue = fakeYPos ? fakeYPos : ray.origin.y;
        let scaleValue = heightValue / dotValue;
        let finalDir = _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Scale(ray.direction, scaleValue);
        return _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Add(ray.origin, finalDir);
    }
    static get3DPos(camera, screenPos) {
        let ray = this.ScreenPosToRay(camera, screenPos);
        let dotDistance = _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Dot(ray.direction, new Laya.Vector3(0, 0, -1));
        let scale = 10 / dotDistance;
        return _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Add(camera.transform.position, _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].Scale(ray.direction, scale));
    }
    static ScreenPosToRay(camera, screenPos) {
        let ray = new Laya.Ray(_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].zero, _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].zero);
        let clickPoint = new Laya.Vector2(screenPos.x / Laya.stage.width, screenPos.y / Laya.stage.height);
        camera.normalizedViewportPointToRay(clickPoint, ray);
        return ray;
    }
    static ScreenPosToRay2(camera, screenPos, ray) {
        screenPos.x /= Laya.stage.width;
        screenPos.y /= Laya.stage.height;
        // camera.viewportPointToRay(screenPos, ray);
        camera.normalizedViewportPointToRay(screenPos, ray);
    }
}


/***/ }),

/***/ "./src/LTGame/LTUtils/LTDictionary.ts":
/*!********************************************!*\
  !*** ./src/LTGame/LTUtils/LTDictionary.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTDictionary; });
class LTDictionary {
    constructor() {
        this._values = [];
        this._keys = [];
    }
    /**
     * 获取所有的子元素列表。
     */
    get values() {
        return this._values;
    }
    /**
     * 获取所有的子元素键名列表。
     */
    get keys() {
        return this._keys;
    }
    get count() {
        return this._keys.length;
    }
    /**
     * 给指定的键名设置值。
     * @param   key 键名。
     * @param   value 值。
     */
    set(key, value) {
        var index = this.indexOf(key);
        if (index >= 0) {
            this._values[index] = value;
            return;
        }
        this._keys.push(key);
        this._values.push(value);
    }
    /**
     * 获取指定对象的键名索引。
     * @param   key 键名对象。
     * @return 键名索引。
     */
    indexOf(key) {
        var index = this._keys.indexOf(key);
        if (index >= 0)
            return index;
        return -1;
    }
    /**
     * 返回指定键名的值。
     * @param   key 键名对象。
     * @return 指定键名的值。
     */
    Get(key) {
        var index = this.indexOf(key);
        return index < 0 ? null : this._values[index];
    }
    ContainsKey(key) {
        return this.indexOf(key) >= 0;
    }
    Add(key, value) {
        var index = this.indexOf(key);
        if (index >= 0) {
            return false;
        }
        this._keys.push(key);
        this._values.push(value);
        return true;
    }
    /**
     * 移除指定键名的值。
     * @param   key 键名对象。
     * @return 是否成功移除。
     */
    Remove(key) {
        var index = this.indexOf(key);
        if (index >= 0) {
            this._keys.splice(index, 1);
            this._values.splice(index, 1);
            return true;
        }
        return false;
    }
    /**
     * 清除此对象的键名列表和键值列表。
     */
    Clear() {
        this._values.length = 0;
        this._keys.length = 0;
    }
}


/***/ }),

/***/ "./src/LTGame/LTUtils/LTUtils.ts":
/*!***************************************!*\
  !*** ./src/LTGame/LTUtils/LTUtils.ts ***!
  \***************************************/
/*! exports provided: LTUtils, randomRangeInt */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTUtils", function() { return LTUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomRangeInt", function() { return randomRangeInt; });
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");


class LTUtils {
    static CachFile(url) {
        if (!Laya.Browser.onWeiXin)
            return;
        var fullUrl = Laya.URL.formatURL(url);
        var fileInfo = Laya.MiniAdpter.getFileInfo(fullUrl);
        if (fileInfo == null) {
            Laya.MiniAdpter.downLoadFile(fullUrl);
        }
    }
    static DownLoadFiles(urls, complete, progress) {
        Laya.loader.create(urls, complete, progress, null, null, null, 1, true);
    }
    static SetShadow(obj, castShadow, receiveShadow) {
        // 默认当meshrender处理
        let meshRenderer = obj.meshRenderer;
        if (meshRenderer != null) {
            meshRenderer.castShadow = castShadow;
            meshRenderer.receiveShadow = receiveShadow;
        }
        let skinnedMeshRenderer = obj.skinnedMeshRenderer;
        if (skinnedMeshRenderer != null) {
            skinnedMeshRenderer.castShadow = castShadow;
            skinnedMeshRenderer.receiveShadow = receiveShadow;
        }
        let node = obj;
        for (let i = 0; i < node.numChildren; ++i) {
            let getChild = node.getChildAt(i);
            this.SetShadow(getChild, castShadow, receiveShadow);
        }
    }
    static GetComponentsInChildren(obj, cmp) {
        let result = [];
        this._GetComponentsInChildrenHelper(obj, cmp, result);
        return result;
    }
    static _GetComponentsInChildrenHelper(obj, cmp, result) {
        let cmps = obj.getComponents(cmp);
        if (cmps != null) {
            for (let i = 0; i < cmps.length; ++i) {
                result.push(cmps[i]);
            }
        }
        for (let i = 0; i < obj.numChildren; ++i) {
            let getChild = obj.getChildAt(i);
            this._GetComponentsInChildrenHelper(getChild, cmp, result);
        }
    }
    static EnableShadow(directionLight, farDistance) {
        //灯光开启阴影
        directionLight.shadowMode = Laya.ShadowMode.Hard;
        //可见阴影距离
        directionLight.shadowDistance = farDistance;
        //生成阴影贴图尺寸
        directionLight.shadowResolution = 512;
        //生成阴影贴图数量
        directionLight.shadowCascadesMode = Laya.ShadowCascadesMode.NoCascades;
    }
    static FindChild(parent, path) {
        if (path == "")
            return parent;
        var splitPath = path.split("/");
        return LTUtils._FindChild(splitPath, parent, 0);
    }
    static _FindChild(nodeName, currentNode, currentLevel) {
        var findChild = currentNode.getChildByName(nodeName[currentLevel]);
        if (findChild == null) {
            console.log(currentNode, "下不存在节点:", nodeName[currentLevel]);
            return null;
        }
        if (currentLevel + 1 == nodeName.length) {
            return findChild;
        }
        else {
            return LTUtils._FindChild(nodeName, findChild, currentLevel + 1);
        }
    }
    /**
     * 获得金币字符串显示
     * @param num
     */
    static GetCoinStr(num) {
        if (this._strMap == null) {
            this._strMap = ["", "K", "M", "B", "T", "Q"];
            for (let i = 0; i < 500; ++i) {
                let firstC = String.fromCharCode(Math.floor(i / 24) + 97);
                let behind = String.fromCharCode(Math.floor(i % 24) + 97);
                this._strMap.push(firstC + behind);
            }
        }
        let count = 0;
        while (num > 1000) {
            num /= 1000;
            count++;
        }
        if (count >= this._strMap.length) {
            console.error("单位表越界");
            return num.toFixed(1) + "aa"; //"越界";
        }
        if (count <= 0) {
            return num.toFixed(0);
        }
        return num.toFixed(1) + this._strMap[count];
    }
    /**
     * 获得金币字符串显示
     * @param num
     */
    static GetCoinStr1(num) {
        if (this._strMap == null) {
            this._strMap = ["", "K", "M", "B", "T", "Q"];
            for (let i = 0; i < 500; ++i) {
                let firstC = String.fromCharCode(Math.floor(i / 24) + 97);
                let behind = String.fromCharCode(Math.floor(i % 24) + 97);
                this._strMap.push(firstC + behind);
            }
        }
        let count = 0;
        while (num > 1000) {
            num /= 1000;
            count++;
        }
        if (count >= this._strMap.length) {
            console.error("单位表越界");
            return num.toFixed(1) + "aa"; //"越界";
        }
        if (count <= 0) {
            return num.toFixed(0);
        }
        return num.toFixed(0) + this._strMap[count];
    }
    static makeTimeLeftString(time, separator = ":", flag = false) {
        var ret = "";
        var hour;
        if (time <= 0) {
            ret = ret + "00:00";
            return ret;
        }
        if (time > LTUtils.ONE_YEAR) {
            ret = "大于一年";
            return ret;
        }
        if (flag) {
            if (time > LTUtils.ONE_DAY) {
                var day = Math.floor(time / LTUtils.ONE_DAY);
                ret = day + "天";
            }
            else if (time >= 3600) {
                hour = Math.floor(time / 3600);
                ret = hour + "时";
            }
            else {
                var minute = Math.floor(time / 60);
                if (minute < 10)
                    ret += "0";
                ret += minute.toString() + separator;
                var second = time % 60;
                if (second < 10)
                    ret += "0";
                ret += second.toString();
            }
            return ret;
        }
        if (time > LTUtils.ONE_DAY) {
            var day = Math.floor(time / LTUtils.ONE_DAY);
            ret = day + "天";
            time = time - day * LTUtils.ONE_DAY;
            if (flag) {
                hour = Math.floor(time / 3600);
                if (hour > 0) {
                    ret += hour + "时";
                }
                return ret;
            }
        }
        if (time <= 0) {
            ret = ret + "00:00";
            return ret;
        }
        ret = '';
        hour = Math.floor(time / 3600);
        if (hour > 0) {
            if (hour < 10) {
                ret += "0" + hour.toString() + separator;
            }
            else {
                ret += hour.toString() + separator;
            }
        }
        var minute = Math.floor((time - hour * 3600) / 60);
        if ((minute > 0) || (hour > 0)) {
            if (minute < 10)
                ret += "0";
            ret += minute.toString() + separator;
        }
        else {
            ret += "00" + separator;
        }
        var second = time % 60;
        if (second < 10)
            ret += "0";
        ret += second.toString();
        return ret;
    }
    /**
    * 获取当前天数
    */
    static GetCurrentDayCount(tick) {
        let dayCount = Math.floor(tick / 1000 / 60 / 60 / 24);
        return dayCount;
    }
    /**
     * 设置层级
     * @param obj
     * @param layerIndex
     */
    static SetLayer(obj, layerIndex) {
        obj.layer = layerIndex;
        for (let i = 0; i < obj.numChildren; ++i) {
            let getChild = obj.getChildAt(i);
            this.SetLayer(getChild, layerIndex);
        }
    }
    /**
     * 调用震动
     * @param isLong 是否是长震动
     */
    static Vibrate(isLong = true) {
        if (_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.isShakeOn) {
            _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.device.Vibrate(isLong);
        }
    }
}
/**
* 时间转换
*/
LTUtils.ONE_YEAR = 60 * 60 * 24 * 365;
LTUtils.ONE_DAY = 60 * 60 * 24;
function randomRangeInt(min, max) {
    return Math.floor(Math.random() * (max - min) + min);
}


/***/ }),

/***/ "./src/LTGame/LTUtils/MathEx.ts":
/*!**************************************!*\
  !*** ./src/LTGame/LTUtils/MathEx.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MathEx; });
/* harmony import */ var _ArrayEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArrayEx */ "./src/LTGame/LTUtils/ArrayEx.ts");

class MathEx {
    static ToHex(num) {
        return num.toString(16);
    }
    static RandomFromArrayExcept(numArr, except) {
        let fakeRandomList = [];
        for (let i = 0; i < numArr.length; ++i) {
            if (except == numArr[i])
                continue;
            fakeRandomList.push(numArr[i]);
        }
        return this.RandomFromArray(fakeRandomList);
    }
    static RandomFromArray(numArr) {
        let randomIndex = MathEx.RandomInt(0, numArr.length);
        return numArr[randomIndex];
    }
    static RandomArrayFromArray(arr, count) {
        let result = [];
        let indexList = [];
        for (let i = 0; i < arr.length; ++i) {
            indexList.push(i);
        }
        for (let i = 0; i < count; ++i) {
            let randomIndex = MathEx.RandomInt(0, indexList.length);
            let getIndex = indexList[randomIndex];
            _ArrayEx__WEBPACK_IMPORTED_MODULE_0__["default"].RemoveAt(indexList, randomIndex);
            result.push(arr[getIndex]);
        }
        return result;
    }
    static RandomFromWithWeight(numArr, weightArr) {
        if (numArr == null || numArr.length == 0) {
            return null;
        }
        var totalWeight = 0;
        for (var weight of weightArr) {
            totalWeight += weight;
        }
        var randomWeight = MathEx.Random(0, totalWeight);
        var currentWeight = 0;
        for (var i = 0; i < numArr.length; ++i) {
            currentWeight += weightArr[i];
            if (randomWeight < currentWeight) {
                return numArr[i];
            }
        }
        return numArr[numArr.length - 1];
    }
    static RandomInt(min, max) {
        return Math.floor(this.Random(min, max));
    }
    static Random(min, max) {
        return (max - min) * Math.random() + min;
    }
    /**
     * 判定概率命中
     * @param ratio 概率，百分数
     */
    static RandomRatio(ratio) {
        let v = MathEx.RandomInt(0, 10000) * 0.01;
        if (ratio > v) {
            return true;
        }
        return false;
    }
    static Clamp(value, min, max) {
        if (value < min)
            return min;
        if (value > max)
            return max;
        return value;
    }
    static Clamp01(value) {
        return this.Clamp(value, 0, 1);
    }
    static Clamp100Progress(value) {
        return this.Clamp(value, 0.1, 100);
    }
    static Sign(value) {
        if (value == 0)
            return 1;
        return value > 0 ? 1 : -1;
    }
    static GetNumCount(num) {
        var numberCount = 0;
        var newNumber = num;
        while (newNumber / 10 > 0) {
            newNumber = Math.floor(newNumber / 10);
            numberCount++;
        }
        return numberCount;
    }
    static Lerp(from, to, progress) {
        return from + (to - from) * MathEx.Clamp01(progress);
    }
    static MoveTowardsAngle(current, target, maxDelta) {
        var num = MathEx.DeltaAngle(current, target);
        if (0 - maxDelta < num && num < maxDelta) {
            return target;
        }
        target = current + num;
        return MathEx.MoveTowards(current, target, maxDelta);
    }
    static MoveTowards(current, target, maxDelta) {
        if (Math.abs(target - current) <= maxDelta) {
            return target;
        }
        return current + Math.sign(target - current) * maxDelta;
    }
    static SmoothDamp(current, target, speed, smoothTime, maxSpeed, deltaTime) {
        // Based on Game Programming Gems 4 Chapter 1.10
        smoothTime = Math.max(0.0001, smoothTime);
        let omega = 2 / smoothTime;
        let x = omega * deltaTime;
        let exp = 1 / (1 + x + 0.48 * x * x + 0.235 * x * x * x);
        let change = current - target;
        let originalTo = target;
        // Clamp maximum speed
        let maxChange = maxSpeed * smoothTime;
        change = MathEx.Clamp(change, -maxChange, maxChange);
        target = current - change;
        let temp = (speed[0] + omega * change) * deltaTime;
        speed[0] = (speed[0] - omega * temp) * exp;
        let output = target + (change + temp) * exp;
        // Prevent overshooting
        if ((originalTo - current > 0.0) == (output > originalTo)) {
            output = originalTo;
            speed[0] = (output - originalTo) / deltaTime;
        }
        return output;
    }
    static DeltaAngle(current, target) {
        var num = MathEx.Repeat(target - current, 360);
        if (num > 180) {
            num -= 360;
        }
        return num;
    }
    static Repeat(t, length) {
        return MathEx.Clamp(t - Math.floor(t / length) * length, 0, length);
    }
    static IsSimilar(n1, n2) {
        return n1 == n2;
    }
}
MathEx.Deg2Rad = 0.0175;
MathEx.Rad2Deg = 57.2958;


/***/ }),

/***/ "./src/LTGame/LTUtils/MonoHelper.ts":
/*!******************************************!*\
  !*** ./src/LTGame/LTUtils/MonoHelper.ts ***!
  \******************************************/
/*! exports provided: default, EActionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MonoHelper; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EActionType", function() { return EActionType; });
class MonoHelper extends Laya.Script {
    constructor() {
        super(...arguments);
        this._updateActions = [];
        this._lateUpdateActions = [];
        this.deltaTime = 1 / 60;
    }
    static get instance() {
        if (this._instance == null) {
            let monoHelper = new Laya.Sprite();
            monoHelper.name = "MonoHelper";
            this._instance = monoHelper.addComponent(MonoHelper);
            Laya.stage.addChild(monoHelper);
        }
        return this._instance;
    }
    _GetActionList(actionType) {
        switch (actionType) {
            case EActionType.Update:
                return this._updateActions;
            case EActionType.LateUpdate:
                return this._lateUpdateActions;
            default:
                console.error("未处理的actionType类型", actionType);
                return null;
        }
    }
    AddAction(actionType, caller, func, args) {
        let list = this._GetActionList(actionType);
        if (list == null)
            return;
        for (let i = 0; i < list.length; ++i) {
            let handleInList = list[i];
            if (handleInList.caller == caller && handleInList.method == func) {
                console.warn("已存在重复注册事件,取消注册");
                return;
            }
        }
        let handle = Laya.Handler.create(caller, func, args, false);
        list.push(handle);
    }
    RemoveAction(actionType, caller, func) {
        let list = this._GetActionList(actionType);
        if (list == null)
            return;
        for (let i = 0; i < list.length; ++i) {
            let handleInList = list[i];
            if (handleInList.caller == caller && handleInList.method == func) {
                list = list.splice(i, 1);
                return;
            }
        }
    }
    onUpdate() {
        this.deltaTime = Laya.timer.delta * 0.001;
        if (this.deltaTime > 0.05) {
            this.deltaTime = 0.05;
        }
        for (let i = 0; i < this._updateActions.length; ++i) {
            let action = this._updateActions[i];
            action.runWith(this.deltaTime);
        }
    }
    onLateUpdate() {
        for (let i = 0; i < this._lateUpdateActions.length; ++i) {
            let action = this._lateUpdateActions[i];
            action.runWith(this.deltaTime);
        }
    }
    onDestroy() {
        MonoHelper._instance = null;
    }
}
var EActionType;
(function (EActionType) {
    EActionType[EActionType["Update"] = 0] = "Update";
    EActionType[EActionType["LateUpdate"] = 1] = "LateUpdate";
})(EActionType || (EActionType = {}));


/***/ }),

/***/ "./src/LTGame/LTUtils/StringEx.ts":
/*!****************************************!*\
  !*** ./src/LTGame/LTUtils/StringEx.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StringEx; });
class StringEx {
    static SplitToIntArray(str, splitStr) {
        var splits = str.split(splitStr);
        var result = [];
        for (var i = 0; i < splits.length; ++i) {
            var parseNum = parseInt(splits[i]);
            if (isNaN(parseNum)) {
                parseNum = 0;
            }
            result.push(parseNum);
        }
        return result;
    }
    static IntArrToStr(arr) {
        var str = "";
        for (var i = 0; i < arr.length; ++i) {
            str += arr[i].toFixed(0);
            if (i < arr.length - 1) {
                str += ",";
            }
        }
        return str;
    }
    static IsNullOrEmpty(str) {
        if (str == null)
            return true;
        if (str == "")
            return true;
        return false;
    }
}


/***/ }),

/***/ "./src/LTGame/LTUtils/TransformEx.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/LTUtils/TransformEx.ts ***!
  \*******************************************/
/*! exports provided: TransformEx */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransformEx", function() { return TransformEx; });
/* harmony import */ var _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");

class TransformEx {
    static ResetLocalTrans(trans) {
        trans.localPosition = _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].zero;
        trans.localRotationEuler = _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].zero;
        trans.localScale = _Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].one;
    }
    static CopyTrans(to, from) {
        to.position = from.position;
        to.rotation = from.rotation;
        to.setWorldLossyScale(from.getWorldLossyScale());
    }
}


/***/ }),

/***/ "./src/LTGame/LTUtils/Vector3Ex.ts":
/*!*****************************************!*\
  !*** ./src/LTGame/LTUtils/Vector3Ex.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Vector3Ex; });
/* harmony import */ var _MathEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MathEx */ "./src/LTGame/LTUtils/MathEx.ts");

class Vector3Ex {
    static get temp() {
        Vector3Ex.__temp__.setValue(0, 0, 0);
        return Vector3Ex.__temp__;
    }
    static get s_up() {
        Vector3Ex.__up__.setValue(0, 1, 0);
        return Vector3Ex.__up__;
    }
    static get s_down() {
        Vector3Ex.__down__.setValue(0, -1, 0);
        return Vector3Ex.__down__;
    }
    static get s_forward() {
        Vector3Ex.__forward__.setValue(0, 0, 1);
        return Vector3Ex.__forward__;
    }
    static get s_back() {
        Vector3Ex.__back__.setValue(0, 0, -1);
        return Vector3Ex.__back__;
    }
    static get s_zero() {
        Vector3Ex.__zero__.setValue(0, 0, 0);
        return Vector3Ex.__zero__;
    }
    static get s_one() {
        Vector3Ex.__one__.setValue(1, 1, 1);
        return Vector3Ex.__one__;
    }
    static get up() {
        return new Laya.Vector3(0, 1, 0);
    }
    static get down() {
        return new Laya.Vector3(0, -1, 0);
    }
    static get forward() {
        return new Laya.Vector3(0, 0, 1);
    }
    static get zero() {
        return new Laya.Vector3(0, 0, 0);
    }
    static get one() {
        return new Laya.Vector3(1, 1, 1);
    }
    static get back() {
        return new Laya.Vector3(0, 0, -1);
    }
    static get left() {
        return new Laya.Vector3(-1, 0, 0);
    }
    static get right() {
        return new Laya.Vector3(1, 0, 0);
    }
    static IsZero(vec) {
        return vec.x && vec.y == 0 && vec.z == 0;
    }
    static Cross(right, left) {
        var result = new Laya.Vector3(0, 0, 0);
        Laya.Vector3.cross(right, left, result);
        return result;
    }
    static Subtract(right, left) {
        var result = new Laya.Vector3(0, 0, 0);
        Laya.Vector3.subtract(right, left, result);
        return result;
    }
    static SubtractTo(right, left, to) {
        Laya.Vector3.subtract(right, left, to);
    }
    static ClampMagnitude(vector, maxLength) {
        var result = new Laya.Vector3(0, 0, 0);
        var sqrMagnitude = 0;
        if (Laya.Vector3.distanceSquared(vector, result) > maxLength * maxLength) {
            result = Vector3Ex.Scale(Vector3Ex.Normalize(vector), maxLength);
        }
        else {
            result = vector;
        }
        return result;
    }
    static Normalize(vec) {
        var result = new Laya.Vector3(0, 0, 0);
        Laya.Vector3.normalize(vec, result);
        return result;
    }
    static Add(...vecs) {
        var result = new Laya.Vector3(0, 0, 0);
        for (var i = 0; i < vecs.length; ++i) {
            var vec = vecs[i];
            result.x += vec.x;
            result.y += vec.y;
            result.z += vec.z;
        }
        return result;
    }
    static Scale(vec, scale) {
        var result = new Laya.Vector3(0, 0, 0);
        Laya.Vector3.scale(vec, scale, result);
        return result;
    }
    static ScaleV3(vec, scale) {
        var result = new Laya.Vector3(vec.x * scale.x, vec.y * scale.y, vec.z * scale.z);
        return result;
    }
    static Dot(left, right) {
        return Laya.Vector3.dot(left, right);
    }
    static Lerp(from, to, v) {
        var result = new Laya.Vector3(0, 0, 0);
        Laya.Vector3.lerp(from, to, v, result);
        return result;
    }
    static Bessel(p0, p1, p2, progress) {
        let cache1 = Vector3Ex.Scale(p0, Math.pow(1 - progress, 2));
        let cache2 = Vector3Ex.Scale(p1, 2 * progress * (1 - progress));
        let cache3 = Vector3Ex.Scale(p2, progress * progress);
        return Vector3Ex.Add(cache1, cache2, cache3);
    }
    static MagnitudeSqrt(v3) {
        return v3.x * v3.x + v3.y * v3.y + v3.z * v3.z;
    }
    static Magnitude(v3) {
        return Math.sqrt(this.MagnitudeSqrt(v3));
    }
    static Magnitude2D(v3) {
        return Math.sqrt(v3.x * v3.x + v3.z * v3.z);
    }
    static Distance(from, to) {
        var offset = Vector3Ex.Subtract(from, to);
        return Vector3Ex.Magnitude(offset);
    }
    static Distance2D(from, to) {
        let xOffset = from.x - to.x;
        let zOffset = from.z - to.z;
        return Math.sqrt(xOffset * xOffset + zOffset * zOffset);
    }
    static DistanceSqrt(from, to) {
        let offset = Vector3Ex.Subtract(from, to);
        return offset.x * offset.x + offset.y * offset.y + offset.z * offset.z;
    }
    static DistanceSqrt2D(from, to) {
        let offset = Vector3Ex.Subtract(from, to);
        return offset.x * offset.x + offset.z * offset.z;
    }
    /**
     * 计算在指定轴上的旋转,带符号
     * @param from
     * @param to
     * @param asix
     */
    static SignAngleAsix(from, to, asix) {
        let normalAsix = Vector3Ex.Normalize(asix);
        let dotFrom = Vector3Ex.Dot(from, normalAsix);
        let wrapFrom = Vector3Ex.Subtract(from, Vector3Ex.Scale(normalAsix, dotFrom));
        let dotTo = Vector3Ex.Dot(to, normalAsix);
        let wrapTo = Vector3Ex.Subtract(to, Vector3Ex.Scale(normalAsix, dotTo));
        let normalized = Vector3Ex.Normalize(wrapFrom);
        let normalized2 = Vector3Ex.Normalize(wrapTo);
        let num = Math.acos(_MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].Clamp(Laya.Vector3.dot(normalized, normalized2), -1, 1)) * 57.29578;
        let cross = Vector3Ex.Cross(normalized, normalized2);
        let num2 = _MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].Sign(Laya.Vector3.dot(asix, cross));
        return num * num2;
    }
    static SignedAngle(from, to, asix) {
        var normalized = Vector3Ex.Normalize(from);
        var normalized2 = Vector3Ex.Normalize(to);
        var num = Math.acos(_MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].Clamp(Laya.Vector3.dot(normalized, normalized2), -1, 1)) * 57.29578;
        var cross = Vector3Ex.Cross(normalized, normalized2);
        var num2 = _MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].Sign(Laya.Vector3.dot(asix, cross));
        return num * num2;
    }
    static Angle(from, to, asix) {
        var normalized = Vector3Ex.Normalize(from);
        var normalized2 = Vector3Ex.Normalize(to);
        var num = Math.acos(_MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].Clamp(Laya.Vector3.dot(normalized, normalized2), -1, 1)) * 57.29578;
        return num;
    }
    static SmoothDamp(current, target, currentVelocity, smoothTime, maxSpeed, deltaTime) {
        var num = 2 / smoothTime;
        var num2 = num * deltaTime;
        var d = 1 / (1 + num2 + 0.48 * num2 * num2 + 0.235 * num2 * num2 * num2);
        var vector = Vector3Ex.Subtract(current, target);
        var vector2 = target.clone();
        var maxLength = maxSpeed * smoothTime;
        vector = Vector3Ex.ClampMagnitude(vector, maxLength);
        var target2 = Vector3Ex.Subtract(current, vector);
        var vector3 = Vector3Ex.Scale(Vector3Ex.Add(currentVelocity, Vector3Ex.Scale(vector, num)), deltaTime);
        var cacheV = Vector3Ex.Scale(Vector3Ex.Subtract(currentVelocity, Vector3Ex.Scale(vector3, num)), d);
        currentVelocity.x = cacheV.x;
        currentVelocity.y = cacheV.y;
        currentVelocity.z = cacheV.z;
        var vector4 = Vector3Ex.Add(target2, Vector3Ex.Scale(Vector3Ex.Add(vector, vector3), d));
        if (Vector3Ex.Dot(Vector3Ex.Subtract(vector2, current), Vector3Ex.Subtract(vector4, vector2)) > 0) {
            vector4 = vector2;
            currentVelocity.x = 0;
            currentVelocity.y = 0;
            currentVelocity.z = 0;
        }
        return vector4;
    }
    static Fix(vec, limit) {
        if (Math.abs(vec.x) < limit) {
            vec.x = 0;
        }
        if (Math.abs(vec.y) < limit) {
            vec.y = 0;
        }
        if (Math.abs(vec.z) < limit) {
            vec.z = 0;
        }
    }
    static IsSame(v1, v2) {
        return v1.x == v2.x && v1.y == v2.y && v1.z == v2.z;
    }
    static WrapFromUnity(x, y, z) {
        return new Laya.Vector3(-x, y, z);
    }
    /**
     * 计算带加速度的移动位置
     * @param time
     * @param startVelocity
     * @param aSpeed
     * @param startPos
     */
    static CalcPosWithASpeed(time, startVelocity, aSpeed, startPos) {
        let xt = Vector3Ex.Scale(startVelocity, time);
        let at2 = Vector3Ex.Scale(aSpeed, time * time / 2);
        return Vector3Ex.Add(xt, at2, startPos);
    }
    /**
     * 重置空间信息
     * @param trs
     */
    static InitialTransform(trs) {
        trs.localPosition = Vector3Ex.s_zero;
        trs.localScale = Vector3Ex.s_one;
        trs.rotationEuler = Vector3Ex.s_zero;
    }
    /**
     * 判定目标点，是否在以中心点为扇心，指定扇形内
     * @param center 扇形中心点
     * @param target 目标点
     * @param range 扇形半径
     * @param halfAngle 扇形半角
     * @param forward 扇形正向
     * @param axis 垂直于扇面的轴向
     */
    static InSector(center, target, range, halfAngle, forward, axis) {
        let dir = Vector3Ex.temp;
        dir.setValue((target.x - center.x) * (1 - axis.x), (target.y - center.y) * (1 - axis.y), (target.z - center.z) * (1 - axis.z));
        if (Vector3Ex.MagnitudeSqrt(dir) <= range * range) {
            let angle = Vector3Ex.Angle(forward, dir, axis);
            if (angle <= halfAngle) {
                return true;
            }
        }
        return false;
    }
}
/**
 *
 * 增加方向常量，可用于赋值给transform信息，
 * 只能用于当作临时变量使用，不可持有
 *
 */
Vector3Ex.__temp__ = new Laya.Vector3(0, 0, 0);
Vector3Ex.__up__ = new Laya.Vector3(0, 0, 0);
Vector3Ex.__down__ = new Laya.Vector3(0, 0, 0);
Vector3Ex.__forward__ = new Laya.Vector3(0, 0, 0);
Vector3Ex.__back__ = new Laya.Vector3(0, 0, 0);
Vector3Ex.__zero__ = new Laya.Vector3(0, 0, 0);
Vector3Ex.__one__ = new Laya.Vector3(0, 0, 0);
Vector3Ex.cacheVec0 = new Laya.Vector3(0, 0, 0);


/***/ }),

/***/ "./src/LTGame/LTVersion.ts":
/*!*********************************!*\
  !*** ./src/LTGame/LTVersion.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTVersion; });
class LTVersion {
}
LTVersion.version = "0.0.1";


/***/ }),

/***/ "./src/LTGame/Material/LTShaderHelper.ts":
/*!***********************************************!*\
  !*** ./src/LTGame/Material/LTShaderHelper.ts ***!
  \***********************************************/
/*! exports provided: LTShaderHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTShaderHelper", function() { return LTShaderHelper; });
/* harmony import */ var _Res_LTRes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");



const COLLECT_SHADER_INFO = false;
class LTShaderHelper {
    static InitRecorder() {
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__["EPlatformType"].Web && COLLECT_SHADER_INFO) {
            Laya.Shader3D.debugMode = true;
            Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, function (event) {
                let shaderObj = {};
                for (let i = 0; i < Laya.Shader3D.debugShaderVariantCollection.variantCount; i++) {
                    let shadervariant = Laya.Shader3D.debugShaderVariantCollection.getByIndex(i);
                    let shaderName = shadervariant.shader.name;
                    if (!shaderObj[shaderName])
                        shaderObj[shaderName] = [];
                    let arr = shaderObj[shaderName];
                    let obj = {};
                    obj.defineNames = shadervariant.defineNames;
                    obj.passIndex = shadervariant.passIndex;
                    obj.subShaderIndex = shadervariant.subShaderIndex;
                    arr.push(obj);
                }
                console.log(JSON.stringify(shaderObj));
                console.log("请保存为res/config/shader_warm.json");
            });
            console.error("开始收集shader信息,按下鼠标右键可以导出信息");
        }
        else {
            Laya.Shader3D.debugMode = false;
        }
    }
    static WarmShader() {
        return __awaiter(this, void 0, void 0, function* () {
            let configJson = yield _Res_LTRes__WEBPACK_IMPORTED_MODULE_0__["default"].LoadAndGet("res/config/shader_warm.json", true);
            if (configJson == null) {
                console.log("无shader信息,跳过预热");
                return;
            }
            let keys = Object.getOwnPropertyNames(configJson);
            for (let key of keys) {
                let value = configJson[key];
                if (value == null)
                    continue;
                let arr = value;
                for (let index = 0; index < arr.length; index++) {
                    let obj = arr[index];
                    Laya.Shader3D.compileShaderByDefineNames(key, obj.subShaderIndex, obj.passIndex, obj.defineNames);
                }
            }
            console.log("Shader预编译完成");
        });
    }
}


/***/ }),

/***/ "./src/LTGame/Net/LTHttp.ts":
/*!**********************************!*\
  !*** ./src/LTGame/Net/LTHttp.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTHttp; });
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");

class LTHttp {
    /**
     * 专业发起HTTP请求,不会自动转get/post,完全按传入参数调用
     * @param url
     * @param onSuccess
     * @param onFailed
     * @param isGet
     * @param data
     * @param responseType
     * @param headers
     */
    static SendPro(url, onSuccess = null, onFailed = null, method = "get", data = null, responseType = "json", headers = ["Content-Type", "application/json"]) {
        let xhr = new Laya.HttpRequest();
        xhr.http.timeout = 10000; //设置超时时间
        if (onSuccess != null) {
            xhr.once(Laya.Event.COMPLETE, onSuccess.caller, onSuccess.method);
        }
        if (onFailed != null) {
            xhr.once(Laya.Event.ERROR, onFailed.caller, onFailed.method);
        }
        xhr.send(url, JSON.stringify(data), method, responseType, headers);
        if (this.enableDebug) {
            console.log(url, data, method, responseType, headers);
        }
    }
    /**
     * 发起HTTP请求,会自动转get/post
     * @param url
     * @param onSuccess
     * @param onFailed
     * @param isGet 默认为false
     * @param data
     * @param responseType
     * @param headers
     */
    static Send(url, onSuccess = null, onFailed = null, isGet = false, data = null, responseType = "text", headers) {
        let splitUrl = url.split(this._url_split);
        let origUrl = splitUrl[0];
        let param = splitUrl[1];
        if (param == null) {
            param = "";
        }
        if (isGet) {
            if (data != null) {
                if (!_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(param)) {
                    param += this._param_split;
                }
                for (let i in data) {
                    param += i + this._value_split + data[i] + this._param_split;
                }
                param = param.slice(0, param.length - 1);
            }
            let combieUrl = origUrl;
            if (!_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(param)) {
                combieUrl = origUrl + this._url_split + param;
            }
            this.SendPro(combieUrl, onSuccess, onFailed, this._get_method, null, responseType, headers);
        }
        else {
            if (!_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(param)) {
                if (data == null) {
                    data = {};
                }
                let splitParam = param.split(this._param_split);
                for (let singleParam of splitParam) {
                    let kv = singleParam.split(this._value_split);
                    data[kv[0]] = kv[1];
                }
            }
            this.SendPro(origUrl, onSuccess, onFailed, this._post_method, data, responseType, headers);
        }
    }
}
LTHttp._post_method = "post";
LTHttp._get_method = "get";
LTHttp._url_split = "?";
LTHttp._param_split = "&";
LTHttp._value_split = "=";
LTHttp.enableDebug = false;


/***/ }),

/***/ "./src/LTGame/Physics/OIMOPhysicManager.ts":
/*!*************************************************!*\
  !*** ./src/LTGame/Physics/OIMOPhysicManager.ts ***!
  \*************************************************/
/*! exports provided: OIMOPhysicManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OIMOPhysicManager", function() { return OIMOPhysicManager; });
/* harmony import */ var _script_config_GameConst__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../script/config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _script_common_ComTools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../script/common/ComTools */ "./src/script/common/ComTools.ts");
/* harmony import */ var _LTDebug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../LTDebug */ "./src/LTGame/LTDebug.ts");



class OIMOPhysicManager {
    constructor() {
        /***************调试 */
        this._shaps = {};
        this._cacheRigQuat = new OIMO.Quat();
        this._cacheTransQuat = new Laya.Quaternion();
        this._raycastHandle = new RaycastMask();
        this._cacheRayStart = new OIMO.Vec3();
        this._cacheRayEnd = new OIMO.Vec3();
        this._closestRaycastHandle = new RaycastMaskClosest();
    }
    static CreateInstance() {
        if (this.instance == null) {
            this.instance = new OIMOPhysicManager();
        }
    }
    InitWorld() {
        this.world = new OIMO.World(OIMO.BroadPhaseType.BVH, new OIMO.Vec3(0, _script_config_GameConst__WEBPACK_IMPORTED_MODULE_0__["GameConst"].data.gravity, 0));
        this.world.setNumPositionIterations(1);
        this.world.setNumVelocityIterations(2);
        // console.log(this.world);
        // Laya.timer.loop(1000, this, () => {
        //     console.log(`当前物理世界刚体数量：${this.world.getNumRigidBodies()}`)
        // })
    }
    Step(dt) {
        this.world.step(dt);
        _script_config_GameConst__WEBPACK_IMPORTED_MODULE_0__["GameConst"].data.isDebugDraw && this.DebugDraw();
    }
    RaycastCloset(ray, distance, mask) {
        this._closestRaycastHandle.clear();
        this._closestRaycastHandle.mask = mask;
        this._cacheRayStart.init(ray.origin.x, ray.origin.y, ray.origin.z);
        this._cacheRayEnd.init(ray.origin.x + ray.direction.x * distance, ray.origin.y + ray.direction.y * distance, ray.origin.z + ray.direction.z * distance);
        this.world.rayCast(this._cacheRayStart, this._cacheRayEnd, this._closestRaycastHandle);
        return this._closestRaycastHandle;
    }
    RaycastClosetFromTo(from, to, mask) {
        this._closestRaycastHandle.clear();
        this._closestRaycastHandle.mask = mask;
        this._cacheRayStart.init(from.x, from.y, from.z);
        this._cacheRayEnd.init(to.x, to.y, to.z);
        this.world.rayCast(this._cacheRayStart, this._cacheRayEnd, this._closestRaycastHandle);
        return this._closestRaycastHandle;
    }
    RaycastAll(ray, distance, mask, onHit) {
        this._raycastHandle.onHit = onHit;
        this._raycastHandle.mask = mask;
        this._cacheRayStart.init(ray.origin.x, ray.origin.y, ray.origin.z);
        this._cacheRayEnd.init(ray.origin.x + ray.direction.x * distance, ray.origin.y + ray.direction.y * distance, ray.origin.z + ray.direction.z * distance);
        this.world.rayCast(this._cacheRayStart, this._cacheRayEnd, this._raycastHandle);
    }
    RaycastAllFromTo(from, to, mask, onHit) {
        this._raycastHandle.onHit = onHit;
        this._raycastHandle.mask = mask;
        this._cacheRayStart.init(from.x, from.y, from.z);
        this._cacheRayEnd.init(to.x, to.y, to.z);
        this.world.rayCast(this._cacheRayStart, this._cacheRayEnd, this._raycastHandle);
    }
    DebugDraw() {
        if (!window['s3d'])
            return;
        let rig = this.world.getRigidBodyList();
        while (rig != null) {
            let pos = new Laya.Vector3();
            rig.getPositionTo(pos);
            let shape = rig.getShapeList();
            if (!shape)
                continue;
            rig.getOrientationTo(this._cacheRigQuat);
            this._cacheTransQuat.x = this._cacheRigQuat.x;
            this._cacheTransQuat.y = this._cacheRigQuat.y;
            this._cacheTransQuat.z = this._cacheRigQuat.z;
            this._cacheTransQuat.w = this._cacheRigQuat.w;
            let id = shape["guuid"];
            if (id === undefined) {
                id = _script_common_ComTools__WEBPACK_IMPORTED_MODULE_1__["ComTools"].guuid();
                shape["guuid"] = id;
            }
            let cacheMesh = this._shaps[id];
            let geometry = shape.getGeometry();
            if (geometry instanceof OIMO.BoxGeometry) {
                if (!cacheMesh) {
                    let halfExtents = new OIMO.Vec3();
                    geometry.getHalfExtentsTo(halfExtents);
                    cacheMesh = Laya.PrimitiveMesh.createBox(halfExtents.x * 2, halfExtents.y * 2, halfExtents.z * 2);
                    this._shaps[id] = cacheMesh;
                }
            }
            else if (geometry instanceof OIMO.SphereGeometry) {
                if (!cacheMesh) {
                    let radius = geometry.getRadius();
                    cacheMesh = Laya.PrimitiveMesh.createSphere(radius, 10, 10);
                    this._shaps[id] = cacheMesh;
                }
            }
            else if (geometry instanceof OIMO.CapsuleGeometry) {
                if (!cacheMesh) {
                    let radius = geometry.getRadius();
                    let hight = geometry.getHalfHeight() * 2;
                    cacheMesh = Laya.PrimitiveMesh.createCapsule(radius, hight, 5, 10);
                    this._shaps[id] = cacheMesh;
                }
            }
            let color = rig.isSleeping() ? Laya.Color.GRAY : Laya.Color.GREEN;
            _LTDebug__WEBPACK_IMPORTED_MODULE_2__["default"].DrawMesh(cacheMesh, pos, this._cacheTransQuat, color);
            rig = rig.getNext();
        }
    }
}
class RaycastMaskClosest extends OIMO.RayCastCallback {
    /**
     * Default constructor.
     */
    constructor() {
        super();
        this.position = new OIMO.Vec3();
        this.normal = new OIMO.Vec3();
        this.clear();
    }
    /**
     * Clears the result data.
     */
    clear() {
        this.shape = null;
        this.fraction = Number.MAX_SAFE_INTEGER;
        this.position.zero();
        this.normal.zero();
        this.hit = false;
    }
    process(shape, hit) {
        if (hit.fraction < this.fraction && (shape.getCollisionGroup() & this.mask) > 0) {
            this.shape = shape;
            this.hit = true;
            this.fraction = hit.fraction;
            this.position.copyFrom(hit.position);
            this.normal.copyFrom(hit.normal);
        }
    }
}
class RaycastMask extends OIMO.RayCastCallback {
    constructor() {
        super();
    }
    process(shape, hit) {
        var _a;
        if ((shape.getCollisionGroup() & this.mask) > 0) {
            (_a = this.onHit) === null || _a === void 0 ? void 0 : _a.runWith([shape, hit]);
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Physics/OimoHelper.ts":
/*!******************************************!*\
  !*** ./src/LTGame/Physics/OimoHelper.ts ***!
  \******************************************/
/*! exports provided: OimoHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OimoHelper", function() { return OimoHelper; });
/* harmony import */ var _LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");

class OimoHelper {
    static _Init() {
        if (this._isInited)
            return;
        this._isInited = true;
        this._cacheVec3 = new OIMO.Vec3();
    }
    static CreateRigbody(pos = null, rot = null, type = 0) {
        let rigConfig = new OIMO.RigidBodyConfig();
        rigConfig.type = type;
        if (pos != null) {
            rigConfig.position.init(pos.x, pos.y, pos.z);
        }
        if (rot != null) {
            rigConfig.rotation.fromQuat(rot);
        }
        let rig = new OIMO.RigidBody(rigConfig);
        return rig;
    }
    static CreateCapsule(radius, height, layer = 1, mask = 1, localPos = null, localRot = null) {
        this._Init();
        let boxGeo = new OIMO.CapsuleGeometry(radius, height / 2);
        let shapeConfig = new OIMO.ShapeConfig();
        shapeConfig.geometry = boxGeo;
        shapeConfig.collisionGroup = layer;
        shapeConfig.collisionMask = mask;
        if (localPos != null) {
            shapeConfig.position.init(localPos.x, localPos.y, localPos.z);
        }
        if (localRot != null) {
            shapeConfig.rotation.fromQuat(localRot);
        }
        let shape = new OIMO.Shape(shapeConfig);
        return shape;
    }
    static CreateSphere(radius, layer = 1, mask = 1, localPos = null, localRot = null) {
        this._Init();
        let boxGeo = new OIMO.SphereGeometry(radius);
        let shapeConfig = new OIMO.ShapeConfig();
        shapeConfig.geometry = boxGeo;
        shapeConfig.collisionGroup = layer;
        shapeConfig.collisionMask = mask;
        if (localPos != null) {
            shapeConfig.position.init(localPos.x, localPos.y, localPos.z);
        }
        if (localRot != null) {
            shapeConfig.rotation.fromQuat(localRot);
        }
        let shape = new OIMO.Shape(shapeConfig);
        return shape;
    }
    static CreateBox(size, layer = 1, mask = 1, localPos = null, localRot = null) {
        this._Init();
        this._cacheVec3.init(size.x / 2, size.y / 2, size.z / 2);
        let boxGeo = new OIMO.BoxGeometry(this._cacheVec3);
        let shapeConfig = new OIMO.ShapeConfig();
        shapeConfig.geometry = boxGeo;
        shapeConfig.collisionGroup = layer;
        shapeConfig.collisionMask = mask;
        if (localPos != null) {
            shapeConfig.position.init(localPos.x, localPos.y, localPos.z);
        }
        if (localRot != null) {
            shapeConfig.rotation.fromQuat(localRot);
        }
        let shape = new OIMO.Shape(shapeConfig);
        return shape;
    }
    static SyncTransToRig(trans, rig) {
        rig.setPosition(trans.position);
        this._cacheRigMat3.fromQuat(trans.rotation);
        rig.setRotation(this._cacheRigMat3);
    }
    static SyncTransFromRig(trans, rig, onlyPos = false) {
        rig.getPositionTo(this._cacheRigPos);
        this._cacheTransPos.setValue(this._cacheRigPos.x, this._cacheRigPos.y, this._cacheRigPos.z);
        trans.position = this._cacheTransPos;
        if (!onlyPos) {
            rig.getOrientationTo(this._cacheRigQuat);
            this._cacheTransQuat.x = this._cacheRigQuat.x;
            this._cacheTransQuat.y = this._cacheRigQuat.y;
            this._cacheTransQuat.z = this._cacheRigQuat.z;
            this._cacheTransQuat.w = this._cacheRigQuat.w;
            trans.rotation = this._cacheTransQuat;
        }
    }
    static CreateShapeByObj(obj, layer, mask, scale = 1, posOffset = null, rotOffset = null) {
        let scaleVec3 = _LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].temp;
        Laya.Vector3.scale(obj.transform.localScale, scale, scaleVec3);
        let colliderCmp = obj.getComponent(Laya.PhysicsCollider);
        if (colliderCmp == null || colliderCmp.colliderShape instanceof Laya.BoxColliderShape) {
            let boxShape = OimoHelper.CreateBox(scaleVec3, layer, mask, posOffset, rotOffset);
            return boxShape;
        }
        else if (colliderCmp.colliderShape instanceof Laya.SphereColliderShape) {
            let oldCmp = colliderCmp.colliderShape;
            let sphereShape = OimoHelper.CreateSphere(obj.transform.localScale.x * oldCmp.radius, layer, mask, posOffset, rotOffset);
            return sphereShape;
        }
        else if (colliderCmp.colliderShape instanceof Laya.CapsuleColliderShape) {
            let origShape = colliderCmp.colliderShape;
            let capsuleShape = OimoHelper.CreateCapsule(obj.transform.localScale.x * origShape.radius, obj.transform.localScale.y * origShape.length);
            return capsuleShape;
        }
        else {
            console.error("未识别的碰撞盒类型", colliderCmp);
        }
        if (colliderCmp != null) {
            colliderCmp.destroy();
        }
    }
}
OimoHelper._isInited = false;
OimoHelper._cacheTransPos = new Laya.Vector3();
OimoHelper._cacheTransQuat = new Laya.Quaternion();
OimoHelper._cacheRigMat3 = new OIMO.Mat3();
OimoHelper._cacheRigPos = new OIMO.Vec3();
OimoHelper._cacheRigQuat = new OIMO.Quat();


/***/ }),

/***/ "./src/LTGame/Platform/BDPlatform.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Platform/BDPlatform.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BDPlatform; });
/* harmony import */ var _WXPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WXPlatform */ "./src/LTGame/Platform/WXPlatform.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");




class BDPlatform extends _WXPlatform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].BD;
        this._showVideoLoad = false;
    }
    Init(platformData) {
        this._base = window["swan"];
        if (this._base == null) {
            console.error("平台初始化错误");
            return;
        }
        this.platformData = platformData;
        this._InitLauchOption();
        // this._Login();
        this._InitShareInfo();
        this._InitSystemInfo();
        this._isBannerLoaded = false;
        this._isBannerShowed = false;
        // this._CreateBannerAd();
        this._CreateVideoAd();
        this._CreateInterstitalAd();
        window["iplatform"] = this;
    }
    _CreateBannerAd() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__["default"].IsNullOrEmpty(this.platformData.bannerId)) {
            console.log("无有效的banner广告ID,取消加载");
            return;
        }
        let windowWidth = this._base.getSystemInfoSync().windowWidth;
        let windowHeight = this._base.getSystemInfoSync().windowHeight;
        let bannerObj = {};
        bannerObj["adUnitId"] = this.platformData.bannerId; // "adunit-b48894d44d318e5a";
        bannerObj["appSid"] = this.sid;
        let styleObj = {};
        styleObj["left"] = 0;
        styleObj["top"] = 0;
        styleObj["width"] = windowWidth;
        bannerObj["style"] = styleObj;
        this._bannerAd = this._base.createBannerAd(bannerObj);
        this._bannerAd.onLoad(() => {
            console.log("banner加载成功");
            this._isBannerLoaded = true;
            this._bannerAd.style.top = windowHeight - this._bannerAd.style.height;
            // 创建完直接显示广告
            this._bannerAd.show();
        });
        this._bannerAd.onError((res) => {
            console.error("banner广告加载失败", res);
        });
    }
    _CreateVideoAd() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__["default"].IsNullOrEmpty(this.platformData.rewardVideoId)) {
            console.log("无有效的视频广告ID,取消加载");
            return;
        }
        this._videoFailedCount = 0;
        let videoObj = {};
        videoObj["adUnitId"] = this.platformData.rewardVideoId; // "adunit-5631637236cf16b6";
        videoObj["appSid"] = this.sid;
        this._rewardVideo = this._base.createRewardedVideoAd(videoObj);
        this._rewardVideo.onLoad(() => {
            console.log("视频广告加载成功");
            this._isVideoLoaded = true;
        });
        this._rewardVideo.onError((res) => {
            this._videoFailedCount++;
            console.error("视频广告加载失败", res);
            if (this._videoFailedCount > 10) {
                console.log("第", this._videoFailedCount, "次重新加载视频广告");
                // 失败自动加载广告
                this._rewardVideo.load();
            }
        });
        this._rewardVideo.onClose((res) => {
            this._base.hideLoading();
            Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__["CommonEventId"].RESUM_AUDIO);
            console.log("视频回调", res);
            let isEnd = res["isEnded"];
            if (isEnd) {
                if (this._rewardSuccessed)
                    this._rewardSuccessed.run();
            }
            else {
                if (this._rewardSkipped)
                    this._rewardSkipped.run();
            }
            // bd需要自动加载广告
            this._rewardVideo.load();
        });
    }
    _CreateInterstitalAd() {
    }
    LoadSubpackage(name, onSuccess, onFailed, onProgress) {
        let loadObj = {};
        loadObj["name"] = name;
        loadObj["success"] = () => {
            console.log("分包加载成功", name);
            if (onSuccess) {
                onSuccess.run();
            }
        };
        loadObj["fail"] = () => {
            console.error("分包加载失败", name);
            if (onFailed) {
                onFailed.run();
            }
        };
        let loadTask = this._base.loadSubpackage(loadObj);
        loadTask.onProgressUpdate((res) => {
            if (onProgress) {
                let value = res.progress / 100;
                if (isNaN(value)) {
                    value = res.loaded / res.total;
                }
                onProgress.runWith(value);
            }
        });
    }
    RecordEvent(eventId, param) {
        this._base.reportAnalytics(eventId, param);
    }
    ShowBannerAd() {
        if (this._isBannerLoaded) {
            return;
        }
        this._CreateBannerAd();
    }
    HideBannerAd() {
        if (!this._isBannerLoaded)
            return;
        this._isBannerLoaded = false;
        if (this._bannerAd) {
            this._bannerAd.destroy();
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Data/LTPlatformData.ts":
/*!****************************************************!*\
  !*** ./src/LTGame/Platform/Data/LTPlatformData.ts ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTPlatformData; });
class LTPlatformData {
    constructor() {
        this.appId = "";
        this.appKey = "";
        this.bannerId = "";
        this.rewardVideoId = "";
        this.interstitialId = "";
        this.nativeId = "";
        /**qq九宫，wx自定义格子 */
        this.gameBoxAdId = "";
        /**底部导流盒子 */
        this.gameBoxBannerId = "";
        /** wx自定义格子 */
        this.customBoxAdId = "";
        this.nativeBannerIds = [];
        this.nativeIconIds = [];
        this.nativeinpageIds = [];
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/DefaultDevice.ts":
/*!**********************************************!*\
  !*** ./src/LTGame/Platform/DefaultDevice.ts ***!
  \**********************************************/
/*! exports provided: default, OppoDevice, VivoDevice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DefaultDevice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OppoDevice", function() { return OppoDevice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VivoDevice", function() { return VivoDevice; });
class DefaultDevice {
    Vibrate(isLong) {
        console.log("调用震动", isLong);
    }
}
class OppoDevice {
    constructor() {
        this.base = qg;
        console.log('QGDIVCE INIT', this.base);
    }
    Vibrate(isLong) {
        console.log('调用振动', isLong);
        if (this.base) {
            if (isLong) {
                this.base.vibrateLong({
                    success: (res) => {
                        console.log('振动');
                    },
                    fail: (res) => { console.log('振动失败'); },
                    complete: (res) => { }
                });
            }
            else {
                this.base.vibrateShort({
                    success: (res) => { console.log('短振动'); },
                    fail: (res) => { console.log('短振动失败'); },
                    complete: (res) => { }
                });
            }
        }
    }
}
class VivoDevice {
    constructor() {
        this.base = qg;
        console.log('QGDIVCE INIT', this.base);
    }
    Vibrate(isLong) {
        console.log('调用振动', isLong);
        if (this.base) {
            if (isLong) {
                this.base.vibrateLong();
            }
            else {
                this.base.vibrateShort();
            }
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/DefaultPlatform.ts":
/*!************************************************!*\
  !*** ./src/LTGame/Platform/DefaultPlatform.ts ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DefaultPlatform; });
/* harmony import */ var _UIExt_DefaultUI_UI_FakeBannerVMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIExt/DefaultUI/UI_FakeBannerVMediator */ "./src/LTGame/UIExt/DefaultUI/UI_FakeBannerVMediator.ts");
/* harmony import */ var _UIExt_DefaultUI_UI_FakeInterstitalMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UIExt/DefaultUI/UI_FakeInterstitalMediator */ "./src/LTGame/UIExt/DefaultUI/UI_FakeInterstitalMediator.ts");
/* harmony import */ var _UIExt_DefaultUI_UI_FakeRewardADMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../UIExt/DefaultUI/UI_FakeRewardADMediator */ "./src/LTGame/UIExt/DefaultUI/UI_FakeRewardADMediator.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Impl_Web_WebRecordManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Impl/Web/WebRecordManager */ "./src/LTGame/Platform/Impl/Web/WebRecordManager.ts");
/* harmony import */ var _IPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./IPlatform */ "./src/LTGame/Platform/IPlatform.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");











class DefaultPlatform {
    constructor() {
        this.useWAV = false;
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_5__["EPlatformType"].Web;
        this.safeArea = null;
        this.recordManager = new _Impl_Web_WebRecordManager__WEBPACK_IMPORTED_MODULE_6__["WebRecordManager"]();
        this.device = new _DefaultDevice__WEBPACK_IMPORTED_MODULE_4__["default"]();
        this.systemInfo = null;
        /**
         * 是否支持直接跳转到其他小程序
         * 默认平台进行强制fake true,方便进行调试
         */
        this.isSupportJumpOther = true;
    }
    setUserCloudStorage(key, value) {
        console.log(`当前平台不支持上报排行key=${key}value=${value}`);
    }
    showFavoriteGuide() {
        console.log(`当前平台不支持 触发收藏`);
    }
    getRankList(key) {
        console.log(`当前平台不支持获取排行key=${key}`);
    }
    showGameBoxBannerAd() {
    }
    hideGameBoxBannerAd() {
    }
    postMsg(msg) {
    }
    getUserInfo() {
        return new Promise((resolve, reject) => {
            if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_9__["default"].IsNullOrEmpty(_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_10__["default"].instance.nickName) && !_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_9__["default"].IsNullOrEmpty(_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_10__["default"].instance.uid)) {
                _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_10__["default"].instance.nickName = "游客" + _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_10__["default"].instance.uid.substr(2, 16);
                _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_10__["default"].instance.avatarUrl = "https://sf1-ttcdn-tos.pstatp.com/obj/developer/app/ttd60ba0b64931e10f/iconed57a79";
                _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_10__["default"].SaveToDisk();
                resolve();
            }
        });
    }
    Init(platformData) {
        this.loginState = {
            isLogin: true,
            code: "111111111111"
        };
        this.userInfo = { nickName: '未登录用户666', avatarUrl: '66.png' };
        Laya.timer.once(500, this, this._FakeLoginEnd);
        this._InitSystemInfo();
        this.openDataContext = new _IPlatform__WEBPACK_IMPORTED_MODULE_7__["OpenDataContext"](this.base);
    }
    _FakeLoginEnd() {
        if (this.onLoginEnd)
            this.onLoginEnd.run();
    }
    _InitSystemInfo() {
        try {
            console.log(window.innerWidth, window.innerHeight);
            this.safeArea = {};
            this.safeArea.left = 0;
            this.safeArea.right = 0;
            this.safeArea.bottom = window.innerHeight;
            this.safeArea.top = 0;
            this.safeArea.width = window.innerWidth;
            this.safeArea.height = window.innerHeight - this.safeArea.top;
            console.log("初始化安全区域完成");
        }
        catch (e) {
            console.error(e);
            console.error("获取设备信息失败,执行默认初始化");
            this.safeArea = null;
        }
    }
    IsBannerAvaliable() {
        return false;
    }
    IsVideoAvaliable() {
        return true;
    }
    IsInterstitalAvaliable() {
        return false;
    }
    ShowBannerAd() {
        console.log("调用ShowBannerAd");
        return;
        _UIExt_DefaultUI_UI_FakeBannerVMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Show();
    }
    HideBannerAd() {
        console.log("调用HideBannerAd");
        _UIExt_DefaultUI_UI_FakeBannerVMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Hide();
    }
    ShowRewardVideoAd(onSuccess, onSkipped, onFailed) {
        console.log("调用ShowRewardVideoAd");
        _UIExt_DefaultUI_UI_FakeRewardADMediator__WEBPACK_IMPORTED_MODULE_2__["default"].instance.Show([onSuccess, onSkipped]);
    }
    ShowRewardVideoAdAsync() {
        return new Promise(function (resolve) {
            if (window["__GM"]) {
                console.error("！！！GM模式！！！");
                return resolve(true);
            }
            _LTPlatform__WEBPACK_IMPORTED_MODULE_8__["default"].instance.ShowRewardVideoAd(Laya.Handler.create(this, () => {
                resolve(true);
            }), Laya.Handler.create(this, () => {
                resolve(false);
                _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast('skip ads cannot get reward');
            }), Laya.Handler.create(this, () => {
                resolve(null);
                _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast('fetch ads failed');
            }));
        });
    }
    ShowInterstitalAd() {
        console.log("调用ShowInterstitalAd");
        _UIExt_DefaultUI_UI_FakeInterstitalMediator__WEBPACK_IMPORTED_MODULE_1__["default"].instance.Show();
    }
    GetFromAppId() {
        return null;
    }
    ShareAppMessage(obj, onSuccess = null, onFailed = null) {
        console.log("分享消息", obj);
        if (onSuccess) {
            onSuccess.run();
        }
    }
    LoadSubpackage(name, onSuccess, onFailed, onProgress) {
        if (onSuccess) {
            onSuccess.run();
        }
    }
    RecordEvent(eventId, param) {
        console.log("记录事件", eventId, param);
    }
    ShareVideoInfo() {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_8__["default"].platformStr, "暂未实现录屏功能");
    }
    _CheckUpdate() {
    }
    ShowToast(str) {
        _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast(str);
    }
    OpenGameBox(ids) {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_8__["default"].platformStr, "暂不支持互推游戏盒子");
    }
    HideGameBox() { }
    NavigateToApp(appid, path, extra) {
        return new Promise((resolve, reject) => {
            console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_8__["default"].platformStr, `暂不支持小程序跳转appid:${appid}`);
            // 这里使用resolve
            resolve(false);
        });
    }
    createShortcut() {
        return new Promise((resolve, reject) => {
            console.error("当前平台不支持创建桌面图标");
            resolve(true);
        });
    }
    /**是否已创建桌面图标 */
    hasShortcutInstalled() {
        return new Promise((resolve, reject) => {
            resolve(false);
        });
    }
    GetStorage(key) {
        console.log('读本地存储');
        return Laya.LocalStorage.getItem(key);
    }
    SetStorage(key, data) {
        console.log('写本地存储');
        Laya.LocalStorage.setItem(key, data);
    }
    followOfficialAccount() {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_8__["default"].platformStr, "暂不支持关注");
    }
    checkFollowState() {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_8__["default"].platformStr, "暂不支持关注");
    }
    SetClipboardData(str) {
        console.log("暂不支持拷贝剪切板", str);
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/DefaultRecordManager.ts":
/*!*****************************************************!*\
  !*** ./src/LTGame/Platform/DefaultRecordManager.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DefaultRecordManager; });
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");

class DefaultRecordManager {
    constructor() {
        this.supportRecord = false;
        this.isRecording = false;
        this.isPausing = false;
        this.isRecordSuccess = false;
    }
    StartRecord(onStart, onOverTime) {
        console.log("该平台" + _LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].platformStr + "不支持录制视频");
    }
    StopRecord(onStop) {
        console.log("该平台" + _LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].platformStr + "不支持录制视频");
    }
    Pause(onPause) {
        console.log("该平台" + _LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].platformStr + "不支持录制视频");
    }
    Resume(onReume) {
        console.log("该平台" + _LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].platformStr + "不支持录制视频");
    }
    RecordClip(timeRange) {
        console.log("该平台" + _LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].platformStr + "不支持录制视频");
    }
    ShareVideo(onSuccess, onCancel, onFailed) {
        if (onFailed) {
            onFailed.run();
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/EPlatformType.ts":
/*!**********************************************!*\
  !*** ./src/LTGame/Platform/EPlatformType.ts ***!
  \**********************************************/
/*! exports provided: EPlatformType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EPlatformType", function() { return EPlatformType; });
var EPlatformType;
(function (EPlatformType) {
    EPlatformType[EPlatformType["None"] = 0] = "None";
    EPlatformType[EPlatformType["Web"] = 1] = "Web";
    EPlatformType[EPlatformType["WX"] = 2] = "WX";
    EPlatformType[EPlatformType["QQ"] = 3] = "QQ";
    EPlatformType[EPlatformType["BD"] = 4] = "BD";
    EPlatformType[EPlatformType["Oppo"] = 5] = "Oppo";
    EPlatformType[EPlatformType["Vivo"] = 6] = "Vivo";
    EPlatformType[EPlatformType["TT"] = 7] = "TT";
    EPlatformType[EPlatformType["QTT"] = 8] = "QTT";
    EPlatformType[EPlatformType["Native_IOS"] = 9] = "Native_IOS";
    EPlatformType[EPlatformType["KS"] = 10] = "KS";
    EPlatformType[EPlatformType["HW"] = 11] = "HW";
    EPlatformType[EPlatformType["Native_Android"] = 12] = "Native_Android";
})(EPlatformType || (EPlatformType = {}));


/***/ }),

/***/ "./src/LTGame/Platform/HWPlatform.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Platform/HWPlatform.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return HWPlatform; });
/* harmony import */ var _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../script/manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Impl_Web_WebRecordManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Impl/Web/WebRecordManager */ "./src/LTGame/Platform/Impl/Web/WebRecordManager.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _UIExt_DefaultUI_Cmp_View_NativeInpage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../UIExt/DefaultUI/Cmp/View_NativeInpage */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_NativeInpage.ts");










class HWPlatform extends _DefaultPlatform__WEBPACK_IMPORTED_MODULE_7__["default"] {
    constructor() {
        super(...arguments);
        this.isIOS = false;
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].HW;
        this.safeArea = null;
        this.recordManager = new _Impl_Web_WebRecordManager__WEBPACK_IMPORTED_MODULE_5__["WebRecordManager"]();
        this.device = new _DefaultDevice__WEBPACK_IMPORTED_MODULE_3__["OppoDevice"]();
        this.systemInfo = null;
        /**
         * 是否支持直接跳转到其他小程序
         * 默认平台进行强制fake true,方便进行调试
         */
        this.isSupportJumpOther = true;
        this.isBannerShow = false;
    }
    Init(platformData) {
        this.loginState = {
            isLogin: false,
            code: null
        };
        this.base = window["qg"];
        if (this.base == null) {
            console.error("平台初始化错误", _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr);
            return;
        }
        this.platformData = platformData;
        this._InitLauchOption();
        this._Login();
        this._InitAdService();
        this.getSystemInfo();
    }
    _InitLauchOption() {
        // 绑定onShow事件
        this.base.onShow(this._OnShow);
        this.base.onHide(this._OnHide);
        // 自动获取一次启动参数
        let res = this.base.getLaunchOptionsSync();
        this._OnShow(res);
    }
    /**
     * 小游戏回到前台的事件
     */
    _OnShow(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "OnShow", res);
        _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.lauchOption = res;
        _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance._CheckUpdate();
        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Resume();
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
            if (_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onResume) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onResume.runWith(res);
            }
            if (_UIExt_DefaultUI_Cmp_View_NativeInpage__WEBPACK_IMPORTED_MODULE_9__["View_NativeInPage"].Inst && _UIExt_DefaultUI_Cmp_View_NativeInpage__WEBPACK_IMPORTED_MODULE_9__["View_NativeInPage"].Inst.visible) {
                _UIExt_DefaultUI_Cmp_View_NativeInpage__WEBPACK_IMPORTED_MODULE_9__["View_NativeInPage"].Inst.ReportShow();
            }
            let cacheOnShow = _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance["_cacheOnShowHandle"];
            console.log(cacheOnShow);
            if (cacheOnShow) {
                cacheOnShow.run();
                _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance["_cacheOnShowHandle"] = null;
            }
        });
    }
    _Login() {
        this.loginState = {
            isLogin: false,
            code: ""
        };
        this.base.gameLoginWithReal({
            forceLogin: 1,
            appid: this.platformData.appId,
            success: (data) => {
                console.log("Game login success:" + data);
                this.base.savePlayerInfoWithReal({
                    rank: "1",
                    role: "a",
                    area: "cn",
                    sociaty: "1",
                    success: (data) => { console.log("save player info with real success:" + data); },
                    fail: (data, code) => { console.log("save player info with real fail:" + data + ", code:" + code); }
                });
            },
            fail: (data, code) => {
                console.log("on gameLogin fail: " + data + "," + code);
            },
            complete: () => {
                console.log("on gameLogin: complete");
            }
        });
    }
    _InitAdService() {
        this.base.setUnderAgeOfPromise(false);
        //更新用户意见状态
        // this.base.requestConsentUpdate({
        //     success: (data) => {
        //         console.log('requestConsentUpdate success data ' + JSON.stringify(data));
        //         if (data.isNeedConsent && data.consentStatus == 2) {
        //             //征求用户意见
        //         }
        //     },
        //     fail: (data) => {
        //         console.log('requestConsentUpdate fail data ' + JSON.stringify(data))
        //     },
        //     complete: () => {
        //         this.base.setConsentStatus(0);
        //     },
        // })
    }
    /**
    * 小游戏退出前台的事件
    */
    _OnHide(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "OnHide", res);
        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Pause();
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onPause) {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onPause.runWith(res);
        }
    }
    getSystemInfo() {
        this.base.getSystemInfo({
            success: (res) => {
                this.systemInfo = res;
                console.log('systeminfo', JSON.stringify(this.systemInfo));
                if (!this.safeArea) {
                    this.safeArea = { top: res['statusBarHeight'], bottom: res['screenHeight'], left: 0, right: res['screenWidth'], height: res['screenHeight'], width: res['screenWidth'] };
                }
                this._cacheScreenScale = this.systemInfo.screenWidth / Laya.stage.width;
                console.log(this.safeArea);
            },
            fail: () => { },
            complete: () => { }
        });
    }
    IsBannerAvaliable() {
        return;
    }
    IsVideoAvaliable() {
        return;
    }
    IsInterstitalAvaliable() {
        return;
    }
    ShowInterstitalAd() {
        let interad = this.base.createInterstitialAd({
            adUnitId: this.platformData.interstitialId
        });
        interad.onLoad((data) => {
            interad.show();
        });
        if (interad) {
            interad.load();
        }
    }
    _CreateBannerAd() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_8__["default"].IsNullOrEmpty(this.platformData.bannerId)) {
            console.log("无有效的banner广告ID,取消加载");
            return;
        }
        let windowWidth = this.base.getSystemInfoSync().windowWidth;
        let windowHeight = this.base.getSystemInfoSync().windowHeight;
        this._banner = this.base.createBannerAd({
            adUnitId: this.platformData.bannerId,
            style: {
                top: windowHeight - 57,
                left: 0,
                height: 57,
                width: 360
            }
        });
        this._banner.onLoad(() => {
            console.log("banner加载成功", JSON.stringify(this._banner.style));
            // this._banner.style.top = windowHeight;
            // this._banner.style.left = 0;
        });
        this._banner.onError((res) => {
            console.error("banner广告加载失败", res);
        });
        // this._banner.onResize((size) => {
        //     console.log("banner resize", JSON.stringify(size));
        //     // this._banner.style.top = windowHeight - size.height;
        //     // this._banner.style.left = (windowWidth - size.width) / 2;
        // });
    }
    ShowBannerAd() {
        if (!this._banner) {
            this._CreateBannerAd();
        }
        if (this.isBannerShow)
            return;
        this.isBannerShow = true;
        this._banner.show();
    }
    HideBannerAd() {
        if (this._banner && this.isBannerShow) {
            this.isBannerShow = false;
            this._banner.hide();
        }
    }
    ShowRewardVideoAd(onSuccess, onSkipped) {
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {
            _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Pause();
            if (this._rewardVideo) {
                yield this._rewardVideo.load();
            }
            else {
                this._rewardVideo = this.base.createRewardedVideoAd({
                    adUnitId: this.platformData.rewardVideoId,
                    success: (code) => {
                        console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd: success");
                    },
                    fail: (data, code) => {
                        console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd fail: " + data + "," + code);
                    },
                    complete: () => {
                        console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd complete");
                    }
                });
                // this._rewardVideo.setTagForUnderAgeOfPromise(0);
                // this._rewardVideo.setNonPersonalizedAd(1);
                this._rewardVideo.onLoad(() => {
                    console.log("视频广告加载成功");
                    this._rewardVideo.show();
                });
                this._rewardVideo.onError((res) => {
                    console.error("视频广告加载失败", JSON.stringify(res));
                });
                this._rewardVideo.onClose((res) => {
                    console.error("视频广告关闭", JSON.stringify(res));
                    let isEnd = res["isEnded"];
                    _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
                        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Resume();
                        if (isEnd) {
                            if (this._rewardSuccessed)
                                this._rewardSuccessed.run();
                        }
                        else {
                            if (this._rewardSkipped)
                                this._rewardSkipped.run();
                        }
                    });
                });
                yield this._rewardVideo.load();
                // this._rewardVideo.show().then(() => {
                //     resolve();
                // }).catch(() => {
                //     reject();
                // });
            }
        }));
    }
    GetFromAppId() {
        return null;
    }
    ShareAppMessage(obj, onSuccess = null, onFailed = null) {
        console.log("分享消息", obj);
        if (onSuccess) {
            onSuccess.run();
        }
    }
    LoadSubpackage(name, onSuccess, onFailed) {
        // this.base.loadSubpackage({
        //     subpackage: name,
        //     success: () => {
        //         console.log("华为分包加载完成", `${name}`);
        //         if (onSuccess) {
        //             onSuccess.run();
        //         }
        //     },
        //     fail: (err) => {
        //         console.error("华为分包加载出错", JSON.stringify(err));
        //         if (onFailed) {
        //             onFailed.run();
        //         }
        //     },
        //     complete: () => {
        //     }
        // });
        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess.run();
    }
    RecordEvent(eventId, param) {
        console.log("记录事件", eventId, param);
    }
    ShareVideoInfo() {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "暂未实现录屏功能");
    }
    _CheckUpdate() {
    }
    ShowToast(str) {
        _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].Toast(str);
    }
    OpenGameBox() {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "暂不支持互推游戏盒子");
    }
    NavigateToApp(appid, path, extra) {
        return new Promise((resolve, reject) => {
            console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, `暂不支持小程序跳转appid:${appid}`);
            // 这里使用resolve
            resolve(false);
        });
    }
    hasShortcutInstalled() {
        return new Promise((resolve, reject) => {
            this.base.hasShortcutInstalled({
                success: (status) => {
                    if (status) {
                        resolve(true);
                    }
                    else {
                        resolve(false);
                    }
                }
            });
        });
    }
    createShortcut() {
        console.log('创建桌面图标');
        return new Promise((resolve, reject) => {
            this.base.installShortcut({
                success: () => {
                    console.log('创建桌面图标成功');
                    resolve(true);
                }
            });
        });
    }
    GetStorage(key) {
        console.log('读本地存储');
        return Laya.LocalStorage.getItem(key);
    }
    SetStorage(key, data) {
        console.log('写本地存储');
        Laya.LocalStorage.setItem(key, data);
    }
    followOfficialAccount() {
        console.log('暂不支持');
        return;
    }
    checkFollowState() {
        console.log('暂不支持');
        return;
    }
    SetClipboardData(str) {
        this.base.setClipboardData({ data: str });
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/IPlatform.ts":
/*!******************************************!*\
  !*** ./src/LTGame/Platform/IPlatform.ts ***!
  \******************************************/
/*! exports provided: OpenDataContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OpenDataContext", function() { return OpenDataContext; });
/**开放数据域 */
class OpenDataContext {
    constructor(_base) {
        this.base = _base;
    }
    /** 往开放域推送数据 */
    postMsg(msg) {
    }
    /**设置用户分组 */
    setUserGroup(group) {
    }
    /**上报游戏数据
     * {score:10}
     */
    setUserCloudStorage(obj) {
    }
    /**获取用户数据 */
    getUserCloudStorage(keys) {
    }
    getCloudStorageByRelation() {
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Impl/KS/KSRecordManager.ts":
/*!********************************************************!*\
  !*** ./src/LTGame/Platform/Impl/KS/KSRecordManager.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return KSRecordManager; });
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");

class KSRecordManager {
    constructor(base) {
        this.supportRecord = true;
        this._base = base;
        this.isRecording = false;
        this.isRecordSuccess = false;
        this.isPausing = false;
    }
    get isSupportRecord() {
        if (this._nativeManager) {
            this.supportRecord = true;
            return true;
        }
        return false;
    }
    StartRecord(onStart, onOverTime) {
        console.log("KS调用开始录屏");
        this._cacheStartHandle = onStart;
        this._cacheOverTimeHandle = onOverTime;
        this._cacheStopHandle = null;
        if (!this._nativeManager) {
            try {
                console.log("创建录屏组件");
                this._nativeManager = this._base.createMediaRecorder();
            }
            catch (error) {
                console.error('创建录屏组件错误', JSON.stringify(error));
            }
        }
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_0__["default"].Seconds(1).then(() => {
            if (this._nativeManager) {
                this.supportRecord = true;
                this._nativeManager.init({
                    callback: (error) => {
                        if (error != null && error != undefined) {
                            console.log("录屏初始化失败: " + JSON.stringify(error));
                            return;
                        }
                        console.log("录屏初始化成功");
                    }
                });
                this._nativeManager.onError({
                    listener: (error) => {
                        console.log("录屏错误 终止录屏: " + error);
                        if (this._cacheStopHandle)
                            this._cacheStopHandle.run();
                    }
                });
                this._nativeManager.start({
                    callback: (error) => {
                        if (error != null && error != undefined) {
                            console.log("开始录屏失败: " + JSON.stringify(error));
                            return;
                        }
                        console.log("开始录屏成功");
                        if (this._cacheStartHandle)
                            this._cacheStartHandle.run();
                    }
                });
            }
            else {
                console.error(" 无录屏组件");
            }
        });
    }
    Pause(onPause) {
        if (!this.isRecording) {
            console.error("当前未开始录制,无法暂停录制");
            return;
        }
        if (this.isPausing) {
            console.log("当前录制状态已暂停");
            return;
        }
        console.log("调用暂停录制");
        this._cachePauseHandle = onPause;
        this._nativeManager.pause({
            callback: (error) => {
                if (error != null && error != undefined) {
                    console.log("暂停录屏失败: " + JSON.stringify(error));
                    return;
                }
                console.log("暂停录屏成功");
                if (this._cachePauseHandle)
                    this._cachePauseHandle.run();
            }
        });
    }
    Resume(onReume) {
        if (!this.isRecording) {
            console.error("当前未开始录制,无法恢复录制");
            return;
        }
        if (!this.isPausing) {
            console.log("当前录制状态正在进行中");
            return;
        }
        console.log("调用恢复录制");
        this._cacheResumeHandle = onReume;
        this._nativeManager.resume({
            callback: (error) => {
                if (error != null && error != undefined) {
                    console.log("恢复录屏失败: " + JSON.stringify(error));
                    return;
                }
                if (this._cacheResumeHandle)
                    this._cacheResumeHandle.run();
                console.log("恢复录屏成功");
            }
        });
    }
    RecordClip(timeRange) {
    }
    StopRecord(onStop) {
        console.log("调用结束录屏");
        if (!this.supportRecord)
            return;
        if (!this._nativeManager)
            return;
        this._cacheStopHandle = onStop;
        this._nativeManager.stop({
            callback: (error) => {
                if (error != null && error != undefined) {
                    console.log("停止录屏失败: " + JSON.stringify(error));
                    return;
                }
                console.log("停止录屏成功");
                this.isRecordSuccess = true;
                if (this._cacheStopHandle)
                    this._cacheStopHandle.run();
            }
        });
    }
    ShareVideo(onSuccess, onCancel, onFailed) {
        if (this.isRecordSuccess) {
            this._nativeManager.publishVideo({
                callback: (error) => {
                    if (error != null && error != undefined) {
                        console.log("分享录屏失败: " + JSON.stringify(error));
                        if (onCancel)
                            onCancel.run();
                        return;
                    }
                    console.log("分享录屏成功");
                    if (onSuccess)
                        onSuccess.run();
                }
            });
        }
        else {
            console.log("无视频可以分享");
            if (onFailed) {
                onFailed.run();
            }
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Impl/Native_Android/NativeAndroidDevice.ts":
/*!************************************************************************!*\
  !*** ./src/LTGame/Platform/Impl/Native_Android/NativeAndroidDevice.ts ***!
  \************************************************************************/
/*! exports provided: NativeAndroidDevice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NativeAndroidDevice", function() { return NativeAndroidDevice; });
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");

class NativeAndroidDevice extends _DefaultDevice__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(base) {
        super();
        this._base = base;
    }
    Vibrate(isLong) {
        if (isLong) {
            this._base.CallJavaFunc("Vibrator_Long", null);
        }
        else {
            this._base.CallJavaFunc("Vibrator_Short", null);
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Impl/Native_Android/NativeAndroidPlatform.ts":
/*!**************************************************************************!*\
  !*** ./src/LTGame/Platform/Impl/Native_Android/NativeAndroidPlatform.ts ***!
  \**************************************************************************/
/*! exports provided: NativeAndroidPlatform */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NativeAndroidPlatform", function() { return NativeAndroidPlatform; });
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _NativeAndroidDevice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NativeAndroidDevice */ "./src/LTGame/Platform/Impl/Native_Android/NativeAndroidDevice.ts");





class NativeAndroidPlatform extends _DefaultPlatform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this.useWAV = true;
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].Native_Android;
        this.safeArea = null;
        this._isDebug = true;
    }
    ;
    Init(platformData) {
        this.platformData = platformData;
        let conchConfig = window['conchConfig'];
        let PlatformClass = window['PlatformClass'];
        let os = conchConfig.getOS();
        if (os == "Conch-android") {
            this.bridge = PlatformClass.createClass("demo.JSBridge"); //创建脚本代理
            this._InitBridge();
        }
        console.log("平台初始化完成", _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].platformStr, this);
        this._InitSystemInfo();
        this.loginState = {
            isLogin: true,
            code: "111111111111"
        };
        this.userInfo = { nickName: '未登录用户666', avatarUrl: '66.png' };
        Laya.timer.once(500, this, this.FakeLoginEnd);
        this.device = new _NativeAndroidDevice__WEBPACK_IMPORTED_MODULE_4__["NativeAndroidDevice"](this);
    }
    _InitSystemInfo() {
        try {
            this.safeArea = {};
            this.safeArea.left = 0;
            this.safeArea.right = 0;
            this.safeArea.bottom = 0;
            this.safeArea.top = 0;
            this.safeArea.width = 750;
            this.safeArea.height = 1334;
            this._cacheScreenScale = 750 / Laya.stage.width;
            console.log("初始化安全区域完成");
        }
        catch (e) {
            console.error(e);
            console.error("获取设备信息失败,执行默认初始化");
            this.safeArea = null;
        }
    }
    FakeLoginEnd() {
        if (this.onLoginEnd)
            this.onLoginEnd.run();
    }
    ShowRewardVideoAd(onSuccess, onSkipped, onFailed) {
        this._cacheRewardSuccess = onSuccess;
        this._cacheRewardSkipped = onSkipped;
        this._cacheRewardFailed = onFailed;
        _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].ShowLoading("Loading...");
        this._CallJavaFunc("ShowRewardVideoAd", null);
    }
    ShowInterstitalAd() {
        this._CallJavaFunc("ShowInterstitalAd", null);
    }
    ShowBannerAd() {
        this._CallJavaFunc("ShowBannerAd", null);
    }
    HideBannerAd() {
        this._CallJavaFunc("HideBannerAd", null);
    }
    _CallJavaFunc(funcName, param) {
        let callData = {
            funcName: funcName,
            param: param
        };
        let json = JSON.stringify(callData);
        this.bridge.call("CallFromJS", json);
    }
    _InitBridge() {
        this.bridge.callWithBack((jsonStr) => {
            var _a, _b, _c;
            console.log("-----recv from java:" + jsonStr);
            let backData = JSON.parse(jsonStr);
            switch (backData.adtype) {
                case EADType.RewardVideo:
                    // 关闭加载界面
                    _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].HideLoading();
                    if (backData.result == EBackResult.CloseWithReward) {
                        (_a = this._cacheRewardSuccess) === null || _a === void 0 ? void 0 : _a.run();
                    }
                    else if (backData.result == EBackResult.LoadFailed) {
                        (_b = this._cacheRewardFailed) === null || _b === void 0 ? void 0 : _b.run();
                    }
                    else {
                        (_c = this._cacheRewardSkipped) === null || _c === void 0 ? void 0 : _c.run();
                    }
                    this._cacheRewardSkipped = null;
                    this._cacheRewardSuccess = null;
                    this._cacheRewardFailed = null;
                    break;
            }
        }, "_CallBridge_");
    }
    CallJavaFunc(funcName, param) {
        this._CallJavaFunc(funcName, param);
    }
}
var EADType;
(function (EADType) {
    EADType[EADType["RewardVideo"] = 1] = "RewardVideo";
})(EADType || (EADType = {}));
var EBackResult;
(function (EBackResult) {
    EBackResult[EBackResult["LoadFailed"] = 1] = "LoadFailed";
    EBackResult[EBackResult["CloseWithReward"] = 2] = "CloseWithReward";
    EBackResult[EBackResult["CloseWithNoReward"] = 3] = "CloseWithNoReward";
})(EBackResult || (EBackResult = {}));


/***/ }),

/***/ "./src/LTGame/Platform/Impl/Native_IOS/NativeIOSPlatform.ts":
/*!******************************************************************!*\
  !*** ./src/LTGame/Platform/Impl/Native_IOS/NativeIOSPlatform.ts ***!
  \******************************************************************/
/*! exports provided: NativeIOSPlatform */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NativeIOSPlatform", function() { return NativeIOSPlatform; });
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");




class NativeIOSPlatform extends _DefaultPlatform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].Native_IOS;
        this.useWAV = true;
        this.isSupportJumpOther = false;
        this._isDebug = false;
    }
    Init(platformData) {
        this.platformData = platformData;
        let conchConfig = window['conchConfig'];
        let PlatformClass = window['PlatformClass'];
        let os = conchConfig.getOS();
        if (os == "Conch-ios") {
            this.base = PlatformClass.createClass("JSBridge"); //创建脚本代理
        }
        console.log("平台初始化完成", _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].platformStr, this);
        this._InitSystemInfo();
        if (this._isDebug) {
            console.log("js 调用 InitAppId");
        }
        // this.base.call("InitAppId", platformData.appId);
    }
    _InitSystemInfo() {
        try {
            this.safeArea = {};
            this.safeArea.left = 0;
            this.safeArea.right = 0;
            this.safeArea.bottom = 0;
            this.safeArea.top = 0;
            this.safeArea.width = 750;
            this.safeArea.height = 1334;
            console.log("初始化安全区域完成");
        }
        catch (e) {
            console.error(e);
            console.error("获取设备信息失败,执行默认初始化");
            this.safeArea = null;
        }
    }
    ShowBannerAd() {
        if (this._isDebug) {
            console.log("js 调用 ShowBannerAd");
        }
        this._AsyncBack("ShowBannerAd", null);
    }
    HideBannerAd() {
        if (this._isDebug) {
            console.log("js 调用 HideBannerAd");
        }
        this._AsyncBack("HideBannerAd", null);
    }
    ShowRewardVideoAd(onSuccess, onSkipped, onFailed) {
        if (this._isDebug) {
            console.log("js 调用 ShowRewardVideoAd");
        }
        _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].ShowLoading("广告加载中");
        let isSuccessed = true;
        this._AsyncBack("ShowRewardVideoAd", (value) => {
            _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].HideLoading();
            if (this._isDebug) {
                console.log("二次转接" + value);
            }
            switch (value) {
                case "Failed":
                    onFailed === null || onFailed === void 0 ? void 0 : onFailed.run();
                    break;
                case "Close":
                    if (isSuccessed) {
                        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess.run();
                    }
                    else {
                        onSkipped === null || onSkipped === void 0 ? void 0 : onSkipped.run();
                    }
                    break;
                case "Skip":
                    isSuccessed = true;
                    break;
                case "Success":
                    isSuccessed = true;
                    break;
            }
        });
    }
    _AsyncBack(msg, action) {
        this.base.callWithBack(function (value) {
            if (this._isDebug) {
                console.log("接收到OC消息", value);
            }
            action(value);
        }, "_AsyncBack:", msg);
    }
    ShowInterstitalAd() {
        if (this._isDebug) {
            console.log("js 调用 ShowInterstitalAd");
        }
        this._AsyncBack("ShowIntersital", null);
    }
    RecordEvent(eventId, param) {
        let paramStr = "";
        if (param != null) {
            paramStr = JSON.stringify(param);
        }
        if (this._isDebug) {
            console.log("js 调用 RecordEvent");
        }
        this.base.call("RecordEvent:", eventId + "|" + paramStr);
    }
    ShowFullScreenAd() {
        if (this._isDebug) {
            console.log("js 调用 ShowFullScreen");
        }
        this._AsyncBack("ShowFullScreen", null);
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Impl/OpenDataContext.ts":
/*!*****************************************************!*\
  !*** ./src/LTGame/Platform/Impl/OpenDataContext.ts ***!
  \*****************************************************/
/*! exports provided: default, EOpenDataMethod */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return OpenDataContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EOpenDataMethod", function() { return EOpenDataMethod; });
/**开放数据域 */
class OpenDataContext {
    constructor(_base) {
        this.supportOpenContext = false;
        this.base = _base;
    }
    /** 往开放域推送数据 */
    postMsg(msg) {
    }
    /**设置用户分组 */
    setUserGroup(group) {
    }
    /**上报游戏数据
     * {score:10}
     */
    setUserCloudStorage(obj) {
    }
    /**获取用户数据 */
    getUserCloudStorage(keys) {
    }
    getCloudStorageByRelation() {
    }
    /**
     * 订阅消息
     * @param longTime 是否长期订阅
     */
    subscribeAppMsg(longTime = false) {
        return;
    }
}
var EOpenDataMethod;
(function (EOpenDataMethod) {
    EOpenDataMethod["resize"] = "resize";
    EOpenDataMethod["getFriendRankData"] = "getFriendRankData";
    EOpenDataMethod["showFriendRank"] = "showFriendRank";
    EOpenDataMethod["changePage"] = "changePage";
    EOpenDataMethod["updateMaxScore"] = "updateMaxScore";
    EOpenDataMethod["getSelfScore"] = "getSelfScore";
    EOpenDataMethod["getUserInfo"] = "getUserInfo";
})(EOpenDataMethod || (EOpenDataMethod = {}));


/***/ }),

/***/ "./src/LTGame/Platform/Impl/TT/TTDevice.ts":
/*!*************************************************!*\
  !*** ./src/LTGame/Platform/Impl/TT/TTDevice.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TTDevice; });
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");

class TTDevice extends _DefaultDevice__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(base) {
        super();
        this._base = base;
    }
    Vibrate(isLong) {
        console.log("调用震动", isLong);
        if (isLong) {
            this._base.vibrateLong({
                success(res) { },
                fail(res) {
                    console.error("调用震动失败", res);
                },
                complete(res) { }
            });
        }
        else {
            this._base.vibrateShort({
                success(res) { },
                fail(res) {
                    console.error("调用震动失败", res);
                },
                complete(res) { }
            });
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Impl/TT/TTRecordManager.ts":
/*!********************************************************!*\
  !*** ./src/LTGame/Platform/Impl/TT/TTRecordManager.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TTRecordManager; });
/* harmony import */ var _script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../script/config/PackConst */ "./src/script/config/PackConst.ts");
/* harmony import */ var _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../DefaultRecordManager */ "./src/LTGame/Platform/DefaultRecordManager.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");




class TTRecordManager extends _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(base) {
        super();
        this.supportRecord = true;
        this.videoID = '';
        this._base = base;
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.systemInfo['appName'] == "devtools") {
            this.supportRecord = false;
        }
        this.isRecording = false;
        this.isRecordSuccess = false;
        this.isPausing = false;
        this._nativeManager = this._base.getGameRecorderManager();
        this._nativeManager.onStart((res) => {
            console.log("平台开始录制", res);
            this.isRecording = true;
            this.isRecordSuccess = false;
            this._cacheStartHandle && this._cacheStartHandle.run();
        });
        this._nativeManager.onStop((res) => {
            console.log("平台停止录制", res);
            this.videoSavePath = res.videoPath;
            this.isRecording = false;
            this.isRecordSuccess = true;
            if (this._cacheStopHandle) {
                this._cacheStopHandle.run();
            }
            else if (this._cacheOverTimeHandle) {
                this._cacheOverTimeHandle.run();
            }
        });
        this._nativeManager.onError((err) => {
            console.log("录制发生错误", err);
            this.isRecordSuccess = false;
            this.isRecording = false;
        });
        this._nativeManager.onPause((res) => {
            console.log("暂停录制视频", res);
            this.isPausing = true;
            this._cachePauseHandle && this._cachePauseHandle.run();
        });
        this._nativeManager.onResume((res) => {
            console.log("暂停录制视频", res);
            this.isPausing = false;
            this._cacheResumeHandle && this._cacheResumeHandle.run();
        });
    }
    get isSupportRecord() {
        return this.supportRecord;
    }
    StartRecord(onStart, onOverTime) {
        if (!this.supportRecord) {
            console.log("不支持录屏");
            return;
        }
        console.log("调用开始录屏");
        this._cacheStartHandle = onStart;
        this._cacheOverTimeHandle = onOverTime;
        this._cacheStopHandle = null;
        this._nativeManager.start({ duration: 300 });
    }
    Pause(onPause) {
        if (!this.isRecording) {
            console.error("当前未开始录制,无法暂停录制");
            return;
        }
        if (this.isPausing) {
            console.log("当前录制状态已暂停");
            return;
        }
        console.log("调用暂停录制");
        this._cachePauseHandle = onPause;
        this._nativeManager.pause();
    }
    Resume(onReume) {
        if (!this.isRecording) {
            console.error("当前未开始录制,无法恢复录制");
            return;
        }
        if (!this.isPausing) {
            console.log("当前录制状态正在进行中");
            return;
        }
        console.log("调用恢复录制");
        this._cacheResumeHandle = onReume;
        this._nativeManager.resume();
    }
    RecordClip(timeRange) {
        if (!this.isRecording) {
            console.error("当前未开始录制,无法记录精彩时刻");
            return;
        }
        if (this.isPausing) {
            console.log("当前录制状态已暂停,无法记录精彩时刻");
            return;
        }
        if (timeRange == null) {
            this._nativeManager.recordClip({});
        }
        else {
            this._nativeManager.recordClip({ timeRange: timeRange });
        }
    }
    StopRecord(onStop) {
        console.log("调用结束录屏");
        this._cacheStopHandle = onStop;
        this._nativeManager.stop();
    }
    ShareVideo(onSuccess, onCancel, onFailed) {
        console.log(_script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__["PackConst"].data);
        if (this.isRecordSuccess) {
            let shareId = `${_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_3__["default"].instance.uid}${Date.now()}`;
            let shareData = {
                channel: "video",
                title: "",
                desc: "",
                imageUrl: "",
                templateId: _script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__["PackConst"].data.share_id,
                query: `from=sharePage`,
                extra: {
                    videoPath: this.videoSavePath,
                    videoTopics: _script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__["PackConst"].data.topics,
                    withVideoId: true,
                    hashtag_list: _script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__["PackConst"].data.topics,
                    defaultBgm: _script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__["PackConst"].data.defaultBgm,
                    video_title: ""
                },
                success: (res) => {
                    _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance['_cacheOnShowHandle'] = Laya.Handler.create(null, () => {
                        console.log("分享成功", res);
                        this.videoID = res.videoId;
                        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_3__["default"].instance.reportShareInfo(res.videoId, shareId);
                        if (onSuccess) {
                            onSuccess.run();
                        }
                    });
                },
                fail: (e) => {
                    _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance['_cacheOnShowHandle'] = Laya.Handler.create(null, () => {
                        console.log("取消分享");
                        if (onCancel) {
                            onCancel.run();
                        }
                    });
                }
            };
            this._base.shareAppMessage(shareData);
        }
        else {
            console.log("无视频可以分享");
            if (onFailed) {
                onFailed.run();
            }
        }
    }
    navigateToVideo(videoId) {
        if (!this.videoID) {
            return;
        }
        this._base.navigateToVideoView({
            videoId: this.videoID,
            success: (res) => {
                console.log("跳转成功", res);
            },
            fail: (err) => {
                if (err.errCode === 1006) {
                    this._base.showToast({
                        title: "something wrong with your network",
                    });
                }
            },
        });
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Impl/WX/WXOpenDataContext.ts":
/*!**********************************************************!*\
  !*** ./src/LTGame/Platform/Impl/WX/WXOpenDataContext.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WXOpenDataContext; });
/* harmony import */ var _OpenDataContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../OpenDataContext */ "./src/LTGame/Platform/Impl/OpenDataContext.ts");

class WXOpenDataContext extends _OpenDataContext__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(_base) {
        super(_base);
        this.group = "defaultUserGroup";
        this.supportOpenContext = true;
        this.openDataContext = this.base.getOpenDataContext();
    }
    /** 往开放域推送数据 */
    postMsg(msg) {
        if (this.openDataContext) {
            this.openDataContext.postMessage(msg);
        }
    }
    setUserGroup(group) {
        if (!group) {
            group = this.group;
        }
        else {
            this.group = group;
        }
        this.base.setUserGroup({
            groupId: group,
            success: (res) => { console.log("set group success", res); },
            fail: (res) => { console.error("set group fail", res); },
            complete: () => { console.log("set group complete"); }
        });
        // this.postMsg({
        //     command: "setUserGroup",
        //     data: { groupId: group }
        // });
    }
    setUserCloudStorage(obj) {
        this.postMsg({
            command: "setUserCloudStorage",
            data: { key: "score", value: obj.score }
        });
    }
    getUserCloudStorage(keys) {
        this.postMsg({
            command: "getUserCloudStorage",
            data: keys
        });
    }
    getCloudStorageByRelation() {
        this.postMsg({
            command: "getCloudStorageByRelation",
            data: this.group
        });
    }
    subscribeAppMsg(longTime = true) {
        return new Promise((resolve, reject) => {
            if (longTime) {
                this.base.subscribeAppMsg({
                    subscribe: true,
                    success: (res) => {
                        console.log("----subscribeAppMsg----success", res);
                        this.base.requestSubscribeSystemMessage({
                            msgTypeList: ['SYS_MSG_TYPE_INTERACTIVE', 'SYS_MSG_TYPE_RANK'],
                            success(res) {
                                console.log("----requestSubscribeSystemMessage----success", res);
                                resolve(true);
                                // res === {
                                //   errMsg: "requestSubscribeSystemMessage:ok",
                                //   SYS_MSG_TYPE_INTERACTIVE: "accept",
                                //   SYS_MSG_TYPE_RANK: 'reject'
                                // }
                            }
                        });
                    },
                    fail: (res) => {
                        resolve(false);
                        console.log("----subscribeAppMsg----fail", res);
                    }
                });
            }
            else {
                this.base.subscribeAppMsg({
                    tmplIds: ['497925a3da1a6bca31ee9b75e06003e0'],
                    subscribe: true,
                    success: (res) => {
                        console.log("----subscribeAppMsg----success", res);
                        this.base.requestSubscribeSystemMessage({
                            msgTypeList: ['SYS_MSG_TYPE_INTERACTIVE', 'SYS_MSG_TYPE_RANK'],
                            success(res) {
                                console.log("----requestSubscribeSystemMessage----success", res);
                                // res === {
                                //   errMsg: "requestSubscribeSystemMessage:ok",
                                //   SYS_MSG_TYPE_INTERACTIVE: "accept",
                                //   SYS_MSG_TYPE_RANK: 'reject'
                                // }
                                resolve(true);
                            }
                        });
                    },
                    fail: (res) => {
                        resolve(false);
                        console.log("----subscribeAppMsg----fail", res);
                    }
                });
            }
        });
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/Impl/Web/WebRecordManager.ts":
/*!**********************************************************!*\
  !*** ./src/LTGame/Platform/Impl/Web/WebRecordManager.ts ***!
  \**********************************************************/
/*! exports provided: WebRecordManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebRecordManager", function() { return WebRecordManager; });
/* harmony import */ var _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../DefaultRecordManager */ "./src/LTGame/Platform/DefaultRecordManager.ts");

class WebRecordManager extends _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this.supportRecord = false;
    }
    ShareVideo(onSuccess, onCancel, onFailed) {
        if (this.supportRecord) {
            console.log("强制模拟成功");
            if (onSuccess) {
                onSuccess.run();
            }
        }
        else {
            console.log("强制模拟失败");
            if (onFailed) {
                onFailed.run();
            }
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/KSPlatform.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Platform/KSPlatform.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return KSPlatform; });
/* harmony import */ var _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../script/manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Impl_KS_KSRecordManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Impl/KS/KSRecordManager */ "./src/LTGame/Platform/Impl/KS/KSRecordManager.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");








class KSPlatform extends _DefaultPlatform__WEBPACK_IMPORTED_MODULE_7__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].KS;
        this.safeArea = null;
        this.device = new _DefaultDevice__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.systemInfo = null;
        /**
         * 是否支持直接跳转到其他小程序
         * 默认平台进行强制fake true,方便进行调试
         */
        this.isSupportJumpOther = false;
    }
    Init(platformData) {
        this.loginState = {
            isLogin: false,
            code: null
        };
        this.base = window["kwaigame"];
        if (this.base == null) {
            console.error("平台初始化错误", _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr);
            return;
        }
        else {
            console.error("平台初始化", _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr);
        }
        this.platformData = platformData;
        // this._InitLauchOption(); 
        this.readyGo();
        this.base.init({ "appId": platformData.appId });
        this.recordManager = new _Impl_KS_KSRecordManager__WEBPACK_IMPORTED_MODULE_5__["default"](this.base);
        try {
            this.getSystemInfo();
        }
        catch (error) {
            console.error('获取系统信息失败', JSON.stringify(error));
        }
        // console.log(112);
        // console.log(113);
        // this.createVideo();
    }
    readyGo() {
        this.base.readyGo();
    }
    willClose() {
        this.base.willClose();
    }
    _InitLauchOption() {
        // 绑定onShow事件
        // this.base.onShow(this._OnShow);
        // this.base.onHide(this._OnHide);
        // // 自动获取一次启动参数
        // let res = this.base.getLaunchOptionsSync() as LTGame.LaunchOption;
        // this._OnShow(res);
    }
    _login() {
        this.base.login({
            success: (res) => {
                console.log('快手 登录成功', res);
                if (res.gameToken) {
                    this.loginState = { code: res.gameToken, isLogin: true };
                    this.onLoginEnd.run();
                }
            },
            fail: (err) => {
                console.error('快手 登录失败', err);
                this.loginState = { code: 'null', isLogin: false };
            }
        });
    }
    authorize() {
        this.base.authorize({
            scope: "Scope.userInfo",
            success: () => {
                console.log("授权获取用户信息成功");
            },
            fail: (error) => {
                console.log("授权获取用户信息失败: " + JSON.stringify(error));
            },
            complete: () => {
                console.log("授权获取用户信息完成");
            }
        });
    }
    getSetting() {
        this.base.getSetting({
            success: (result) => {
                console.log("查询授权结果成功：" + JSON.stringify(result));
            },
            fail: (error) => {
                console.log("查询授权结果失败: " + JSON.stringify(error));
            },
            complete: () => {
                console.log("查询授权结果完成");
            }
        });
    }
    getUserInfo() {
        return new Promise((resolve, reject) => {
            this.base.getUserInfo({
                success: (result) => {
                    console.log("获取用户信息成功：" + JSON.stringify(result));
                    resolve();
                },
                fail: (error) => {
                    console.log("获取用户信息失败: " + JSON.stringify(error));
                },
                complete: () => {
                    console.log("获取用户信息完成");
                    resolve();
                }
            });
        });
    }
    /**
     * 小游戏回到前台的事件
     */
    _OnShow(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "OnShow", res);
        _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.lauchOption = res;
        _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance._CheckUpdate();
        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Resume();
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
            if (_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onResume) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onResume.runWith(res);
            }
            let cacheOnShow = _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance["_cacheOnShowHandle"];
            console.log(cacheOnShow);
            if (cacheOnShow) {
                cacheOnShow.run();
                _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance["_cacheOnShowHandle"] = null;
            }
        });
    }
    SetClipboardData(str) {
        console.log('KS SetClipboardData 暂未实现');
    }
    /**
    * 小游戏退出前台的事件
    */
    _OnHide(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "OnHide", res);
        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Pause();
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onPause) {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].instance.onPause.runWith(res);
        }
    }
    getSystemInfo() {
        if (Laya.stage.height / Laya.stage.width > 1.95) {
            this.safeArea = { top: 80, bottom: Laya.stage.height, left: 0, right: Laya.stage.width, height: Laya.stage.height - 80, width: Laya.stage.width };
        }
        else {
            this.safeArea = { top: 0, bottom: Laya.stage.height, left: 0, right: Laya.stage.width, height: Laya.stage.height, width: Laya.stage.width };
        }
        window["kwaigame"].getSystemInfo({
            response: (res) => {
                this.systemInfo = res;
                console.log('systeminfo', JSON.stringify(res));
                // this.safeArea = res['safeArea']
                // this._cacheScreenScale = this.safeArea.width / Laya.stage.width;
                console.log(this.safeArea);
                // if (!this.safeArea) {
                // } 
                window["KSiOS"] = res['platform'] == 'iOS';
            }
            // ,
            // fail: (err) => {
            //     console.error('systeminfo', JSON.stringify(err));
            // }
        });
    }
    IsBannerAvaliable() {
        return;
    }
    IsVideoAvaliable() {
        return this.base.isSupport(this.base.Support.features.RewardVideo);
    }
    IsInterstitalAvaliable() {
        return;
    }
    ShowInterstitalAd() {
        return;
        // console.log('todo');
        // let interad = this.base.createInterstitialAd({
        //     posId: this.platformData.interstitialId
        // });
        // if (interad) {
        //     interad.show();
        // }
    }
    ShowBannerAd() {
    }
    HideBannerAd() {
    }
    ShowRewardVideoAd(onSuccess, onSkipped) {
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {
            if (this._rewardVideo) {
                this._rewardVideo.show({
                    success: () => {
                    },
                    fail: (error) => {
                    }
                });
            }
            else {
                this._rewardVideo = this.base.createRewardedVideoAd({
                    adUnitId: this.platformData.rewardVideoId
                });
                this._rewardVideo.onClose((res) => {
                    console.log("激励视频关闭: " + JSON.stringify(res));
                    if (this._rewardSkipped)
                        this._rewardSkipped.run();
                });
                this._rewardVideo.onReward((result) => {
                    console.log("激励视频奖励回调: " + JSON.stringify(result));
                    if (this._rewardSuccessed)
                        this._rewardSuccessed.run();
                });
                if (this._rewardVideo) {
                    this._rewardVideo.show({
                        success: () => {
                        },
                        fail: (error) => {
                        }
                    });
                }
                else {
                    console.log("请先获取激励视频组件");
                }
            }
        }));
    }
    createVideo() {
        this._rewardVideo = this.base.createRewardedVideoAd({
            adUnitId: this.platformData.rewardVideoId
        });
        if (this._rewardVideo) {
            console.log("激励广告组件获取成功");
            this._rewardVideo.onClose((result) => {
                console.log("激励视频关闭回调: " + JSON.stringify(result));
            });
            this._rewardVideo.onReward((result) => {
                console.log("激励视频奖励回调: " + JSON.stringify(result));
            });
        }
        else {
            console.log("激励广告组件获取失败");
        }
    }
    GetFromAppId() {
        return null;
    }
    ShareAppMessage(obj, onSuccess = null, onFailed = null) {
        console.log("分享消息", obj);
        let params = {
            title: "游戏名",
            desc: "游戏描述",
            iconUrl: "游戏icon",
            imageUrl: "分享图片",
            extension: {
                name: "test"
            },
            response: (result) => {
                console.log("分享完成: " + JSON.stringify(result));
                if (onSuccess) {
                    onSuccess.run();
                }
            }
        };
        this.base.shareToMsg(params);
    }
    LoadSubpackage(name, onSuccess, onFailed) {
        var subpackageSupport = this.base.isSupport(this.base.Support.features.Subpackage);
        console.log(`加载分包${name}`, subpackageSupport);
        if (!subpackageSupport) {
            //不支持信令，则是旧版本APP，自己加载子包路径中的main.js 即可，该路径为开发时设置的子包路径一致，我这里的子包未sence2，所以为sence2/main.js
            window.require(`${name}/main.js`);
            //执行你需要的逻辑，如加载场景    
            return;
        }
        let loadTask = this.base.loadSubpackage({
            name: name, success: function (res) {
                //执行你需要的逻辑，如加载场景	
                if (onSuccess) {
                    onSuccess.run();
                }
            }, fail: function (err) {
                console.log(err);
            }
        });
        loadTask.onProgressUpdate(res => {
            console.log(res);
        });
    }
    RecordEvent(eventId, param) {
        console.log("记录事件", eventId, param);
    }
    ShareVideoInfo() {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "暂未实现录屏功能");
    }
    _CheckUpdate() {
    }
    ShowToast(str) {
        _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].Toast(str);
    }
    OpenGameBox() {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, "暂不支持互推游戏盒子");
    }
    NavigateToApp(appid, path, extra) {
        return new Promise((resolve, reject) => {
            console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_6__["default"].platformStr, `暂不支持小程序跳转appid:${appid}`);
            // 这里使用resolve
            resolve(false);
        });
    }
    createShortcut() {
        console.log('创建桌面图标');
        return;
    }
    GetStorage(key) {
        console.log('读本地存储');
        return Laya.LocalStorage.getItem(key);
    }
    SetStorage(key, data) {
        console.log('写本地存储');
        Laya.LocalStorage.setItem(key, data);
    }
    /**
     * 打开官方号  CPServiceAccount : CP的服务号 MiniGameOfficialAccount：快⼿⼩游戏官⽅号
     */
    followOfficialAccount() {
        return new Promise((resolve, reject) => {
            this.base.openUserProfile({
                accountType: "CPServiceAccount",
                callback: (res) => {
                    if (res && res.errorCode == 1) {
                        resolve(res.hasFollow);
                    }
                    else {
                        console.error(res.errorMsg);
                        reject(false);
                    }
                }
            });
        });
    }
    /**
     * 检查是否关注官方号  CPServiceAccount : CP的服务号 MiniGameOfficialAccount：快⼿⼩游戏官⽅号
     */
    checkFollowState() {
        return new Promise((resolve, reject) => {
            this.base.checkFollowState({
                accountType: "CPServiceAccount",
                callback: (res) => {
                    if (res && res.errorCode == 1) {
                        resolve(!res.hasFollow);
                    }
                    else {
                        console.error(res.errorMsg);
                        resolve(false);
                    }
                }
            });
        });
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/LTPlatform.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Platform/LTPlatform.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTPlatform; });
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTPlatformFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LTPlatformFactory */ "./src/LTGame/Platform/LTPlatformFactory.ts");


class LTPlatform {
    static get instance() {
        if (this._instance == null) {
            console.error("对象尚未初始化,请先调用CreateInstance进行初始化");
        }
        return this._instance;
    }
    static CreateInstance(appId = null) {
        if (this._instance != null) {
            console.error("已调用过平台创建为", LTPlatform.GetPlatformStr(this._instance.platform), "不能重复创建");
            return this._instance;
        }
        this._instance = _LTPlatformFactory__WEBPACK_IMPORTED_MODULE_1__["default"].CreateInstance();
        this._instance.appId = appId;
        console.log("平台实例创建完成", LTPlatform.GetPlatformStr(this._instance.platform));
        window['LTPlatform'] = this._instance;
        return this._instance;
    }
    static get platformStr() {
        return LTPlatform.GetPlatformStr(this._instance.platform);
    }
    static GetPlatformStr(platformEnum) {
        switch (platformEnum) {
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].BD:
                return "百度";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].None:
                return "未识别";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].Oppo:
                return "Oppo";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].QQ:
                return "QQ";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].TT:
                return "头条";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].Vivo:
                return "Vivo";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].Web:
                return "网页";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].WX:
                return "微信";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].QTT:
                return "趣头条";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].KS:
                return "快手";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].HW:
                return "华为";
            case _EPlatformType__WEBPACK_IMPORTED_MODULE_0__["EPlatformType"].Native_IOS:
                return "IOS原生";
            default:
                return "未定义" + platformEnum;
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/LTPlatformFactory.ts":
/*!**************************************************!*\
  !*** ./src/LTGame/Platform/LTPlatformFactory.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTPlatformFactory; });
/* harmony import */ var _TTPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TTPlatform */ "./src/LTGame/Platform/TTPlatform.ts");
/* harmony import */ var _WXPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WXPlatform */ "./src/LTGame/Platform/WXPlatform.ts");
/* harmony import */ var _BDPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BDPlatform */ "./src/LTGame/Platform/BDPlatform.ts");
/* harmony import */ var _QTTPlatform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./QTTPlatform */ "./src/LTGame/Platform/QTTPlatform.ts");
/* harmony import */ var _QQPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./QQPlatform */ "./src/LTGame/Platform/QQPlatform.ts");
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");
/* harmony import */ var _OppoPlatform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OppoPlatform */ "./src/LTGame/Platform/OppoPlatform.ts");
/* harmony import */ var _Impl_Native_IOS_NativeIOSPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Impl/Native_IOS/NativeIOSPlatform */ "./src/LTGame/Platform/Impl/Native_IOS/NativeIOSPlatform.ts");
/* harmony import */ var _VivoPlatform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VivoPlatform */ "./src/LTGame/Platform/VivoPlatform.ts");
/* harmony import */ var _KSPlatform__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./KSPlatform */ "./src/LTGame/Platform/KSPlatform.ts");
/* harmony import */ var _Impl_Native_Android_NativeAndroidPlatform__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Impl/Native_Android/NativeAndroidPlatform */ "./src/LTGame/Platform/Impl/Native_Android/NativeAndroidPlatform.ts");
/* harmony import */ var _HWPlatform__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./HWPlatform */ "./src/LTGame/Platform/HWPlatform.ts");












class LTPlatformFactory {
    static CreateInstance() {
        let isQTT = window["qttGame"] != null;
        let result;
        if (Laya.Browser.onTTMiniGame) {
            result = new _TTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"]();
        }
        else if (Laya.Browser.onHWMiniGame) {
            result = new _HWPlatform__WEBPACK_IMPORTED_MODULE_11__["default"]();
        }
        else if (Laya.Browser.onMiniGame) {
            if (window['ks']) {
                result = new _KSPlatform__WEBPACK_IMPORTED_MODULE_9__["default"]();
            }
            else {
                result = new _WXPlatform__WEBPACK_IMPORTED_MODULE_1__["default"]();
            }
        }
        else if (Laya.Browser.onBDMiniGame) {
            result = new _BDPlatform__WEBPACK_IMPORTED_MODULE_2__["default"]();
        }
        else if (isQTT) {
            result = new _QTTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"]();
        }
        else if (Laya.Browser.onQQMiniGame) {
            result = new _QQPlatform__WEBPACK_IMPORTED_MODULE_4__["default"]();
        }
        else if (Laya.Browser.onQGMiniGame) {
            result = new _OppoPlatform__WEBPACK_IMPORTED_MODULE_6__["default"]();
        }
        else if (Laya.Browser.onVVMiniGame) {
            result = new _VivoPlatform__WEBPACK_IMPORTED_MODULE_8__["default"]();
        }
        else if (window['conch']) {
            let conchConfig = window['conchConfig'];
            let os = conchConfig.getOS();
            if (os == 'Conch-ios') {
                result = new _Impl_Native_IOS_NativeIOSPlatform__WEBPACK_IMPORTED_MODULE_7__["NativeIOSPlatform"]();
            }
            else if (os == 'Conch-android') {
                result = new _Impl_Native_Android_NativeAndroidPlatform__WEBPACK_IMPORTED_MODULE_10__["NativeAndroidPlatform"]();
            }
            else {
                result = new _DefaultPlatform__WEBPACK_IMPORTED_MODULE_5__["default"]();
                console.error("暂未识别的app平台" + os);
            }
        }
        else {
            console.log("未识别平台,默认创建为web", Laya.Browser.userAgent);
            result = new _DefaultPlatform__WEBPACK_IMPORTED_MODULE_5__["default"]();
        }
        return result;
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/OppoPlatform.ts":
/*!*********************************************!*\
  !*** ./src/LTGame/Platform/OppoPlatform.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return OppoPlatform; });
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _UIExt_DefaultUI_UI_ImageBannerMediator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../UIExt/DefaultUI/UI_ImageBannerMediator */ "./src/LTGame/UIExt/DefaultUI/UI_ImageBannerMediator.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");
/* harmony import */ var _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DefaultRecordManager */ "./src/LTGame/Platform/DefaultRecordManager.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");












class OppoPlatform extends _DefaultPlatform__WEBPACK_IMPORTED_MODULE_8__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_10__["EPlatformType"].Oppo;
        this.safeArea = null;
        this.recordManager = new _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_9__["default"]();
        this.device = new _DefaultDevice__WEBPACK_IMPORTED_MODULE_7__["OppoDevice"]();
        /**
         * 是否支持直接跳转到其他小程序
         */
        this.isSupportJumpOther = true;
        this._isBannerLoaded = false;
        this._isVideoLoaded = false;
        this._isInterstitialLoaded = false;
        this._isInterstitialCanShow = true;
        this._nativeAdLoaded = false;
        this._cacheVideoAD = false;
        this.noAdTime = 0;
        this.canshowBox = false;
    }
    Init(platformData) {
        return __awaiter(this, void 0, void 0, function* () {
            this._base = window["qg"];
            if (this._base == null) {
                console.error("平台初始化错误", _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].platformStr);
                return;
            }
            this.platformData = platformData;
            this._InitLauchOption();
            this._Login();
            // this._InitSystemInfo();
            yield this.getSystemInfo();
            if (this.systemInfo.platformVersion >= 1051) {
                // 不需要在进行initAdService
            }
            else {
                this._base.initAdService({
                    appId: platformData.appId,
                    isDebug: true,
                    success: () => {
                        console.log("oppo广告", "初始化广告服务成功", platformData);
                        // 不提前进行预加载
                        // this._CreateBannerAd();
                        this._CreateVideoAd();
                        // this._CreateInterstitalAd();
                        // this.intersitialAd = new NativeADUnit(platformData.interstitialId);
                        // this.iconNative = new NativeADUnit(platformData.nativeId);
                        // this.nativeAd = new NativeADUnit(platformData.nativeId);
                    },
                    fail: () => {
                        console.error("oppo广告", "初始化广告服务失败");
                    }
                });
            }
            window["iplatform"] = this;
        });
    }
    _InitSystemInfo() {
        this.base = this._base;
        try {
            this.systemInfo = this._base.getSystemInfoSync();
            console.log("系统信息已获取", this.systemInfo);
            this.safeArea = this.systemInfo.safeArea;
            this._cacheScreenScale = this.systemInfo.screenWidth / Laya.stage.width;
        }
        catch (e) {
            console.error(e);
            console.error("获取设备信息失败,执行默认初始化");
            this.safeArea = null;
        }
    }
    getSystemInfo() {
        return __awaiter(this, void 0, void 0, function* () {
            this.base = this._base;
            this._base.getSystemInfo({
                success: (res) => {
                    this.systemInfo = res;
                    console.log('systeminfo', this.systemInfo);
                    if (!this.safeArea) {
                        this.safeArea = { top: res['notchHeight'], bottom: res['screenHeight'], left: 0, right: res['screenWidth'], height: res['screenHeight'] - res['notchHeight'], width: res['screenWidth'] };
                    }
                    this._cacheScreenScale = this.systemInfo.screenWidth / Laya.stage.width;
                    console.log(this.safeArea);
                },
                fail: () => { },
                complete: () => {
                    this.createGameBox();
                }
            });
        });
    }
    /**
     * 上报数据
     */
    reportMonitor() {
        console.log('oppo上报数据', this.systemInfo);
        if (this.systemInfo && this.systemInfo.platformVersion >= 1060) {
            this._base.reportMonitor('game_scene', 0);
        }
        if (this.onLoginEnd != null) {
            this.onLoginEnd.run();
        }
        Laya.timer.loop(1000, this, this.bannerTimer);
    }
    _CheckUpdate() {
    }
    _Login() {
        this.loginState = {
            isLogin: false,
            code: ""
        };
        let loginData = {};
        loginData.success = (res) => {
            this._OnLoginSuccess(res);
        };
        loginData.fail = (res) => {
            console.error(_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].platformStr, "登录失败", res);
            this.loginState.isLogin = false;
            this.loginState.code = "";
        };
        loginData.complete = (res) => {
            if (this.onLoginEnd != null) {
                this.onLoginEnd.run();
            }
        };
        // this._base.login(loginData);
    }
    _OnLoginSuccess(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].platformStr, "登录成功", res);
        this.loginState.isLogin = true;
        this.loginState.code = res.token;
    }
    ShareAppMessage(obj, onSuccess, onFailed) {
    }
    _InitLauchOption() {
        // 绑定onShow事件
        this._base.onShow(this._OnShow);
        this._base.onHide(this._OnHide);
        // 自动获取一次启动参数
        let res = this._base.getLaunchOptionsSync();
        this._OnShow(res);
    }
    /**
     * 是否可以创建桌面图标
     */
    canCreateShortcut() {
        return new Promise((resolve, reject) => {
            qg['hasShortcutInstalled']({
                success: function (res) {
                    // 判断图标是否存在  
                    resolve(res);
                },
                fail: function (err) {
                    reject();
                },
                complete: function () {
                }
            });
        });
    }
    /** 发起创建桌面图标请求 */
    createShortcut() {
        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {
            let sht = yield this.hasShortcutInstalled();
            if (sht == false) {
                let created = false;
                qg['installShortcut']({
                    success: function () {
                        created = (true);
                    },
                    fail: function (err) {
                        created = (false);
                    },
                    complete: function () {
                        resolve(created);
                    }
                });
            }
            else {
                resolve(false);
            }
        }));
    }
    hasShortcutInstalled() {
        return new Promise((resolve, reject) => {
            qg['hasShortcutInstalled']({
                success: (res) => {
                    // 判断图标未存在时，创建图标
                    if (res == false) {
                        resolve(false);
                    }
                    else {
                        resolve(true);
                    }
                },
                fail: (err) => {
                    reject();
                },
                complete: () => { }
            });
        });
    }
    _CreateInterstitalAd() {
        // if (StringEx.IsNullOrEmpty(this._platformData.interstitialId)) {
        //     console.log("无有效的插页广告ID,取消加载");
        //     return;
        // }
        // this._interstitalFailedCount = 0;
        // let intAdObj = {};
        // intAdObj["adUnitId"] = this._platformData.interstitialId;
        // this._intersitialAd = this._base.createInsertAd(intAdObj);
        // this._intersitialAd.onLoad(() => {
        //     console.log("插页广告加载成功");
        //     this._isInterstitialLoaded = true;
        // });
        // this._intersitialAd.onClose(() => {
        //     console.log("插页广告关闭");
        //     this._isInterstitialLoaded = false;
        //     this._intersitialAd.load();
        // });
        // this._intersitialAd.onError((err) => {
        //     this._interstitalFailedCount++;
        //     console.error("插页广告加载失败", err);
        //     if (this._interstitalFailedCount > 10) {
        //         console.log("第", this._interstitalFailedCount, "次重新加载插页广告");
        //         // 失败自动加载广告
        //         this._intersitialAd.load();
        //     }
        // });
    }
    _CreateVideoAd() {
        if (!this._cacheVideoAD) {
            console.log("当前策略为不缓存视频广告");
            return;
        }
        let createRewardedVideoAd = this._base["createRewardedVideoAd"];
        if (createRewardedVideoAd == null) {
            console.error("无createRewardedVideoAd方法,跳过初始化");
            return;
        }
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_4__["default"].IsNullOrEmpty(this.platformData.rewardVideoId)) {
            console.log("无有效的视频广告ID,取消加载");
            return;
        }
        this._videoFailedCount = 0;
        let videoObj = {};
        videoObj["adUnitId"] = this.platformData.rewardVideoId;
        this._rewardVideo = createRewardedVideoAd(videoObj);
        this._rewardVideo.onLoad(() => {
            console.log("视频广告加载成功");
            this._isVideoLoaded = true;
        });
        this._rewardVideo.onError((res) => {
            this._videoFailedCount++;
            console.error("视频广告加载失败", res);
            if (this._videoFailedCount > 10) {
                console.log("第", this._videoFailedCount, "次重新加载视频广告");
                // 失败自动加载广告
                this._rewardVideo.load();
            }
        });
        this._rewardVideo.onClose((res) => {
            Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__["CommonEventId"].RESUM_AUDIO);
            console.log("视频回调", res);
            let isEnd = res["isEnded"];
            // 修复广告bug
            _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__["default"].NextFrame().then(() => {
                if (isEnd) {
                    if (this._rewardSuccessed)
                        this._rewardSuccessed.run();
                }
                else {
                    if (this._rewardSkipped)
                        this._rewardSkipped.run();
                }
            });
        });
    }
    IsBannerAvaliable() {
        return this.noAdTime <= 0;
    }
    IsVideoAvaliable() {
        return this._isVideoLoaded;
    }
    IsInterstitalAvaliable() {
        return false; // LTSDK.instance.isADEnable && this._isInterstitialCanShow && CommonSaveData.instance.interstitialCount < 888;
    }
    IsNativeAvaliable() {
        return this.noAdTime <= 0;
    }
    bannerTimer() {
        this.noAdTime--;
    }
    ShowBannerAd() {
        return __awaiter(this, void 0, void 0, function* () {
            // 先尝试展示普通banner
            if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__["ECheckState"].InCheck) {
                console.log('banner 审核中');
                return;
            }
            if (!this.IsBannerAvaliable()) {
                console.log("banner 尚未准备好", this.noAdTime);
                return;
            }
            if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_4__["default"].IsNullOrEmpty(this.platformData.bannerId)) {
                console.log("无有效的banner广告ID,取消加载");
                return;
            }
            if (this._bannerAd) {
                this._bannerAd.show();
                this.noAdTime = 1;
                console.log('展示已有banner');
                return;
            }
            this.HideBannerAd();
            this._bannerAd = this._base.createBannerAd({
                adUnitId: this.platformData.bannerId
            });
            let isBannerLoading = true;
            let loadSuccess = false;
            this._bannerAd.show().then((res) => {
                console.log("banner加载成功", res);
                if (res['code'] == 0) {
                    loadSuccess = true;
                }
                isBannerLoading = false;
            }).catch((res) => {
                console.error("banner加载失败", res);
                isBannerLoading = false;
            });
            while (isBannerLoading) {
                yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__["default"].NextFrame();
            }
            if (loadSuccess)
                return;
            console.log("banner展示失败,展示native广告");
            // 销毁广告
            if (this._bannerAd) {
                this._bannerAd.destroy();
                this._bannerAd = null;
            }
            // 没有则展示原生
            for (let i = 0; i < this.platformData.nativeIconIds.length; ++i) {
                let ret = yield this._ShowNativeBanner(i);
                if (ret) {
                    break;
                }
                this._bannerAd.destroy();
            }
        });
    }
    _ShowNativeBanner(index) {
        return __awaiter(this, void 0, void 0, function* () {
            let nativeBanner = this.base.createNativeAd({
                adUnitId: this.platformData.nativeBannerIds[index]
            });
            // 转接对象
            this._bannerAd = nativeBanner;
            let loadRet = yield nativeBanner.load();
            if (loadRet["code"] == 0) {
                // 加载成功
                let adList = loadRet['adList'];
                if (adList == null || adList.length == 0) {
                    console.error("native banner加载失败", loadRet);
                    return false;
                }
                let adData = adList[0];
                if (adData == null) {
                    console.error("native banner加载失败", loadRet);
                    return false;
                }
                let fakeData = new _UIExt_DefaultUI_UI_ImageBannerMediator__WEBPACK_IMPORTED_MODULE_5__["FakeBannerData"]();
                fakeData.imgPath = adData.imgUrlList[0];
                fakeData.noticePath = adData.logoUrl;
                fakeData.adId = adData.adId;
                fakeData.owner = this._bannerAd;
                fakeData.iconPath = adData.icon;
                _UIExt_DefaultUI_UI_ImageBannerMediator__WEBPACK_IMPORTED_MODULE_5__["default"].instance.Show(fakeData);
                return true;
            }
            else {
                console.error("native banner加载失败", loadRet);
                return false;
            }
        });
    }
    HideBannerAd() {
        if (this._bannerAd) {
            this._bannerAd.destroy();
            this._bannerAd = null;
        }
        _UIExt_DefaultUI_UI_ImageBannerMediator__WEBPACK_IMPORTED_MODULE_5__["default"].instance.Hide();
    }
    ShowNativeAd() {
        return __awaiter(this, void 0, void 0, function* () {
            this.noAdTime = 1;
            // await this._ShowNative();
        });
    }
    HideNativeAd() {
        if (!this.IsNativeAvaliable()) {
            return;
        }
        // this._HideNative();
    }
    // isNativeInterstitialAvaliable(){
    //     return this.intersitialAd.canShowAD
    // }
    _DoCacheShowVideo(onSuccess, onSkipped) {
        if (!this._isVideoLoaded) {
            console.error("视频广告尚未加载好");
            return;
        }
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        this._isVideoLoaded = false;
        Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__["CommonEventId"].PAUSE_AUDIO);
        this._rewardVideo.show();
    }
    _DoNoCacheShowVideo(onSuccess, onSkipped) {
        var _a, _b;
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_4__["default"].IsNullOrEmpty(this.platformData.rewardVideoId)) {
            console.log("无有效的视频广告ID,取消加载");
            (_a = this._rewardSkipped) === null || _a === void 0 ? void 0 : _a.run();
            return;
        }
        let createRewardedVideoAd = this._base["createRewardedVideoAd"];
        if (createRewardedVideoAd == null) {
            console.error("无createRewardedVideoAd方法,跳过初始化");
            (_b = this._rewardSkipped) === null || _b === void 0 ? void 0 : _b.run();
            return;
        }
        if (this._rewardVideo) {
            this._rewardVideo.destroy();
        }
        _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].ShowLoading("广告拉取中...");
        let videoObj = {};
        videoObj["adUnitId"] = this.platformData.rewardVideoId; // "adunit-5631637236cf16b6";
        this._rewardVideo = createRewardedVideoAd(videoObj);
        console.log("广告创建完成", videoObj);
        this._rewardVideo.onClose((res) => {
            Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__["CommonEventId"].RESUM_AUDIO);
            console.log("视频回调", res);
            let isEnd = res["isEnded"];
            _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__["default"].NextFrame().then(() => {
                if (isEnd) {
                    if (this._rewardSuccessed)
                        this._rewardSuccessed.run();
                }
                else {
                    if (this._rewardSkipped)
                        this._rewardSkipped.run();
                }
            });
        });
        this._rewardVideo.onError((err) => {
            console.log("广告组件出现问题", err);
            _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].HideLoading();
            _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].Toast("暂无广告");
            if (this._rewardSkipped)
                this._rewardSkipped.run();
        });
        this._rewardVideo.onLoad((res) => {
            console.log("广告加载成功", res);
            _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_6__["default"].HideLoading();
        });
        this._rewardVideo.load().then(() => {
            this._rewardVideo.show();
        });
    }
    ShowRewardVideoAd(onSuccess, onSkipped) {
        if (this._cacheVideoAD) {
            this._DoCacheShowVideo(onSuccess, onSkipped);
        }
        else {
            this._DoNoCacheShowVideo(onSuccess, onSkipped);
        }
    }
    _ShowNativeInterstital(index) {
        return __awaiter(this, void 0, void 0, function* () {
            return;
            // let nativeAd = this._base.createNativeAd({
            //     adUnitId: this.platformData.nativeinterstitialIds[index]
            // });
            // // 转接对象
            // this._intersitialAd = nativeAd;
            // let loadRet = await nativeAd.load();
            // if (loadRet["code"] == 0) {
            //     // 加载成功
            //     let adList = loadRet['adList'] as any[];
            //     if (adList == null || adList.length == 0) {
            //         console.error("native 插页 加载失败", loadRet);
            //         return false;
            //     }
            //     let adData = adList[0] as {
            //         adId: string,
            //         imgUrlList: string[],
            //         logoUrl: string,
            //         icon: string,
            //         title: string,
            //         desc: string
            //     };
            //     console.log('广告数据加载完成', loadRet);
            //     if (adData == null) {
            //         console.error("native 插页 加载失败", loadRet);
            //         return false;
            //     }
            //     let fakeData = new FakeInterstitalData();
            //     fakeData.imgPath = adData.imgUrlList[0];
            //     fakeData.noticePath = adData.logoUrl;
            //     fakeData.adId = adData.adId;
            //     fakeData.desc = adData.desc;
            //     fakeData.iconPath = adData.icon;
            //     fakeData.title = adData.title;
            //     fakeData.owner = nativeAd;
            //     UI_NativeInterstitialMediator.instance.Show(fakeData);
            //     return true;
            // } else {
            //     console.error("native 插页 加载失败", loadRet);
            //     return false;
            // }
        });
    }
    _ShowNormalInterstitalAd() {
        return __awaiter(this, void 0, void 0, function* () {
            return;
            // if (this._intersitialAd) {
            //     this._intersitialAd.destroy();
            // }
            // if (this.systemInfo.platformVersion < 1061) {
            //     console.log("平台版本号不足1061,无法创建普通插页", this.systemInfo.platformVersion);
            //     return false;
            // }
            // console.log("创建普通插页", this.platformData.interstitialId);
            // this._intersitialAd = this._base.createInterstitialAd(
            //     {
            //         adUnitId: this.platformData.interstitialId
            //     }
            // );
            // let isloading = true;
            // let isSuccess = false;
            // this._intersitialAd.load()
            //     .then((res) => {
            //         console.log("普通插页加载成功", res);
            //         isloading = false;
            //         isSuccess = res['code'] == 0;
            //     })
            //     .catch((res) => {
            //         console.error("普通插页加载失败", res);
            //         isloading = false;
            //         isSuccess = false;
            //     });
            // while (isloading) {
            //     await Awaiters.Frames(1);
            // }
            // if (!isSuccess) {
            //     return false;
            // }
            // isloading = true;
            // this._intersitialAd.show()
            //     .then((res) => {
            //         console.log("普通插页展示成功", res);
            //         isloading = false;
            //         isSuccess = res['code'] == 0;
            //     })
            //     .catch((res) => {
            //         console.error("普通插页展示失败", res);
            //         isloading = false;
            //         isSuccess = false;
            //     });
            // while (isloading) {
            //     await Awaiters.Frames(1);
            // }
            // return isSuccess;
        });
    }
    ShowInterstitalAd() {
        return __awaiter(this, void 0, void 0, function* () {
            return;
            // if (!this.IsInterstitalAvaliable()) {
            //     console.error(`插页广告不能展示 冷却中：${this._isInterstitialCanShow} 展示次数${CommonSaveData.instance.interstitialCount}`);
            //     return;
            // }
            // if (this._intersitialAd) {
            //     this._intersitialAd.destroy();
            //     UI_NativeInterstitialMediator.instance.Hide();
            // }
            // // 先拉去原生插屏(一个)
            // if (this.platformData.nativeinterstitialIds.length > 0) {
            //     let ret = await this._ShowNativeInterstital(0);
            //     if (ret) {
            //         this._DisableInterstitalAd();
            //         return;
            //     }
            // }
            // // 失败则拉取正常插屏
            // let ret = await this._ShowNormalInterstitalAd();
            // if (ret) {
            //     CommonSaveData.instance.interstitialCount++;
            //     CommonSaveData.SaveToDisk();
            //     this._DisableInterstitalAd();
            //     return;
            // }
            // // 失败再继续拉取剩余原生插屏
            // for (let i = 1; i < this.platformData.nativeinterstitialIds.length; ++i) {
            //     let ret = await this._ShowNativeInterstital(i);
            //     if (ret) {
            //         this._DisableInterstitalAd();
            //         return;
            //     }
            // }
        });
    }
    _DisableInterstitalAd() {
        return __awaiter(this, void 0, void 0, function* () {
            this._isInterstitialCanShow = false;
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__["default"].Seconds(60);
            this._isInterstitialCanShow = true;
        });
    }
    GetFromAppId() {
        if (this.lauchOption.referrerInfo == null) {
            return null;
        }
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_4__["default"].IsNullOrEmpty(this.lauchOption.referrerInfo.appId)) {
            return null;
        }
        return this.lauchOption.referrerInfo.appId;
    }
    /** 发起创建桌面图标请求 */
    CreatShortcut() {
        return new Promise((resolve, reject) => {
            qg['hasShortcutInstalled']({
                success: function (res) {
                    // 判断图标未存在时，创建图标
                    if (res == false) {
                        qg['installShortcut']({
                            success: function () {
                                resolve();
                            },
                            fail: function (err) {
                                reject();
                            },
                            complete: function () { }
                        });
                    }
                    else {
                        resolve();
                    }
                },
                fail: function (err) {
                    reject();
                },
                complete: function () { }
            });
        });
    }
    /**
     * 小游戏回到前台的事件
     */
    _OnShow(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].platformStr, "OnShow", res);
        _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.lauchOption = res;
        _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance._CheckUpdate();
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__["default"].NextFrame().then(() => {
            if (_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.onResume) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.onResume.runWith(res);
            }
            let cacheOnShow = _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance["_cacheOnShowHandle"];
            if (cacheOnShow) {
                cacheOnShow.run();
                _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance["_cacheOnShowHandle"] = null;
            }
        });
    }
    /**
     * 小游戏退出前台的事件
     */
    _OnHide(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].platformStr, "OnHide", res);
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.onPause) {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.onPause.runWith(res);
        }
    }
    LoadSubpackage(name, onSuccess, onFailed, onProgress) {
        let loadObj = {};
        loadObj["name"] = name;
        loadObj["success"] = () => {
            console.log("分包加载成功", name);
            if (onSuccess) {
                onSuccess.run();
            }
        };
        loadObj["fail"] = () => {
            console.error("分包加载失败", name);
            if (onFailed) {
                onFailed.run();
            }
        };
        let loadTask = this._base.loadSubpackage(loadObj);
        loadTask.onProgressUpdate((res) => {
            console.log("分包加载进度", res);
            if (onProgress) {
                onProgress.runWith(res.progress / 100);
            }
        });
    }
    RecordEvent(eventId, param) {
        console.log("[记录事件]", eventId, param);
    }
    /**
     * 创建分享视频按钮
     * @param x
     * @param y
     * @param width
     * @param height
     */
    CreateShareVideoBtn(x, y, width, height) {
    }
    /**
     * 隐藏分享视频按钮
     */
    HideShareVideoBtn() {
        if (this._shareVideoBtn != null) {
            this._shareVideoBtn.hide();
        }
    }
    ShowToast(str) {
        this._base.showToast({
            title: str,
            duration: 2000
        });
    }
    /**
     * @param appId oppo vivo传包名
     */
    NavigateToApp(appId, path, extra) {
        return new Promise((resolve, reject) => {
            Laya.Browser.window.qg.navigateToMiniGame({
                pkgName: appId,
                path: path,
                extraData: extra,
                success: function () {
                    resolve(true);
                    console.log('oppo小游戏跳转成功');
                },
                fail: function (res) {
                    reject(false);
                    console.log('oppo小游戏跳转失败：', JSON.stringify(res));
                }
            });
        });
    }
    createGameBox() {
        if (!this.platformData.gameBoxAdId) {
            return console.error("没有配置盒子广告ID");
        }
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.systemInfo.platformVersionCode >= 1076) {
            this.oppoBoxAd = _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.base.createGamePortalAd({
                adUnitId: this.platformData.gameBoxAdId
            });
            this.oppoBoxAd.onLoad(() => {
                console.log('互推盒子加载成功');
                this.canshowBox = true;
            });
            this.oppoBoxAd.onError((err) => {
                console.log(err);
                this.canshowBox = false;
            });
            this.oppoBoxAd.onClose(() => {
                this.canshowBox = false;
                this.oppoBoxAd.load();
                console.log('互推盒子九宫格广告关闭');
            });
            this.oppoBoxAd.load();
        }
        else {
            console.log('快应用平台版本号低于1076，暂不支持互推盒子相关 API');
        }
    }
    OpenGameBox(appIds) {
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__["ECheckState"].InCheck) {
            return;
        }
        if (!this.oppoBoxAd) {
            this.createGameBox();
        }
        if (this.oppoBoxAd) {
            if (this.canshowBox) {
                this.oppoBoxAd.show();
            }
            else {
                this.oppoBoxAd.load().then(() => {
                    this.oppoBoxAd.show();
                }).catch(e => {
                    console.log(e);
                });
            }
        }
        // else {
        //     this.oppoBoxAd.destroy();
        //     this.createGameBox();
        // }
    }
    createGameBannerAd() {
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.systemInfo.platformVersionCode >= 1076) {
            this.oppoBoxBannerAd = _LTPlatform__WEBPACK_IMPORTED_MODULE_11__["default"].instance.base.createGameBannerAd({
                adUnitId: this.platformData.gameBoxBannerId
            });
            this.oppoBoxBannerAd.onLoad(() => {
                console.log('互推横幅加载成功');
            });
        }
        else {
            console.log('快应用平台版本号低于1076，暂不支持互推盒子相关 API');
        }
    }
    showGameBoxBannerAd() {
        this.HideBannerAd();
        if (this.oppoBoxBannerAd) {
            this.oppoBoxBannerAd.show();
        }
        else {
            this.createGameBannerAd();
            this.oppoBoxBannerAd.show();
        }
    }
    hideGameBoxBannerAd() {
        if (this.oppoBoxBannerAd) {
            this.oppoBoxBannerAd.hide();
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/QQPlatform.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Platform/QQPlatform.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return QQPlatform; });
/* harmony import */ var _WXPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WXPlatform */ "./src/LTGame/Platform/WXPlatform.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");








class QQPlatform extends _WXPlatform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].QQ;
        this.isBannerShowing = false;
    }
    Init(platformData) {
        this.base = this._base = window["qq"];
        if (this._base == null) {
            console.error("平台初始化错误", _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].platformStr);
            return;
        }
        this.platformData = platformData;
        this._InitLauchOption();
        this._Login();
        this._InitShareInfo();
        this._InitSystemInfo();
        this._CreateBannerAd();
        this._CreateVideoAd();
        this._CreateInterstitalAd();
        window["iplatform"] = this;
        console.error("平台初始化完成", _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].platformStr);
    }
    _Login() {
        this.loginState = {
            isLogin: false,
            code: ""
        };
        let loginData = {};
        loginData.success = (res) => {
            this.loginCode = res.code;
            this._OnLoginSuccess(res);
            console.error(this.loginState);
            this.getUserInfo();
        };
        loginData.fail = (res) => {
            console.error(_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].platformStr, "登录失败", res);
            this.loginState.isLogin = false;
            this.loginState.code = "";
        };
        loginData.complete = () => {
            if (this.onLoginEnd != null) {
                this.onLoginEnd.run();
            }
        };
        this._base.login(loginData);
    }
    _InitSystemInfo() {
        try {
            let systemInfo = this._base.getSystemInfoSync();
            this._cacheScreenScale = systemInfo.screenWidth / Laya.stage.width;
            this.safeArea = {};
            this.safeArea.width = systemInfo.windowWidth;
            this.safeArea.height = systemInfo.windowHeight;
            this.safeArea.top = systemInfo.statusBarHeight;
            this.safeArea.bottom = 0;
            console.log("QQ覆写_InitSystemInfo", this.safeArea);
        }
        catch (e) {
            console.error(e);
            console.error("获取设备信息失败,执行默认初始化");
            this.safeArea = null;
        }
    }
    _InitLauchOption() {
        // 绑定onShow事件
        this._base.onShow(this._OnShow);
        this._base.onHide(this._OnHide);
        // 自动获取一次启动参数
        let res = this._base.getLaunchOptionsSync();
        this._OnShow(res);
    }
    /**
    * 小游戏回到前台的事件
    */
    _OnShow(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].platformStr, "OnShow", res);
        _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.lauchOption = res;
        _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance._CheckUpdate();
        // this.NavigateToAppSuccess = null;//wx
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_7__["default"].NextFrame().then(() => {
            if (_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.onResume) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.onResume.runWith(res);
            }
            let cacheOnShow = _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance["_cacheOnShowHandle"];
            if (cacheOnShow) {
                cacheOnShow.run();
                _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance["_cacheOnShowHandle"] = null;
            }
        });
    }
    /**
     * 小游戏退出前台的事件
     */
    _OnHide(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].platformStr, "OnHide", res);
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.onPause) {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.onPause.runWith(res);
        }
        else {
            //  this.showFavoriteGuide(); 
            window["qq"].getSetting({
                success(res) {
                    if (!res.authSetting['scope.recentColorSign']) {
                        window["qq"].authorize({
                            scope: 'scope.recentColorSign',
                            success() {
                                window["qq"].addRecentColorSign({
                                    query: 'a=1&b=2',
                                    success(res) {
                                        console.log('addRecentColorSign success: ', res);
                                        // CommonSaveData.instance.RecentColorSign = true;
                                        // CommonSaveData.SaveToDisk();
                                    },
                                    fail(err) {
                                        console.log('addRecentColorSign fail: ', err);
                                    },
                                    complete(res) {
                                        console.log('addRecentColorSign complete: ', res);
                                    }
                                });
                            }
                        });
                    }
                }
            });
        }
        //wx
        // if (this.NavigateToAppSuccess) {
        //     this.NavigateToAppSuccess();
        // }
    }
    getUserInfo() {
        return new Promise(() => {
            this.base.getSetting({
                success: (sucData) => {
                    console.log("getSetting - > 成功 ", sucData);
                    if (sucData.authSetting["scope.userInfo"]) {
                        this.base.getUserInfo({
                            openIdList: ['selfOpenId'],
                            fail: (res) => {
                                console.log("getUserInfo - > 失败 ", res);
                            },
                            success: (successData) => {
                                console.log("getUserInfo - > 成功 ", successData);
                                this.openDataContext.postMsg({ type: "userInfoData", data: successData });
                            }
                        });
                    }
                }
            });
        });
    }
    _CreateBannerAd(show) {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.platformData.bannerId)) {
            console.log("无有效的banner广告ID,取消加载");
            return;
        }
        let windowWidth = this._base.getSystemInfoSync().windowWidth;
        let windowHeight = this._base.getSystemInfoSync().windowHeight;
        let bannerObj = {};
        bannerObj["adUnitId"] = this.platformData.bannerId; // "adunit-b48894d44d318e5a";
        let styleObj = {};
        styleObj["top"] = windowHeight - 96;
        styleObj["width"] = 360;
        styleObj["left"] = (windowWidth - 360) / 2;
        bannerObj["style"] = styleObj;
        this._bannerAd = this._base.createBannerAd(bannerObj);
        this._isBannerLoaded = false;
        this._bannerAd.onLoad(() => {
            console.log("qq banner加载成功", this._bannerAd);
            this._isBannerLoaded = true;
            if (show) {
                this._bannerAd.show();
            }
        });
        this._bannerAd.onError((res) => {
            console.error("banner广告加载失败", res);
        });
        this._bannerAd.onResize((size) => {
            console.log("onResize", size);
            this._bannerAd.style.top = windowHeight - 96;
            this._bannerAd.style.left = (windowWidth - 360) / 2;
            console.log("onResize", this._bannerAd);
        });
        // super._CreateBannerAd();
    }
    IsBannerAvaliable() {
        return this._isBannerLoaded;
    }
    IsVideoAvaliable() {
        return this._isVideoLoaded;
    }
    IsInterstitalAvaliable() {
        return this._isInterstitialLoaded;
    }
    ShowBannerAd() {
        if (!this.IsBannerAvaliable()) {
            return;
        }
        this._bannerAd.show();
        this.isBannerShowing = true;
        //Laya.timer.loop(15 * 1000, this, this.refreshBanner);
    }
    refreshBanner() {
        // if (this.isBannerShowing) {
        //     console.log('refresh banner');
        //     this._bannerAd.hide();
        //     this._CreateBannerAd(true);
        // }
    }
    HideBannerAd() {
        if (!this.IsBannerAvaliable())
            return;
        if (this._bannerAd) {
            this._bannerAd.hide();
            // Laya.timer.clear(this, this.refreshBanner);
            // this.isBannerShowing = false;
        }
        // this._CreateBannerAd();
    }
    _DoCacheShowVideo(onSuccess, onSkipped) {
        if (!this._isVideoLoaded) {
            console.error("视频广告尚未加载好");
            return;
        }
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        this._isVideoLoaded = false;
        Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_4__["CommonEventId"].PAUSE_AUDIO);
        this._rewardVideo.show();
    }
    _DoNoCacheShowVideo(onSuccess, onSkipped) {
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        if (!this._isVideoLoaded || !this._rewardVideo) {
            if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.platformData.rewardVideoId)) {
                console.log("无有效的视频广告ID,取消加载");
                onSkipped.run();
                return;
            }
            let createRewardedVideoAd = this._base["createRewardedVideoAd"];
            if (createRewardedVideoAd == null) {
                console.error("无createRewardedVideoAd方法,跳过初始化");
                onSkipped.run();
                return;
            }
            _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].ShowLoading("广告拉取中...");
            this._videoFailedCount = 0;
            let videoObj = {};
            videoObj["adUnitId"] = this.platformData.rewardVideoId; // "adunit-5631637236cf16b6";
            this._rewardVideo = createRewardedVideoAd(videoObj);
            this._rewardVideo.onLoad(() => {
                console.log("视频广告加载成功");
                this._isVideoLoaded = true;
            });
            this._rewardVideo.onError((res) => {
                this._videoFailedCount++;
                console.error("视频广告加载失败", res, this._videoFailedCount);
            });
            this._rewardVideo.onClose((res) => {
                Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_4__["CommonEventId"].RESUM_AUDIO);
                console.log(" NoCache - 视频回调", res);
                let isEnd = res["isEnded"];
                console.log("noCache---", isEnd, "----", !!this._rewardSuccessed, "-----", !!this._rewardSkipped);
                if (isEnd) {
                    if (this._rewardSuccessed)
                        this._rewardSuccessed.run();
                }
                else {
                    if (this._rewardSkipped)
                        this._rewardSkipped.run();
                }
            });
        }
        this._rewardVideo.show().then(() => {
            _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].HideLoading();
        }).catch(err => {
            console.log("广告组件出现问题", err);
            // 可以手动加载一次
            this._rewardVideo.load().then(() => {
                console.log("手动加载成功");
                // 加载成功后需要再显示广告
                return this._rewardVideo.show().then(() => {
                    _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_5__["default"].HideLoading();
                });
            });
        });
        ;
    }
    ShowRewardVideoAd(onSuccess, onSkipped) {
        if (this._cacheVideoAD) {
            this._DoCacheShowVideo(onSuccess, onSkipped);
        }
        else {
            this._DoNoCacheShowVideo(onSuccess, onSkipped);
        }
    }
    ShowInterstitalAd() {
        if (!this._isInterstitialLoaded) {
            console.error("插页广告尚未加载好");
            return;
        }
        this._intersitialAd.show();
    }
    OpenGameBox(appIds = []) {
        this.showAppBox();
    }
    /**
     * 盒子广告
     */
    showAppBox() {
        if (this.appBox) {
            this.appBox.show();
        }
    }
    createAppBox(show) {
        if (!this.appBox) {
            this.appBox = this._base.createAppBox({
                adUnitId: '54b23210b2bf2e85c874beb4bae96003'
            });
        }
        this.appBox.load().then(() => {
            if (show) {
                this.appBox.show();
            }
        });
        this.appBox.onClose(() => {
            console.log('关闭盒子');
        });
    }
    hideAppBox() {
        if (this.appBox) {
            this.appBox.destroy();
        }
    }
    /**
     * 积木广告 1-5
     */
    showBlockAd(count = 1) {
        let obj = {
            adUnitId: "2f0aa99d54d9aedb40bbca4c21065c03",
            style: { left: 55, top: Laya.stage.height / 2 },
            size: count,
            orientation: 'vertical' //landscape 或者 vertical，积木广告横向展示或者竖向展示
        };
        this.blockAd = this._base.createBlockAd(obj);
        this.blockAd.onLoad(() => {
            console.log('积木广告加载完成');
            this.blockAd.show().then(() => { console.log('积木展示成功'); }).catch(e => {
                console.error('积木展示失败', e);
            });
        });
        this.blockAd.onError((err) => {
            console.error('积木广告加载错误', err);
        });
        this.blockAd.onResize((res) => {
            console.log('积木resize', res);
        });
    }
    hideBlockAd() {
        if (this.blockAd) {
            this.blockAd.hide();
            this.blockAd.destroy();
        }
    }
    hasShortcutInstalled() {
        return new Promise((resolve, reject) => {
            resolve(_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].instance.hasShotcut);
        });
    }
    createShortcut() {
        return new Promise((resolve, reject) => {
            if (!_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].instance.hasShotcut) {
                this.base.saveAppToDesktop({
                    success: (res) => {
                        console.log("创建桌面图标成功", res);
                        // CommonSaveData.instance.hasShotcut = true;
                        // CommonSaveData.SaveToDisk();
                    },
                    fail: (res) => {
                        console.log("创建桌面图标失败", res);
                    },
                    complete: (res) => {
                        console.log("创建桌面图标complete", res);
                        if (res && res.errMsg && res.errMsg == "saveAppToDesktop:ok") {
                            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].instance.hasShotcut = true;
                            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].SaveToDisk();
                            resolve(true);
                        }
                        else {
                            resolve(false);
                        }
                    },
                });
            }
            else {
                resolve(true);
            }
        });
    }
    showFavoriteGuide() {
        this.base.addRecentColorSign({
            query: 'a=1&b=2',
            success(res) {
                console.log('addRecentColorSign success: ', res);
                _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].SaveToDisk();
            },
            fail(err) {
                console.log('addRecentColorSign fail: ', err);
            },
            complete(res) {
                console.log('addRecentColorSign complete: ', res);
            }
        });
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/QTTPlatform.ts":
/*!********************************************!*\
  !*** ./src/LTGame/Platform/QTTPlatform.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return QTTPlatform; });
/* harmony import */ var _WXPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WXPlatform */ "./src/LTGame/Platform/WXPlatform.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");



class QTTPlatform extends _WXPlatform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_1__["EPlatformType"].QTT;
    }
    Init(platformData) {
        this._base = window["qttGame"];
        if (this._base == null) {
            console.error("平台初始化错误");
            return;
        }
        this.platformData = platformData;
        // this._InitLauchOption();
        // this._Login();
        // this._InitShareInfo();
        // this._InitSystemInfo();
        // this._CreateBannerAd();
        // this._CreateVideoAd();
        // this._CreateInterstitalAd();
        window["iplatform"] = this;
    }
    IsBannerAvaliable() {
        return true;
    }
    ShowBannerAd() {
        this._base.showBanner({ index: 1 });
    }
    HideBannerAd() {
        this._base.hideBanner();
    }
    IsVideoAvaliable() {
        return true;
    }
    ShowRewardVideoAd(onSuccess, onSkipped) {
        let options = {};
        options.index = 1; //广告位置（1，2，3，4...）
        options.gametype = 1; //互动游戏类型，1(砸金蛋)  2(laba)  3(大转盘)
        options.rewardtype = 1; //互动广告框，只有 1
        options.data = {};
        options.data.title = "获得奖励"; //互动抽中奖后的道具提示文字
        Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].PAUSE_AUDIO);
        this._base.showVideo((res) => {
            Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].RESUM_AUDIO);
            if (res == 1) {
                // 播放完成，发放奖励
                if (onSuccess) {
                    onSuccess.run();
                }
            }
            else {
                //res = 0    填充不足
                //res = 2    提前关闭
                if (onSkipped) {
                    onSkipped.run();
                }
            }
        }, options);
    }
    ShowInterstitalAd() {
        // 趣头条插页广告转接为互动广告
        this.ShowHDReward();
    }
    /**
     * 显示互动广告
     */
    ShowHDReward() {
        let options = {};
        options.index = 1;
        options.rewardtype = 1;
        this._base.showHDReward(options);
    }
    RecordEvent(eventId, param) {
        console.log("记录事件", eventId, param);
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/ShareInfo.ts":
/*!******************************************!*\
  !*** ./src/LTGame/Platform/ShareInfo.ts ***!
  \******************************************/
/*! exports provided: ShareInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareInfo", function() { return ShareInfo; });
class ShareInfo {
}


/***/ }),

/***/ "./src/LTGame/Platform/ShareManager.ts":
/*!*********************************************!*\
  !*** ./src/LTGame/Platform/ShareManager.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ShareManager; });
/* harmony import */ var _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _ShareInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShareInfo */ "./src/LTGame/Platform/ShareInfo.ts");



class ShareManager {
    constructor() {
        this._shareInfoList = [];
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new ShareManager();
        }
        return this._instance;
    }
    AddShareInfo(shareInfo) {
        for (let getInfo of this._shareInfoList) {
            if (getInfo.shareId == shareInfo.shareId)
                return;
        }
        this._shareInfoList.push(shareInfo);
    }
    GetShareInfo(id = null) {
        if (this._shareInfoList.length == 0) {
            let fakeShareInfo = new _ShareInfo__WEBPACK_IMPORTED_MODULE_2__["ShareInfo"]();
            return fakeShareInfo;
        }
        if (id != null) {
            for (let shareInfo of this._shareInfoList) {
                if (shareInfo.shareId == id)
                    return shareInfo;
            }
        }
        let randomShare = _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].RandomFromArray(this._shareInfoList);
        return randomShare;
    }
    ShareAppMessage(shareInfo) {
        _LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShareAppMessage(shareInfo, Laya.Handler.create(this, () => {
            console.log("分享成功");
        }), null);
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/TTPlatform.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Platform/TTPlatform.ts ***!
  \*******************************************/
/*! exports provided: default, EHostApp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TTPlatform; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EHostApp", function() { return EHostApp; });
/* harmony import */ var _script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../script/config/PackConst */ "./src/script/config/PackConst.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Impl_TT_TTDevice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Impl/TT/TTDevice */ "./src/LTGame/Platform/Impl/TT/TTDevice.ts");
/* harmony import */ var _Impl_TT_TTRecordManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Impl/TT/TTRecordManager */ "./src/LTGame/Platform/Impl/TT/TTRecordManager.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _WXPlatform__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WXPlatform */ "./src/LTGame/Platform/WXPlatform.ts");
/* harmony import */ var _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _script_config_GameConst__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../script/config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _Impl_WX_WXOpenDataContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Impl/WX/WXOpenDataContext */ "./src/LTGame/Platform/Impl/WX/WXOpenDataContext.ts");
/* harmony import */ var _UIExt_DefaultUI_UI_ShareResultMediator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../UIExt/DefaultUI/UI_ShareResultMediator */ "./src/LTGame/UIExt/DefaultUI/UI_ShareResultMediator.ts");
/* harmony import */ var _UIExt_DefaultUI_Cmp_View_HotGames__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../UIExt/DefaultUI/Cmp/View_HotGames */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_HotGames.ts");
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");















class TTPlatform extends _WXPlatform__WEBPACK_IMPORTED_MODULE_8__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].TT;
        this._showVideoLoad = false;
        this.loginCode = null;
    }
    get isDouyin() {
        return this.systemInfo['appName'] == 'Douyin';
    }
    Init(platformData) {
        this._base = window["tt"];
        this.base = this._base;
        if (this._base == null) {
            console.error("平台初始化错误");
            return;
        }
        this.platformData = platformData;
        // 检测是否支持交叉推广
        let tt = this._base;
        let systemInfo = tt.getSystemInfoSync();
        if (systemInfo.platform == "ios") {
            this.isSupportJumpOther = false;
        }
        // let [major, minor] = systemInfo.SDKVersion.split(".");
        // if (major >= 1 && minor >= 33) {
        // } else {
        //     this.isSupportJumpOther = false;
        // }
        this._InitLauchOption();
        // TT禁止启动调用login 否则不能过审 参数 force=false时不强制登录
        this._Login();
        this._InitShareInfo();
        this._InitSystemInfo();
        // this._CreateBannerAd();
        this._CreateVideoAd();
        this._CreateInterstitalAd();
        this.recordManager = new _Impl_TT_TTRecordManager__WEBPACK_IMPORTED_MODULE_6__["default"](this._base);
        this.device = new _Impl_TT_TTDevice__WEBPACK_IMPORTED_MODULE_5__["default"](this._base);
        window["iplatform"] = this;
    }
    setUserCloudStorage(key, value) {
        if (!key) {
            key = "score";
        }
        if (isNaN(value)) {
            value = 0;
        }
        const data = {
            ttgame: {
                score: "score",
                update_time: Date.now(),
            },
            progress: 10
        };
        this.base.setUserCloudStorage({
            KVDataList: [
                // key 需要在开发者后台配置，且配置为排行榜标识后，data 结构必须符合要求，否则会 set 失败
                { key: key, value: JSON.stringify(data) },
            ],
        });
    }
    getRankList(key) {
        if (!key) {
            key = "score";
        }
        this.base.getUserCloudStorage({
            keyList: ["score"],
            success: (res) => {
                console.log("获取KV 成功");
                console.log(res.KVDataList);
            },
            fail: (res) => {
                console.log("获取KV调用失败");
            },
            complete: (res) => {
                console.log("获取KV调用完成");
            },
        });
        // this.base.getCloudStorageByRelation({
        //     type: "group",
        //     keyList: [key],
        //     extra: {
        //         sortKey: key, // 指定的key需要在后台配置过
        //         groupId: this.GROUPID, // 指定要获取的用户所属分组
        //     },
        //     success: (res) => {
        //         console.log(res);
        //     },
        //     fail: (e) => {
        //         console.log("获取数据失败");
        //     },
        //     complete: (res) => {
        //       console.log("调用完成");
        //     },
        // });
    }
    _Login() {
        this.loginState = {
            isLogin: false,
            code: ""
        };
        let loginData = {
            force: false,
            success: (res) => {
                console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "登录成功", res);
                this._OnLoginSuccess(res);
                this.loginCode = res.code;
                this.loginState.isLogin = true;
                this.loginState.code = res.code;
            },
            fail: (res) => {
                console.error(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "登录失败", res);
                this.loginState.isLogin = false;
                this.loginState.code = "";
            },
            complete: () => {
                if (this.onLoginEnd != null) {
                    this.onLoginEnd.run();
                }
                this.addShareListener();
            }
        };
        window["tt"].login(loginData);
    }
    getUserInfo() {
        return new Promise(() => {
            this.base.getSetting({
                success: (sucData) => {
                    console.log("getSetting - > 成功 ", sucData);
                    if (sucData.authSetting["scope.userInfo"]) {
                        this.base.getUserInfo({
                            openIdList: ['selfOpenId'],
                            fail: (res) => {
                                console.log("getUserInfo - > 失败 ", res);
                            },
                            success: (successData) => {
                                console.log("getUserInfo - > 成功 ", successData);
                                this.openDataContext.postMsg({ type: "userInfoData", data: successData });
                            }
                        });
                    }
                }
            });
        });
    }
    _OnLoginSuccess(res) {
        this.openDataContext = new _Impl_WX_WXOpenDataContext__WEBPACK_IMPORTED_MODULE_11__["default"](this.base);
        this.openDataContext.setUserGroup("test_group");
        // this.postMsg({ text: "login succeed" });
        // LTUI.Toast('登录成功');
        this.getUserInfo();
        // this.loginState.isLogin = true;
        // this.loginState.code = res.code;
    }
    _InitLauchOption() {
        // 绑定onShow事件
        this._base.onShow(this._OnShow);
        this._base.onHide(this._OnHide);
        // 自动获取一次启动参数
        let res = this._base.getLaunchOptionsSync();
        this._OnShow(res);
    }
    /**
    * 小游戏回到前台的事件
    */
    _OnShow(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "OnShow", res);
        _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.lauchOption = res;
        _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance._CheckUpdate();
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_2__["default"].NextFrame().then(() => {
            if (_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onResume) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onResume.runWith(res);
            }
            let cacheOnShow = _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance["_cacheOnShowHandle"];
            if (cacheOnShow) {
                cacheOnShow.run();
                _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance["_cacheOnShowHandle"] = null;
            }
        });
    }
    /**
     * 小游戏退出前台的事件
     */
    _OnHide(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "OnHide", res);
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onPause) {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onPause.runWith(res);
        }
    }
    _CreateBannerAd() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.platformData.bannerId)) {
            console.log("无有效的banner广告ID,取消加载");
            return;
        }
        let windowWidth = this._base.getSystemInfoSync().windowWidth;
        let windowHeight = this._base.getSystemInfoSync().windowHeight;
        let bannerObj = {};
        bannerObj["adUnitId"] = this.platformData.bannerId; // "adunit-b48894d44d318e5a";
        bannerObj["adIntervals"] = 30;
        let styleObj = {};
        styleObj["width"] = Math.floor(windowWidth * 0.9);
        styleObj["left"] = (windowWidth - styleObj["width"]) / 2;
        styleObj["top"] = windowHeight - Math.floor(styleObj["width"] * 0.347);
        bannerObj["style"] = styleObj;
        this._bannerAd = this._base.createBannerAd(bannerObj);
        this._isBannerLoaded = false;
        this._bannerAd.onLoad(() => {
            console.log("banner加载成功", this._bannerAd);
            this._isBannerLoaded = true;
        });
        this._bannerAd.onError((res) => {
            console.error("banner广告加载失败", res);
            this._bannerAd == null;
        });
        this._bannerAd.onResize((size) => {
            this._bannerAd.style.top = windowHeight - size.height;
            // this._bannerAd.style.left = (windowWidth - size.width) / 2;
        });
    }
    RecordEvent(eventId, param) {
        let reportAnalytics = this._base["reportAnalytics"];
        if (reportAnalytics) {
            if (param == null) {
                param = {};
            }
            reportAnalytics(eventId, param);
        }
        else {
            console.error("reportAnalytics 方法不存在");
        }
    }
    ShowBannerAd() {
        // return;
        // if (!this.IsBannerAvaliable()) {
        //     return;
        // }
        // this._bannerAd.show();
    }
    HideBannerAd() {
    }
    ShowInterstitalAd() {
        var _a;
        if (!this._intersitialAd) {
            this._CreateInterstitalAd();
        }
        (_a = this._intersitialAd) === null || _a === void 0 ? void 0 : _a.load().then(() => {
            this._intersitialAd.show();
        });
    }
    _CreateInterstitalAd() {
        this._intersitialAd = this.base.createInterstitialAd({
            adUnitId: this.platformData.interstitialId
        });
        if (this._intersitialAd == null) {
            console.log('IDE内不支持创建InterstitialAd');
            return;
        }
        this._intersitialAd.onError((e) => {
            console.error("插页加载失败", e);
        });
        this._intersitialAd.onClose(() => {
            this._intersitialAd.destroy();
            this._intersitialAd = null;
        });
    }
    ShareAppMessage(shareInfo, onSuccess, onFailed) {
        console.log("分享消息", shareInfo);
        let shareObj = _WXPlatform__WEBPACK_IMPORTED_MODULE_8__["default"]._WrapShareInfo(shareInfo);
        shareObj["success"] = () => {
            this._cacheOnShowHandle = Laya.Handler.create(null, () => {
                console.log("分享成功");
                if (onSuccess) {
                    onSuccess.run();
                }
            });
        };
        shareObj["fail"] = () => {
            this._cacheOnShowHandle = Laya.Handler.create(null, () => {
                console.log("分享失败");
                if (onFailed) {
                    onFailed.run();
                }
            });
        };
        this._base.shareAppMessage(shareObj);
    }
    OpenGameBox(appIds = []) {
        let openData = [];
        for (let i = 0; i < appIds.length; ++i) {
            openData.push({
                appId: appIds[i]
            });
        }
        this._base.showMoreGamesModal({
            appLaunchOptions: openData
        });
    }
    NavigateToApp(appid, path, extra) {
        return new Promise((resolve, reject) => {
            // if (!this.isSupportJumpOther) {
            //     reject(false);
            //     console.log("当前平台不支持小游戏跳转", this);
            // } else {
            //     this._base.showMoreGamesModal({
            //         appLaunchOptions: [
            //             {
            //                 appId: this.platformData.appId,
            //                 query: "foo=bar&baz=qux",
            //                 extraData: {}
            //             }
            //         ],
            //         success(res) {
            //             resolve(true);
            //             console.log("跳转小游戏成功", appid);
            //         },
            //         fail(err) {
            //             reject(false);
            //             console.log("跳转小游戏失败", appid);
            //         }
            //     });
            // }
            this.navigateToVideo(path);
            resolve(true);
        });
    }
    followOfficialAccount() {
        return new Promise((resolve, reject) => {
            this.RecordEvent('follow', { id: 1 });
            if (this.isDouyin && this.loginCode && _script_config_GameConst__WEBPACK_IMPORTED_MODULE_10__["GameConst"].data.officalAccountEnable) {
                //只有抖音支持
                this.base.openAwemeUserProfile();
            }
            else {
                this.navigateToVideo(this.OfficalVideoId);
            }
            //今日头条端 暂时没用 
            // this.base.followOfficialAccount({
            //     success(res) {
            //         if (res.errCode === 0) {
            //             resolve(true);
            //         } else {
            //             console.log(res.errMsg);
            //             resolve(false);
            //         }
            //     },
            // });
        });
    }
    get OfficalVideoId() {
        switch (this.systemInfo.appName) {
            case EHostApp.Douyin:
                return _script_config_GameConst__WEBPACK_IMPORTED_MODULE_10__["GameConst"].data.douyinVideoId;
            case EHostApp.Toutiao:
                return _script_config_GameConst__WEBPACK_IMPORTED_MODULE_10__["GameConst"].data.toutiaoVideoId;
            default:
                return "";
        }
    }
    checkFollowState() {
        return new Promise((resolve, reject) => {
            this.base.checkFollowState({
                success(res) {
                    if (res.result) {
                        resolve(true);
                    }
                    else {
                        resolve(false);
                    }
                    console.log(res.result); // true:已关注 /  false:未关注
                },
            });
        });
    }
    addShareListener() {
        console.log('监听分享 ');
        if (_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_9__["default"].instance.channelId == 'own') {
            console.log('无效 channel');
            return;
        }
        this._base.onShareAppMessage((res) => {
            console.log('分享', res);
            let shareId = `${_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.uid}${Date.now()}`;
            return {
                title: "",
                imageUrl: "",
                query: `from=shareVideoBtn&openId=${_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.uid}&shareId=${shareId}&channelId=${_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_9__["default"].instance.channelId}`,
                extra: {
                    videoTopics: _script_config_PackConst__WEBPACK_IMPORTED_MODULE_0__["PackConst"].data.topics,
                    withVideoId: true,
                    videoTag: _script_config_GameConst__WEBPACK_IMPORTED_MODULE_10__["GameConst"].data.douyin_id
                },
                success: (rst) => {
                    console.log("分享成功", rst, _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.uid, _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_9__["default"].instance.channelId);
                    if (rst.videoId) {
                        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.reportShareInfo(rst.videoId, shareId);
                        if (window["__GM"]) {
                            //this.SetClipboardData(rst.videoId);
                            _UIExt_DefaultUI_UI_ShareResultMediator__WEBPACK_IMPORTED_MODULE_12__["UI_ShareResultMediator"].instance.Show(rst.videoId);
                        }
                    }
                },
                fail: (e) => {
                    console.log("分享失败", e);
                },
            };
        });
    }
    navigateToVideo(videoId) {
        this._base.navigateToVideoView({
            videoId: videoId,
            success: (res) => {
                console.log("跳转成功", res);
            },
            fail: (err) => {
                if (err.errCode === 1006) {
                    this._base.showToast({
                        title: "something wrong with your network",
                    });
                }
            },
        });
    }
    requestVideoList(byLike = true, count = 12) {
        return new Promise((resolve, reject) => {
            let url = byLike ? "get_top_video_ids_by_like" : "get_top_video_ids_by_time";
            this.base.request({
                url: `https://gate.snssdk.com/developer/api/${url}`,
                method: "POST",
                data: {
                    app_id: this.platformData.appId,
                    number_of_top: count,
                    access_token: _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.token,
                    tag: ""
                },
                success: (res) => {
                    if (res.statusCode == 200 && res.data) {
                        return resolve(res.data);
                    }
                    else {
                        return resolve(null);
                    }
                    // 从res中获取所需视频信息（videoId数组索引与返回数据数组索引一一对应）
                },
            });
        });
    }
    showFavoriteGuide() {
        this.base.showFavoriteGuide({
            type: "bar",
            content: "一键添加到我的小程序",
            position: "bottom",
            success(res) {
                console.log("引导组件展示成功");
            },
            fail(res) {
                console.log("引导组件展示失败");
            },
        });
    }
    hasShortcutInstalled() {
        return new Promise((resolve) => {
            this.base.checkShortcut({
                success: function (res) {
                    console.log(res);
                    if (res.status && res.status.exist) {
                        resolve(true);
                    }
                    else {
                        resolve(false);
                    }
                },
                fail: function (res) {
                    console.log(res);
                    resolve(false);
                }
            });
        });
    }
    createShortcut() {
        return new Promise((resolve) => {
            this.base.showFavoriteGuide({
                type: "tip",
                content: "添加到桌面",
                success(res) {
                    console.log("引导组件展示成功");
                    resolve(true);
                },
                fail(res) {
                    console.log("引导组件展示失败");
                    resolve(false);
                },
            });
            // this.base.addShortcut({
            //     success: function (res) {
            //         console.log(res);
            //         resolve(true);
            //     },
            //     fail: function (res) {
            //         console.log(res);
            //         resolve(false);
            //     }
            // })
        });
    }
    showGameBoxBannerAd() {
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_14__["ECheckState"].InCheck || !_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.configs.isNavEnable)
            return;
        if (!this.gameBox) {
            this.createGameBoxBannerAd();
        }
        if (this.gameBox)
            this.gameBox.ui.visible = true;
    }
    createGameBoxBannerAd() {
        let ui = new fgui.GComponent();
        ui._height = 200;
        ui.width = 750;
        ui.x = 0;
        ui.y = Laya.stage.height - 220;
        fairygui.GRoot.inst.addChild(ui);
        this.gameBox = _UIExt_DefaultUI_Cmp_View_HotGames__WEBPACK_IMPORTED_MODULE_13__["default"].CreateView(ui);
    }
    hideGameBoxBannerAd() {
        if (this.gameBox)
            this.gameBox.ui.visible = false;
    }
}
var EHostApp;
(function (EHostApp) {
    EHostApp["Douyin"] = "Douyin";
    EHostApp["XiGua"] = "XiGua";
    EHostApp["Toutiao"] = "Toutiao";
    EHostApp["live_stream"] = "live_stream";
    EHostApp["news_article_lite"] = "news_article_lite";
    EHostApp["douyin_lite"] = "douyin_lite";
})(EHostApp || (EHostApp = {}));


/***/ }),

/***/ "./src/LTGame/Platform/VivoPlatform.ts":
/*!*********************************************!*\
  !*** ./src/LTGame/Platform/VivoPlatform.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return VivoPlatform; });
/* harmony import */ var _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../script/manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");
/* harmony import */ var _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DefaultRecordManager */ "./src/LTGame/Platform/DefaultRecordManager.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");








class VivoPlatform extends _DefaultPlatform__WEBPACK_IMPORTED_MODULE_4__["default"] {
    constructor() {
        super(...arguments);
        this.isIOS = false;
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_6__["EPlatformType"].Vivo;
        this.safeArea = null;
        this.recordManager = new _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_5__["default"]();
        this.device = new _DefaultDevice__WEBPACK_IMPORTED_MODULE_3__["VivoDevice"]();
        this.systemInfo = null;
        /**
         * 是否支持直接跳转到其他小程序
         * 默认平台进行强制fake true,方便进行调试
         */
        this.isSupportJumpOther = true;
    }
    Init(platformData) {
        this.loginState = {
            isLogin: false,
            code: null
        };
        this.base = window["qg"];
        if (this.base == null) {
            console.error("平台初始化错误", _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr);
            return;
        }
        this.platformData = platformData;
        this._InitLauchOption();
        this.getSystemInfo();
        this.createVideo();
    }
    _InitLauchOption() {
        // 绑定onShow事件
        this.base.onShow(this._OnShow);
        this.base.onHide(this._OnHide);
        // 自动获取一次启动参数
        let res = this.base.getLaunchOptionsSync();
        this._OnShow(res);
    }
    /**
     * 小游戏回到前台的事件
     */
    _OnShow(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "OnShow", res);
        _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.lauchOption = res;
        _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance._CheckUpdate();
        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Resume();
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
            if (_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onResume) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onResume.runWith(res);
            }
            let cacheOnShow = _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance["_cacheOnShowHandle"];
            console.log(cacheOnShow);
            if (cacheOnShow) {
                cacheOnShow.run();
                _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance["_cacheOnShowHandle"] = null;
            }
        });
    }
    /**
    * 小游戏退出前台的事件
    */
    _OnHide(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "OnHide", res);
        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Pause();
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onPause) {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onPause.runWith(res);
        }
    }
    getSystemInfo() {
        this.base.getSystemInfo({
            success: (res) => {
                this.systemInfo = res;
                console.log('systeminfo', this.systemInfo);
                if (!this.safeArea) {
                    this.safeArea = { top: res['statusBarHeight'], bottom: res['screenHeight'], left: 0, right: res['screenWidth'], height: res['screenHeight'], width: res['screenWidth'] };
                }
                this._cacheScreenScale = this.systemInfo.screenWidth / Laya.stage.width;
                console.log(this.safeArea);
                if (res['platformVersionCode'] >= 1053) {
                    this.base.login({
                        success: (res) => {
                            console.log('vovo登陆成功', res);
                            this.loginState.isLogin = true;
                            this.loginState.code = res.token;
                            this.onLoginEnd && this.onLoginEnd.run();
                        },
                        fail: () => {
                            console.log('vovo登陆失败');
                        }
                    });
                }
            },
            fail: () => { },
            complete: () => { }
        });
    }
    IsBannerAvaliable() {
        return;
    }
    IsVideoAvaliable() {
        return;
    }
    IsInterstitalAvaliable() {
        return;
    }
    ShowInterstitalAd() {
        let interad = this.base.createInterstitialAd({
            posId: this.platformData.interstitialId
        });
        if (interad) {
            interad.show();
        }
    }
    ShowBannerAd() {
        if (this._banner) {
            this._banner.show();
            console.log('展示已有banner');
            return;
        }
        this.HideBannerAd();
        this._banner = this.base.createBannerAd({
            posId: this.platformData.bannerId
        });
        let isBannerLoading = true;
        let loadSuccess = false;
        this._banner.show().then((res) => {
            console.log("banner加载成功", res);
            if (res['code'] == 0) {
                loadSuccess = true;
            }
            isBannerLoading = false;
        }).catch((res) => {
            console.error("banner加载失败", res);
            isBannerLoading = false;
        });
    }
    HideBannerAd() {
        if (this._banner) {
            this._banner.hide();
        }
    }
    ShowRewardVideoAd(onSuccess, onSkipped) {
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {
            _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Pause();
            if (this._rewardVideo) {
                yield this._rewardVideo.load();
                this._rewardVideo.show().then(() => {
                    resolve();
                }).catch(() => {
                    reject();
                });
            }
            else {
                this._rewardVideo = window['qg'].createRewardedVideoAd({
                    posId: this.platformData.rewardVideoId
                });
                this._rewardVideo.onLoad(() => {
                    console.log("视频广告加载成功");
                });
                this._rewardVideo.onError((res) => {
                    console.error("视频广告加载失败", res);
                });
                this._rewardVideo.onClose((res) => {
                    let isEnd = res["isEnded"];
                    _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
                        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Resume();
                        if (isEnd) {
                            if (this._rewardSuccessed)
                                this._rewardSuccessed.run();
                        }
                        else {
                            if (this._rewardSkipped)
                                this._rewardSkipped.run();
                        }
                    });
                });
                yield this._rewardVideo.load();
                this._rewardVideo.show().then(() => {
                    resolve();
                }).catch(() => {
                    reject();
                });
            }
        }));
    }
    createVideo() {
        this._rewardVideo = this.base.createRewardedVideoAd({
            posId: this.platformData.rewardVideoId
        });
        this._rewardVideo.onLoad(() => {
            console.log("视频广告加载成功");
        });
        this._rewardVideo.onError((res) => {
            console.error("视频广告加载失败", res);
        });
        this._rewardVideo.onClose((res) => {
            console.log("视频回调", res);
            let isEnd = res["isEnded"];
            _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
                _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Resume();
                if (isEnd) {
                    if (this._rewardSuccessed)
                        this._rewardSuccessed.run();
                }
                else {
                    if (this._rewardSkipped)
                        this._rewardSkipped.run();
                }
            });
        });
    }
    GetFromAppId() {
        return null;
    }
    ShareAppMessage(obj, onSuccess = null, onFailed = null) {
        console.log("分享消息", obj);
        if (onSuccess) {
            onSuccess.run();
        }
    }
    LoadSubpackage(name, onSuccess, onFailed) {
        this.base.loadSubpackage({
            name: name,
            success: () => {
                console.log("vivo分包加载完成", `${name}`);
                if (onSuccess) {
                    onSuccess.run();
                }
            },
            fail: (err) => {
                console.error("vivo分包加载出错", err);
                if (onFailed) {
                    onFailed.run();
                }
            },
            complete: () => {
            }
        });
    }
    RecordEvent(eventId, param) {
        console.log("记录事件", eventId, param);
    }
    ShareVideoInfo() {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "暂未实现录屏功能");
    }
    _CheckUpdate() {
        this.base.onUpdateReady(function (res) {
            console.log(`isUpdate--- ${res}`);
            if (res == 1) {
                this.base.applyUpdate();
            }
        });
    }
    ShowToast(str) {
        _UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].Toast(str);
    }
    OpenGameBox() {
        var _a;
        this.HideBannerAd();
        (_a = this._banner) === null || _a === void 0 ? void 0 : _a.destroy();
        if (this.base.createBoxPortalAd) {
            this.boxPortalAd = this.base.createBoxPortalAd({
                posId: this.platformData.gameBoxAdId,
                marginTop: 200
            });
            this.boxPortalAd.onError(function (err) { console.log("盒子九宫格广告加载失败", err); });
            // 广告数据加载成功后展示
            this.boxPortalAd.show().then(function () { console.log('show success'); });
        }
        else {
            console.log('暂不支持互推盒子相关 API');
        }
    }
    HideGameBox() {
        if (this.boxPortalAd) {
            this.boxPortalAd.destroy();
        }
    }
    NavigateToApp(appid, path, extra) {
        return new Promise((resolve, reject) => {
            console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, `暂不支持小程序跳转appid:${appid}`);
            // 这里使用resolve
            resolve(false);
        });
    }
    hasShortcutInstalled() {
        return new Promise((resolve, reject) => {
            this.base.hasShortcutInstalled({
                success: (status) => {
                    if (status) {
                        resolve(true);
                    }
                    else {
                        resolve(false);
                    }
                }
            });
        });
    }
    createShortcut() {
        console.log('创建桌面图标');
        return new Promise((resolve, reject) => {
            this.base.installShortcut({
                success: () => {
                    console.log('创建桌面图标成功');
                    resolve(true);
                }
            });
        });
    }
    GetStorage(key) {
        console.log('读本地存储');
        return Laya.LocalStorage.getItem(key);
    }
    SetStorage(key, data) {
        console.log('写本地存储');
        Laya.LocalStorage.setItem(key, data);
    }
    followOfficialAccount() {
        console.log('暂不支持');
        return;
    }
    checkFollowState() {
        console.log('暂不支持');
        return;
    }
    SetClipboardData(str) {
        this.base.setClipboardData({ data: str });
    }
    showGameBoxBannerAd() {
    }
    hideGameBoxBannerAd() {
    }
}


/***/ }),

/***/ "./src/LTGame/Platform/WXPlatform.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Platform/WXPlatform.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WXPlatform; });
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _DefaultDevice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DefaultDevice */ "./src/LTGame/Platform/DefaultDevice.ts");
/* harmony import */ var _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DefaultRecordManager */ "./src/LTGame/Platform/DefaultRecordManager.ts");
/* harmony import */ var _EPlatformType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _ShareManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ShareManager */ "./src/LTGame/Platform/ShareManager.ts");
/* harmony import */ var _DefaultPlatform__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DefaultPlatform */ "./src/LTGame/Platform/DefaultPlatform.ts");
/* harmony import */ var _Impl_WX_WXOpenDataContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Impl/WX/WXOpenDataContext */ "./src/LTGame/Platform/Impl/WX/WXOpenDataContext.ts");











class WXPlatform extends _DefaultPlatform__WEBPACK_IMPORTED_MODULE_9__["default"] {
    constructor() {
        super(...arguments);
        this.platform = _EPlatformType__WEBPACK_IMPORTED_MODULE_6__["EPlatformType"].WX;
        this.safeArea = null;
        this.recordManager = new _DefaultRecordManager__WEBPACK_IMPORTED_MODULE_5__["default"]();
        this.device = new _DefaultDevice__WEBPACK_IMPORTED_MODULE_4__["default"]();
        this.loginCode = null;
        /**
         * 是否支持直接跳转到其他小程序
         */
        this.isSupportJumpOther = true;
        this._isBannerLoaded = false;
        this._isVideoLoaded = false;
        this._isInterstitialLoaded = false;
        this._cacheVideoAD = false;
        this.NavigateToAppSuccess = null;
    }
    Init(platformData) {
        this.base = this._base = window["wx"];
        if (this._base == null) {
            console.error("平台初始化错误", _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr);
            return;
        }
        this.platformData = platformData;
        this._InitLauchOption();
        this._Login();
        this._InitShareInfo();
        this._InitSystemInfo();
        this._CreateBannerAd();
        this._CreateVideoAd();
        this._CreateInterstitalAd();
        this.openDataContext = new _Impl_WX_WXOpenDataContext__WEBPACK_IMPORTED_MODULE_10__["default"](this.base);
        window["iplatform"] = this;
    }
    _CheckUpdate() {
        let updateManager = this._base.getUpdateManager();
        if (updateManager == null)
            return;
        updateManager.onCheckForUpdate(function (res) {
            // 请求完新版本信息的回调
            console.log("onCheckForUpdate", res.hasUpdate);
            if (res.hasUpdate) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.base.showToast({
                    title: "即将有更新请留意"
                });
            }
        });
        updateManager.onUpdateReady(() => {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.base.showModal({
                title: "更新提示",
                content: "新版本已经准备好，是否立即使用？",
                success: function (res) {
                    if (res.confirm) {
                        // 调用 applyUpdate 应用新版本并重启
                        let updateManager = _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.base.getUpdateManager();
                        updateManager.applyUpdate();
                    }
                    else {
                        _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.base.showToast({
                            icon: "none",
                            title: "小程序下一次「冷启动」时会使用新版本"
                        });
                    }
                }
            });
        });
        updateManager.onUpdateFailed(() => {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.base.showToast({
                title: "更新失败，下次启动继续..."
            });
        });
    }
    _Login() {
        this.loginState = {
            isLogin: false,
            code: ""
        };
        let loginData = {};
        loginData.success = (res) => {
            this.loginCode = res.code;
            this._OnLoginSuccess(res);
            console.error(this.loginState);
            this.getUserInfo();
        };
        loginData.fail = (res) => {
            console.error(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "登录失败", res);
            this.loginState.isLogin = false;
            this.loginState.code = "";
        };
        loginData.complete = () => {
            if (this.onLoginEnd != null) {
                this.onLoginEnd.run();
            }
        };
        this._base.login(loginData);
    }
    getUserInfo() {
        return new Promise((resolve, reject) => {
            this.base.getUserInfo({
                withCredentials: true,
                lang: 'zh_CN',
                success: (result) => {
                    console.log(result);
                    resolve();
                },
                fail: () => { },
                complete: () => { }
            });
        });
    }
    _OnLoginSuccess(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "登录成功", res);
        // LTUI.Toast('登录成功');
        this.openDataContext = new _Impl_WX_WXOpenDataContext__WEBPACK_IMPORTED_MODULE_10__["default"](this.base);
        this.loginState.isLogin = true;
        this.loginState.code = res.code;
    }
    _InitLauchOption() {
        // 绑定onShow事件
        this._base.onShow(this._OnShow);
        this._base.onHide(this._OnHide);
        // 自动获取一次启动参数
        let res = this._base.getLaunchOptionsSync();
        this._OnShow(res);
    }
    _InitShareInfo() {
        this._base.showShareMenu({
            withShareTicket: true,
            success: (res) => {
                console.log("InitShareSuccess", res);
            },
            fail: (res) => {
                console.log("InitShareFailed", res);
            },
            complete: (res) => {
                console.log("InitShareComplete", res);
            }
        });
        this._base.onShareAppMessage(() => {
            let shareInfo = _ShareManager__WEBPACK_IMPORTED_MODULE_8__["default"].instance.GetShareInfo();
            return WXPlatform._WrapShareInfo(shareInfo);
        });
    }
    static _WrapShareInfo(shareInfo) {
        let shareObj = {};
        if (shareInfo.shareTitle) {
            shareObj["title"] = shareInfo.shareTitle;
        }
        if (shareInfo.shareImg) {
            shareObj["imageUrl"] = shareInfo.shareImg;
        }
        if (shareInfo.sharePath) {
            shareObj["query"] = {};
            let pathSplit = shareInfo.sharePath.split("?");
            let params = pathSplit[1].split("&");
            for (let getParam of params) {
                let splitParam = getParam.split("=");
                shareObj["query"][splitParam[0]] = splitParam[1];
            }
        }
        return shareObj;
    }
    _InitSystemInfo() {
        this.base = this._base;
        try {
            this.systemInfo = this._base.getSystemInfoSync();
            console.log("系统信息已获取", this.systemInfo);
            this.safeArea = this.systemInfo.safeArea;
            this._cacheScreenScale = this.systemInfo.screenWidth / Laya.stage.width;
        }
        catch (e) {
            console.error(e);
            console.error("获取设备信息失败,执行默认初始化");
            this.safeArea = null;
        }
    }
    _CreateInterstitalAd() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.platformData.interstitialId)) {
            console.log("无有效的插页广告ID,取消加载");
            return;
        }
        this._interstitalFailedCount = 0;
        let intAdObj = {};
        intAdObj["adUnitId"] = this.platformData.interstitialId;
        this._intersitialAd = this._base.createInterstitialAd(intAdObj);
        if (this._intersitialAd == null) {
            console.error("createInterstitialAd返回值为null,取消初始化");
            return;
        }
        this._intersitialAd.onLoad(() => {
            console.log("插页广告加载成功");
            this._isInterstitialLoaded = true;
        });
        this._intersitialAd.onError((err) => {
            this._interstitalFailedCount++;
            console.error("插页广告加载失败", err);
            if (this._interstitalFailedCount > 10) {
                console.log("第", this._interstitalFailedCount, "次重新加载插页广告");
                // 失败自动加载广告
                this._intersitialAd.load();
            }
        });
    }
    _CreateVideoAd() {
        if (!this._cacheVideoAD) {
            console.log("当前策略为不缓存视频广告");
            return;
        }
        let createRewardedVideoAd = this._base["createRewardedVideoAd"];
        if (createRewardedVideoAd == null) {
            console.error("无createRewardedVideoAd方法,跳过初始化");
            return;
        }
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.platformData.rewardVideoId)) {
            console.log("无有效的视频广告ID,取消加载");
            return;
        }
        this._videoFailedCount = 0;
        let videoObj = {};
        videoObj["adUnitId"] = this.platformData.rewardVideoId; // "adunit-5631637236cf16b6";
        this._rewardVideo = createRewardedVideoAd(videoObj);
        this._rewardVideo.onLoad(() => {
            console.log("视频广告加载成功");
            this._isVideoLoaded = true;
        });
        this._rewardVideo.onError((res) => {
            this._videoFailedCount++;
            console.error("视频广告加载失败", res);
            if (this._videoFailedCount > 10) {
                console.log("第", this._videoFailedCount, "次重新加载视频广告");
                // 失败自动加载广告
                this._rewardVideo.load();
            }
        });
        this._rewardVideo.onClose((res) => {
            Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].RESUM_AUDIO);
            console.log("视频回调", res);
            let isEnd = res["isEnded"];
            // 修复广告bug
            _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
                if (isEnd) {
                    if (this._rewardSuccessed)
                        this._rewardSuccessed.run();
                }
                else {
                    if (this._rewardSkipped)
                        this._rewardSkipped.run();
                }
            });
        });
    }
    _CreateBannerAd() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.platformData.bannerId)) {
            console.log("无有效的banner广告ID,取消加载");
            return;
        }
        let windowWidth = this._base.getSystemInfoSync().windowWidth;
        let windowHeight = this._base.getSystemInfoSync().windowHeight;
        let bannerObj = {};
        bannerObj["adUnitId"] = this.platformData.bannerId; // "adunit-b48894d44d318e5a";
        bannerObj["adIntervals"] = 30;
        let styleObj = {};
        styleObj["left"] = 0;
        styleObj["top"] = 0;
        styleObj["width"] = 300;
        bannerObj["style"] = styleObj;
        this._bannerAd = this._base.createBannerAd(bannerObj);
        this._isBannerLoaded = false;
        this._bannerAd.onLoad(() => {
            console.log("banner加载成功");
            this._isBannerLoaded = true;
            this._bannerAd.style.top = windowHeight - this._bannerAd.style.realHeight;
            this._bannerAd.style.left = (windowWidth - this._bannerAd.style.realWidth) / 2;
        });
        this._bannerAd.onError((res) => {
            console.error("banner广告加载失败", res);
        });
    }
    IsBannerAvaliable() {
        return this._isBannerLoaded;
    }
    IsVideoAvaliable() {
        return this._isVideoLoaded;
    }
    IsInterstitalAvaliable() {
        return this._isInterstitialLoaded;
    }
    ShowBannerAd() {
        if (!this.IsBannerAvaliable()) {
            // UI_SelfBannerMediator.instance.Show();
            return;
        }
        this._bannerAd.show();
    }
    HideBannerAd() {
        // UI_SelfBannerMediator.instance.Hide();
        this._bannerAd.hide();
    }
    _DoCacheShowVideo(onSuccess, onSkipped) {
        if (!this._isVideoLoaded) {
            console.error("视频广告尚未加载好");
            return;
        }
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        this._isVideoLoaded = false;
        Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].PAUSE_AUDIO);
        this._rewardVideo.show();
    }
    _DoNoCacheShowVideo(onSuccess, onSkipped, onFailed) {
        this._rewardSuccessed = onSuccess;
        this._rewardSkipped = onSkipped;
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.platformData.rewardVideoId)) {
            console.log("无有效的视频广告ID,取消加载");
            onFailed === null || onFailed === void 0 ? void 0 : onFailed.run();
            return;
        }
        let createRewardedVideoAd = this._base["createRewardedVideoAd"];
        if (createRewardedVideoAd == null) {
            console.error("无createRewardedVideoAd方法,跳过初始化");
            onFailed === null || onFailed === void 0 ? void 0 : onFailed.run();
            return;
        }
        this.base.showLoading({
            title: '广告拉取中...',
        });
        this._videoFailedCount = 0;
        let videoObj = {};
        videoObj["adUnitId"] = this.platformData.rewardVideoId; // "adunit-5631637236cf16b6";
        this._rewardVideo = createRewardedVideoAd(videoObj);
        this._rewardVideo.onLoad(() => {
            console.log("视频广告加载成功");
            this._isVideoLoaded = true;
        });
        this._rewardVideo.onError((res) => {
            this._videoFailedCount++;
            console.error("视频广告加载失败", res, this._videoFailedCount);
        });
        this._rewardVideo.onClose((res) => {
            Laya.stage.event(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].RESUM_AUDIO);
            console.log("视频回调", res);
            let isEnd = res["isEnded"];
            _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
                if (isEnd) {
                    if (this._rewardSuccessed)
                        this._rewardSuccessed.run();
                }
                else {
                    if (this._rewardSkipped)
                        this._rewardSkipped.run();
                }
            });
        });
        this._rewardVideo.show().then(() => {
            this.base.hideLoading();
        }).catch(err => {
            console.log("广告组件出现问题", err);
            // 可以手动加载一次
            this._rewardVideo.load().then(() => {
                console.log("手动加载成功");
                // 加载成功后需要再显示广告
                return this._rewardVideo.show().then(() => {
                    this.base.hideLoading();
                }).catch((err) => {
                    console.error(err);
                    this.base.hideLoading();
                });
                ;
            });
        });
        ;
    }
    ShowRewardVideoAd(onSuccess, onSkipped, onFailed) {
        if (this._cacheVideoAD) {
            this._DoCacheShowVideo(onSuccess, onSkipped);
        }
        else {
            this._DoNoCacheShowVideo(onSuccess, onSkipped, onFailed);
        }
    }
    ShowInterstitalAd() {
        if (!this._isInterstitialLoaded) {
            console.error("插页广告尚未加载好");
            return;
        }
        this._intersitialAd.show();
    }
    GetFromAppId() {
        if (this.lauchOption.referrerInfo == null) {
            return null;
        }
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(this.lauchOption.referrerInfo.appId)) {
            return null;
        }
        return this.lauchOption.referrerInfo.appId;
    }
    /**
     * 小游戏回到前台的事件
     */
    _OnShow(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "OnShow", res);
        _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.lauchOption = res;
        _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance._CheckUpdate();
        // this.NavigateToAppSuccess = null;//wx
        _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame().then(() => {
            if (_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onResume) {
                _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onResume.runWith(res);
            }
            let cacheOnShow = _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance["_cacheOnShowHandle"];
            if (cacheOnShow) {
                cacheOnShow.run();
                _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance["_cacheOnShowHandle"] = null;
            }
        });
    }
    /**
     * 小游戏退出前台的事件
     */
    _OnHide(res) {
        console.log(_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "OnHide", res);
        if (_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onPause) {
            _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.onPause.runWith(res);
        }
        //wx
        // if (this.NavigateToAppSuccess) {
        //     this.NavigateToAppSuccess();
        // }
    }
    ShareAppMessage(shareInfo, onSuccess, onFailed) {
        console.log("分享消息", shareInfo);
        let shareObj = WXPlatform._WrapShareInfo(shareInfo);
        this._base.shareAppMessage(shareObj);
        if (onSuccess) {
            onSuccess.run();
        }
    }
    LoadSubpackage(name, onSuccess, onFailed, onProgress) {
        if (this._base['loadSubpackage'] == null) {
            console.log("无加载子包方法,跳过加载子包", name);
            if (onSuccess) {
                onSuccess.run();
            }
            return;
        }
        let loadObj = {};
        loadObj["name"] = name;
        loadObj["success"] = () => {
            console.log("分包加载成功", name);
            if (onSuccess) {
                onSuccess.run();
            }
        };
        loadObj["fail"] = () => {
            console.error("分包加载失败", name);
            if (onFailed) {
                onFailed.run();
            }
        };
        let loadTask = this._base.loadSubpackage(loadObj);
        loadTask.onProgressUpdate((res) => {
            if (Laya.Browser.onMobile) {
                console.log("分包加载进度", res);
            }
            if (onProgress) {
                onProgress.runWith(res.progress / 100);
            }
        });
    }
    RecordEvent(eventId, param) {
        console.log("记录事件", eventId, param);
        let aldSendEvent = this._base["aldSendEvent"];
        if (aldSendEvent == null) {
            console.error("阿拉丁sdk尚未接入,请检查配置");
            return;
        }
        if (param != null) {
            aldSendEvent(eventId, param);
        }
        else {
            aldSendEvent(eventId);
        }
    }
    /**
     * 创建分享视频按钮
     * @param x
     * @param y
     * @param width
     * @param height
     */
    CreateShareVideoBtn(x, y, width, height) {
        let btnObj = {};
        btnObj.style = {
            left: x * this._cacheScreenScale,
            top: y * this._cacheScreenScale,
            height: height * this._cacheScreenScale,
            width: width * this._cacheScreenScale
        };
        btnObj.share = {
            query: {
                tick: 1
            },
            bgm: "",
            timeRange: [0, 60 * 1000]
        };
        if (this._shareVideoBtn == null) {
            this._shareVideoBtn = this._base.createGameRecorderShareButton(btnObj);
        }
        else {
            this._shareVideoBtn.show();
        }
    }
    /**
     * 隐藏分享视频按钮
     */
    HideShareVideoBtn() {
        if (this._shareVideoBtn != null) {
            this._shareVideoBtn.hide();
        }
    }
    ShowToast(str) {
        this._base.showToast({
            title: str,
            duration: 2000
        });
    }
    OpenGameBox(appIds) {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "暂不支持互推游戏盒子");
    }
    NavigateToApp(appid, path, extra, showGC, isbanner, adid) {
        return new Promise((resolve, reject) => {
            if (showGC) {
                // GlobalUnit.gameManager.GameOver();
            }
            // this.NavigateToAppSuccess = null;
            wx.navigateToMiniProgram({
                appId: appid,
                path: path,
                extraData: extra,
                envVersion: '',
                success: (res) => {
                    if (isbanner) {
                        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportClickAd(adid, 19, true);
                    }
                    else {
                        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportClickAd(adid, 5, true);
                    }
                    console.log('小游戏跳转成功', res);
                    // this.NavigateToAppSuccess = () => {
                    // };
                    resolve(true);
                },
                fail: () => {
                    console.log('小游戏跳转失败：');
                    if (isbanner) {
                        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportClickAd(adid, 19, false);
                    }
                    else {
                        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportClickAd(adid, 5, false);
                    }
                    reject(false);
                    if (showGC) {
                        // UI_GameCenterMediator.instance.Show();
                    }
                },
                complete: () => { }
            });
        });
    }
    createShortcut() {
        console.log('暂未实现');
    }
    GetStorage(key) {
        if (this.base && this.base.getStorageSync && key) {
            try {
                return this.base.getStorageSync(key);
            }
            catch (error) {
                console.log('getStorageSync error: ', JSON.stringify(error));
                return null;
            }
        }
    }
    SetStorage(key, data) {
        if (this.base && this.base.getStorageSync && key) {
            try {
                return this.base.setStorageSync(key, data);
            }
            catch (error) {
                console.log('setStorageSync error: ', JSON.stringify(error));
            }
        }
    }
    followOfficialAccount() {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "暂不支持关注");
    }
    checkFollowState() {
        console.error("当前平台", _LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].platformStr, "暂不支持关注");
    }
    SetClipboardData(str) {
        this._base.setClipboardData({ data: str });
    }
    /** 往开放域推送数据 */
    postMsg(msg) {
        let context = this.base.getOpenDataContext();
        context.postMessage(msg);
    }
    /**原生模板广告 */
    showGameBoxBannerAd() {
        this.HideBannerAd();
        this.creatCustom();
        if (this.customAdLeft) {
            this.customAdLeft.show();
        }
        if (this.customAdRight) {
            this.customAdRight.show();
        }
        if (this.customAdBottom) {
            this.customAdBottom.show();
        }
    }
    creatCustom() {
        if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.configs.isADEnable)
            return;
        let windowWidth = this._base.getSystemInfoSync().windowWidth;
        let windowHeight = this._base.getSystemInfoSync().windowHeight;
        //单个格子默认 68*106 底部多个格子默认 360*106
        if (!this.customAdLeft) {
            this.customAdLeft = this.base.createCustomAd({
                adUnitId: this.platformData.gameBoxAdId,
                adIntervals: 30,
                style: {
                    left: 0,
                    top: windowHeight / 2 - 300,
                    fixed: false
                }
            });
            this.customAdLeft.onLoad((res) => {
                console.log("customAdLeft onload", res);
            });
            this.customAdLeft.onError((res) => {
                console.log("customAdLeft err", res);
            });
        }
        if (!this.customAdRight) {
            this.customAdRight = this.base.createCustomAd({
                adUnitId: this.platformData.customBoxAdId,
                adIntervals: 30,
                style: {
                    left: windowWidth - 68,
                    top: windowHeight / 2 - 300,
                    fixed: false
                }
            });
            this.customAdRight.onLoad((res) => {
                console.log("customAdLeft onload", res);
            });
            this.customAdRight.onError((res) => {
                console.log("customAdLeft err", res);
            });
        }
        if (!this.customAdBottom) {
            this.customAdBottom = this.base.createCustomAd({
                adUnitId: this.platformData.gameBoxBannerId,
                style: {
                    left: 0,
                    top: windowHeight - 108,
                    width: windowWidth,
                    height: 106
                }
            });
            this.customAdBottom.onLoad((res) => {
                console.log("customAdBottom onload", res);
            });
            this.customAdBottom.onError((res) => {
                console.log("customAdBottom err", res);
            });
        }
    }
    hideGameBoxBannerAd() {
        if (this.customAdLeft) {
            this.customAdLeft.hide();
        }
        if (this.customAdRight) {
            this.customAdRight.hide();
        }
        if (this.customAdBottom) {
            this.customAdBottom.hide();
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Res/LTRes.ts":
/*!*********************************!*\
  !*** ./src/LTGame/Res/LTRes.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTRes; });
class LTRes {
    static Load(urls, onCompleted, onProgress = null) {
        if (onProgress && onProgress.once) {
            onProgress.once = false;
        }
        Laya.loader.create(urls, onCompleted, onProgress);
    }
    static Load2d(urls, onCompleted, onProgress = null) {
        if (onProgress && onProgress.once) {
            onProgress.once = false;
        }
        Laya.loader.load(urls, onCompleted, onProgress);
    }
    static LoadAsync(urls, onProgress = null) {
        return new Promise(function (resolve) {
            LTRes.Load(urls, Laya.Handler.create(null, () => {
                resolve();
            }), onProgress);
        });
    }
    static Load2dAsync(urls, onProgress = null) {
        return new Promise(function (resolve) {
            LTRes.Load2d(urls, Laya.Handler.create(null, () => {
                resolve();
            }), onProgress);
        });
    }
    static Get(resUrl, noClone = false) {
        if (resUrl.endsWith('.ls')) {
            noClone = true;
        }
        let getRes = Laya.loader.getRes(resUrl);
        if (getRes == null) {
            console.error("资源尚未加载", resUrl);
            return null;
        }
        return noClone ? getRes : getRes.clone();
    }
    static LoadAndGet(resUrl, noClone = false) {
        return __awaiter(this, void 0, void 0, function* () {
            yield LTRes.LoadAsync(resUrl);
            return LTRes.Get(resUrl, noClone);
        });
    }
    static Unload(resUrl) {
        Laya.loader.clearRes(resUrl);
    }
}


/***/ }),

/***/ "./src/LTGame/Res/LTRespackManager.ts":
/*!********************************************!*\
  !*** ./src/LTGame/Res/LTRespackManager.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTRespackManager; });
/* harmony import */ var _Config_LoadPackConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Config/LoadPackConfig */ "./src/LTGame/Config/LoadPackConfig.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");




class LTRespackManager {
    constructor() {
        this._packs = [];
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new LTRespackManager();
        }
        return this._instance;
    }
    get packs() {
        return this._packs;
    }
    get baseUrl() {
        return this._baseUrl;
    }
    get _totalProgress() {
        let total = this._subpackProgress.length;
        let loaded = 0;
        for (let singlProgress of this._subpackProgress) {
            loaded += singlProgress;
        }
        return loaded / total;
    }
    InitLoadSet() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_1__["default"].IsNullOrEmpty(this._baseUrl))
            return;
        let adapter = null;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].TT:
                adapter = Laya.TTMiniAdapter;
                break;
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].WX:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].KS:
                adapter = Laya.MiniAdpter;
                break;
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].BD:
                adapter = Laya.BMiniAdapter;
                break;
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].QQ:
                adapter = Laya.QQMiniAdapter;
                break;
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo:
                adapter = Laya.QGMiniAdapter;
                break;
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo:
                adapter = Laya.VVMiniAdapter;
                Laya.VVMiniAdapter.AutoCacheDownFile = true;
                break;
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].HW:
                adapter = Laya.HWMiniAdapter;
                break;
        }
        if (adapter == null)
            return;
        Laya.URL.basePath = this._baseUrl;
        adapter.nativefiles = [];
        for (let pack of this._packs) {
            if (pack.pathType != _Config_LoadPackConfig__WEBPACK_IMPORTED_MODULE_0__["EPackType"].Remote) {
                adapter.nativefiles.push(pack.path);
            }
        }
    }
    SetRemoteUrl(baseUrl) {
        this._baseUrl = baseUrl;
    }
    AddPackData(...packDatas) {
        packDatas.forEach(packData => {
            this._packs.push(packData);
        });
    }
    LoadSubPack(onComplete, onProgress) {
        this._subpackLoaded = [];
        this._subpackProgress = [];
        for (let i = 0; i < this._packs.length; ++i) {
            let pack = this._packs[i];
            if (pack.pathType == _Config_LoadPackConfig__WEBPACK_IMPORTED_MODULE_0__["EPackType"].SubPack) {
                this._subpackLoaded.push(false);
                this._subpackProgress.push(0);
            }
        }
        let reIndex = 0;
        for (let i = 0; i < this._packs.length; ++i) {
            let pack = this._packs[i];
            if (pack.pathType == _Config_LoadPackConfig__WEBPACK_IMPORTED_MODULE_0__["EPackType"].SubPack) {
                let cacheIndex = reIndex;
                _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.LoadSubpackage(pack.name, Laya.Handler.create(this, () => {
                    this._subpackLoaded[cacheIndex] = true;
                    for (let i = 0; i < this._subpackLoaded.length; ++i) {
                        if (!this._subpackLoaded[i])
                            return;
                    }
                    if (onComplete) {
                        onComplete.run();
                    }
                }), Laya.Handler.create(this, () => {
                    console.error("分包加载失败", pack);
                }), Laya.Handler.create(this, (value) => {
                    this._subpackProgress[cacheIndex] = value;
                    if (onProgress) {
                        onProgress.runWith(this._totalProgress);
                    }
                }, null, false));
                reIndex++;
            }
        }
        if (reIndex == 0) {
            onProgress.runWith(1);
            if (onComplete) {
                onComplete.run();
            }
        }
    }
}


/***/ }),

/***/ "./src/LTGame/Start/ESceneType.ts":
/*!****************************************!*\
  !*** ./src/LTGame/Start/ESceneType.ts ***!
  \****************************************/
/*! exports provided: ESceneType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ESceneType", function() { return ESceneType; });
var ESceneType;
(function (ESceneType) {
    ESceneType[ESceneType["None"] = 0] = "None";
    ESceneType[ESceneType["Splash"] = 1] = "Splash";
    ESceneType[ESceneType["Main"] = 2] = "Main";
})(ESceneType || (ESceneType = {}));


/***/ }),

/***/ "./src/LTGame/Start/LTMain.ts":
/*!************************************!*\
  !*** ./src/LTGame/Start/LTMain.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTMain; });
/* harmony import */ var _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Commom/EScreenOrientation */ "./src/LTGame/Commom/EScreenOrientation.ts");

class LTMain {
    constructor(mainLogicClass) {
        this._mainLogic = new mainLogicClass();
        let config3D = new Config3D();
        config3D.octreeCulling = false;
        config3D.enableMultiLight = false;
        config3D.isAntialias = true;
        //根据IDE设置初始化引擎
        Laya3D.init(this._mainLogic.designWidth, this._mainLogic.designHeight, config3D, Laya.Handler.create(null, () => {
            switch (this._mainLogic.screenOrientation) {
                case _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_0__["EScreenOrientation"].Landscape:
                    Laya.stage.screenMode = Laya.Stage.SCREEN_HORIZONTAL;
                    break;
                case _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_0__["EScreenOrientation"].Portrait:
                    Laya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;
                    break;
                default:
                    console.error("未处理的屏幕初始化方向", this._mainLogic.screenOrientation);
                    break;
            }
            Laya.stage.useRetinalCanvas = true;
            Laya.stage.scaleMode = Laya.Stage.SCALE_FIXED_AUTO; //window['kwaigame'] ? Laya.Stage.SCALE_EXACTFIT :
            Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;
            Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;
            //兼容微信不支持加载scene后缀场景
            Laya.URL.exportSceneToJson = true;
            //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
            // if (GameConfig.debug || Laya.Utils.getQueryString("debug") == "true") 
            // Laya.enableDebugPanel();
            // if (GameConfig.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
            if (this._mainLogic.enableStat) {
                Laya.Stat.show(0, 100);
            }
            Laya.alertGlobalError(false);
            this._mainLogic.InitGame();
        }));
    }
}


/***/ }),

/***/ "./src/LTGame/Start/LTSplashScene.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/Start/LTSplashScene.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTSplashScene; });
/* harmony import */ var _Fsm_BaseState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Fsm/BaseState */ "./src/LTGame/Fsm/BaseState.ts");
/* harmony import */ var _UIExt_FGui_LoadUIPack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UIExt/FGui/LoadUIPack */ "./src/LTGame/UIExt/FGui/LoadUIPack.ts");
/* harmony import */ var _ESceneType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ESceneType */ "./src/LTGame/Start/ESceneType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Res_LTRespackManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Res/LTRespackManager */ "./src/LTGame/Res/LTRespackManager.ts");
/* harmony import */ var _UIExt_DefaultUI_UI_LTGame_LTGameBinder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../UIExt/DefaultUI/UI/LTGame/LTGameBinder */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/LTGameBinder.ts");
/* harmony import */ var _UIExt_FGui_FGuiData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../UIExt/FGui/FGuiData */ "./src/LTGame/UIExt/FGui/FGuiData.ts");
/* harmony import */ var _UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../UIExt/FGui/FGuiEx */ "./src/LTGame/UIExt/FGui/FGuiEx.ts");
/* harmony import */ var _Config_ConfigManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Config/ConfigManager */ "./src/LTGame/Config/ConfigManager.ts");
/* harmony import */ var _UIExt_DefaultUI_UI_FlyPanelMediator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../UIExt/DefaultUI/UI_FlyPanelMediator */ "./src/LTGame/UIExt/DefaultUI/UI_FlyPanelMediator.ts");
/* harmony import */ var _LTG_CommonUI_UI_LTCom_LTComBinder__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../LTG_CommonUI/UI/LTCom/LTComBinder */ "./src/LTG_CommonUI/UI/LTCom/LTComBinder.ts");
/* harmony import */ var _Material_LTShaderHelper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Material/LTShaderHelper */ "./src/LTGame/Material/LTShaderHelper.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");














class LTSplashScene extends _Fsm_BaseState__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, _ESceneType__WEBPACK_IMPORTED_MODULE_2__["ESceneType"].Splash);
        /**
         * 用于初始化的ui包
         */
        this._initUiPack = new _UIExt_FGui_LoadUIPack__WEBPACK_IMPORTED_MODULE_1__["LoadUIPack"]("res/fgui_load/Load");
        /**
         * 需要加载的其他UI包
         */
        this._needLoadOtherUIPack = [
            new _UIExt_FGui_LoadUIPack__WEBPACK_IMPORTED_MODULE_1__["LoadUIPack"]("res/fgui/Main")
        ];
        /**
         * 资源加载权重:
         * 子包
         * 配置
         * 资源
         * 其他ui
         */
        this._loadProgressWeight = [10, 1, 5, 2];
        this._configProgress = 0;
        this._otherUIProgress = 0;
        this._resProgress = 0;
        this._subPackProgress = 0;
        this._isUIShowed = false;
        this._jsonPath = "subpack.json";
        this._useCommonUI = false;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].WX:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].QQ:
                this._loadProgressWeight = [10, 1, 5, 2];
                break;
            default:
                this._loadProgressWeight = [1, 1, 5, 2];
                break;
        }
    }
    get _loadProgress() {
        let totalWeight = this._loadProgressWeight[0] + this._loadProgressWeight[1] + this._loadProgressWeight[2] + this._loadProgressWeight[3];
        let loadWeight = this._loadProgressWeight[0] * this._subPackProgress
            + this._loadProgressWeight[1] * this._configProgress
            + this._loadProgressWeight[2] * this._resProgress
            + this._loadProgressWeight[3] * this._otherUIProgress;
        return loadWeight / totalWeight * 95;
    }
    _DoEnter() {
        this._needLoadOtherUIPack.push(new _UIExt_FGui_LoadUIPack__WEBPACK_IMPORTED_MODULE_1__["LoadUIPack"]("res/ltgame/ui/LTGame"));
        if (this._useCommonUI) {
            this._needLoadOtherUIPack.push(new _UIExt_FGui_LoadUIPack__WEBPACK_IMPORTED_MODULE_1__["LoadUIPack"]("res/ltgame/ui/LTCom", 2));
        }
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Web:
                this._InitUI();
                break;
            default:
                Laya.loader.load(this._jsonPath, Laya.Handler.create(this, this._OnJsonLoaded));
                break;
        }
    }
    _OnJsonLoaded() {
        let loadJson = Laya.loader.getRes(this._jsonPath);
        Laya.loader.clearRes(this._jsonPath);
        if (loadJson != null) {
            for (let i = 0; i < loadJson.length; ++i) {
                let jsonData = loadJson[i];
                console.log("自动设置分包", jsonData);
                _Res_LTRespackManager__WEBPACK_IMPORTED_MODULE_5__["default"].instance.AddPackData(jsonData);
            }
        }
        _Res_LTRespackManager__WEBPACK_IMPORTED_MODULE_5__["default"].instance.InitLoadSet();
        this._InitUI();
    }
    _InitUI() {
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.RecordEvent("开始初始化启动界面", null);
        _UIExt_DefaultUI_UI_LTGame_LTGameBinder__WEBPACK_IMPORTED_MODULE_6__["default"].bindAll();
        if (this._useCommonUI) {
            _LTG_CommonUI_UI_LTCom_LTComBinder__WEBPACK_IMPORTED_MODULE_11__["default"].bindAll();
        }
        this._OnBindUI();
        let loadUrl = [];
        this._initUiPack.PushUrl(loadUrl);
        Laya.loader.load(loadUrl, Laya.Handler.create(this, this._OnUILoaded));
    }
    _OnBindUI() { }
    _OnUILoaded() {
        this._initUiPack.AddPackage();
        // 打开界面
        let needFit = new _UIExt_FGui_FGuiData__WEBPACK_IMPORTED_MODULE_7__["default"]();
        needFit.needFitScreen = false;
        this._ui = _UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_8__["default"].AddUI(this._splashUIClass, needFit);
        this._ui.sortingOrder = Number.MAX_SAFE_INTEGER;
        this._progressUI = this._ui["m_progress"];
        this._progressUI.value = 0;
        this._isUIShowed = true;
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.RecordEvent("启动界面初始化完成", null);
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Oppo) {
            _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.reportMonitor();
        }
        _Res_LTRespackManager__WEBPACK_IMPORTED_MODULE_5__["default"].instance.LoadSubPack(Laya.Handler.create(this, this._OnPackLoaded), Laya.Handler.create(this, this._OnPackProgress, null, false));
    }
    _OnPackProgress(value) {
        this._subPackProgress = value;
    }
    _OnPackLoaded() {
        this._StartLoad();
    }
    _StartLoad() {
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.RecordEvent("开始加载配置表", null);
        this._OnSetLoadConfig();
        if (_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_9__["ConfigManager"].needLoadCount <= 0) {
            this._configProgress = 1;
            this._OnConfigLoaded();
            return;
        }
        _Config_ConfigManager__WEBPACK_IMPORTED_MODULE_9__["ConfigManager"].StartLoad(Laya.Handler.create(this, this._OnConfigLoaded), Laya.Handler.create(this, this._OnConfigProgress, null, false));
    }
    _OnSetLoadConfig() {
    }
    _OnConfigProgress(value) {
        this._configProgress = value;
    }
    _OnConfigLoaded() {
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.RecordEvent("开始加载剩余UI资源", null);
        if (this._needLoadOtherUIPack.length == 0) {
            this._OnOtherUILoaded();
            return;
        }
        let uiLoadData = [];
        for (let i = 0; i < this._needLoadOtherUIPack.length; ++i) {
            let otherUIPack = this._needLoadOtherUIPack[i];
            otherUIPack.PushUrl(uiLoadData);
        }
        Laya.loader.load(uiLoadData, Laya.Handler.create(this, this._OnOtherUILoaded), Laya.Handler.create(this, this._OnOtherUIProgress, null, false));
    }
    _OnOtherUIProgress(value) {
        this._otherUIProgress = value;
    }
    _OnOtherUILoaded() {
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.RecordEvent("开始加载剩余游戏资源", null);
        for (let i = 0; i < this._needLoadOtherUIPack.length; ++i) {
            let otherUIPack = this._needLoadOtherUIPack[i];
            otherUIPack.AddPackage();
            console.log(otherUIPack, "已加载");
        }
        _UIExt_DefaultUI_UI_FlyPanelMediator__WEBPACK_IMPORTED_MODULE_10__["default"].instance.Show();
        let loadUrls = [];
        this._OnGameResPrepared(loadUrls);
        if (loadUrls.length == 0) {
            this._resProgress = 1;
            this._OnResLoaded();
            return;
        }
        Laya.loader.create(loadUrls, Laya.Handler.create(this, this._OnResLoaded), Laya.Handler.create(this, this._OnResProgress, null, false));
    }
    /**
     * 准备需要在splash界面加载的资源,会体现在进度条上
     * @param urls
     */
    _OnGameResPrepared(urls) {
    }
    _OnResProgress(value) {
        this._resProgress = value;
    }
    _OnResLoaded() {
        return __awaiter(this, void 0, void 0, function* () {
            this._isUIShowed = false;
            this._progressUI.value = 95;
            yield _Material_LTShaderHelper__WEBPACK_IMPORTED_MODULE_12__["LTShaderHelper"].WarmShader();
            this._progressUI.value = 100;
            _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.RecordEvent("进入游戏", null);
            this._OnGameResLoaded();
        });
    }
    _OnGameResLoaded() {
    }
    _DoRunning() {
        if (!this._isUIShowed) {
            return;
        }
        this._progressUI.value = this._loadProgress;
    }
    _DoExit() {
        this._CloseSplash();
    }
    _CloseSplash() {
        return __awaiter(this, void 0, void 0, function* () {
            this._ui.dispose();
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_13__["default"].NextFrame();
            this._initUiPack.RemovePackage();
        });
    }
}


/***/ }),

/***/ "./src/LTGame/Start/LTStart.ts":
/*!*************************************!*\
  !*** ./src/LTGame/Start/LTStart.ts ***!
  \*************************************/
/*! exports provided: LTStart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LTStart", function() { return LTStart; });
/* harmony import */ var _Fsm_StateMachine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Fsm/StateMachine */ "./src/LTGame/Fsm/StateMachine.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _Platform_Data_LTPlatformData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Platform/Data/LTPlatformData */ "./src/LTGame/Platform/Data/LTPlatformData.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../UIExt/FGui/FGuiEx */ "./src/LTGame/UIExt/FGui/FGuiEx.ts");
/* harmony import */ var _LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../LTUtils/MonoHelper */ "./src/LTGame/LTUtils/MonoHelper.ts");
/* harmony import */ var _LTVersion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../LTVersion */ "./src/LTGame/LTVersion.ts");
/* harmony import */ var _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Commom/EScreenOrientation */ "./src/LTGame/Commom/EScreenOrientation.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _SDK_Impl_SDK_Default__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../SDK/Impl/SDK_Default */ "./src/SDK/Impl/SDK_Default.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _Material_LTShaderHelper__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Material/LTShaderHelper */ "./src/LTGame/Material/LTShaderHelper.ts");












class LTStart {
    constructor() {
        this.enableStat = false;
        this.screenOrientation = _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_7__["EScreenOrientation"].Portrait;
    }
    get _currentState() {
        return this._fsm.currState;
    }
    get designWidth() {
        switch (this.screenOrientation) {
            case _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_7__["EScreenOrientation"].Portrait:
                return 750;
            case _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_7__["EScreenOrientation"].Landscape:
                return 1334;
            default:
                console.error("未处理的屏幕初始化方向", this.screenOrientation);
                return 0;
        }
    }
    get designHeight() {
        switch (this.screenOrientation) {
            case _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_7__["EScreenOrientation"].Portrait:
                return 1334;
            case _Commom_EScreenOrientation__WEBPACK_IMPORTED_MODULE_7__["EScreenOrientation"].Landscape:
                return 750;
            default:
                console.error("未处理的屏幕初始化方向", this.screenOrientation);
                return 0;
        }
    }
    InitGame() {
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].CreateInstance();
        console.log("游戏开始初始化,当前框架版本号", _LTVersion__WEBPACK_IMPORTED_MODULE_6__["default"].version);
        this._Init();
    }
    _Init() {
        return __awaiter(this, void 0, void 0, function* () {
            let platformData = new _Platform_Data_LTPlatformData__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this._HandleInitPlatform(_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platform, platformData);
            _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.Init(platformData);
            this._HandleSDK();
            if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].isInited) {
                _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].CreateInstace(_SDK_Impl_SDK_Default__WEBPACK_IMPORTED_MODULE_9__["default"], "default", "default", "default");
            }
            _Material_LTShaderHelper__WEBPACK_IMPORTED_MODULE_11__["LTShaderHelper"].InitRecorder();
            if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Web) {
                while (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.safeArea) {
                    yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_10__["default"].NextFrame();
                }
            }
            _UIExt_FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_4__["default"].Init(_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.safeArea);
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_10__["default"].NextFrame();
            this._NextFramUpdate();
        });
    }
    _NextFramUpdate() {
        this._fsm = new _Fsm_StateMachine__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._InitFsm();
        if (this._fsm.count == 0) {
            console.error("请在_InitFsm中先进行状态注册");
            return;
        }
        this._fsm.ChangeState(1);
        this._RegistUpdate();
    }
    _RegistUpdate() {
        _LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_5__["default"].instance.AddAction(_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_5__["EActionType"].Update, this, this._LogicUpdate);
    }
    _UnRegistUpdate() {
        _LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_5__["default"].instance.RemoveAction(_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_5__["EActionType"].Update, this, this._LogicUpdate);
    }
    _HandleSDK() {
    }
    _HandleInitPlatform(ePlatform, platformData) {
    }
    _LogicUpdate(dt) {
        let nextState = this._currentState.GetNextState();
        if (nextState != 0) {
            var changeResult = this._fsm.ChangeState(nextState, null);
            if (!changeResult) {
                console.error("场景切换发生错误,无法进行切换,终止游戏流程");
                this._UnRegistUpdate();
                return;
            }
        }
        this._fsm.OnRunning(null, dt);
    }
    _InitFsm() {
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/Cmp/CmpSceneDisplay.ts":
/*!*************************************************!*\
  !*** ./src/LTGame/UIExt/Cmp/CmpSceneDisplay.ts ***!
  \*************************************************/
/*! exports provided: CmpSceneDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CmpSceneDisplay", function() { return CmpSceneDisplay; });
/* harmony import */ var _Res_LTRes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _script_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../script/common/ResDefine */ "./src/script/common/ResDefine.ts");


class CmpSceneDisplay {
    constructor(oldImg) {
        this._oldImg = oldImg;
        this._oldImg.visible = false;
        // 创建RT
        let imgParent = this._oldImg.parent;
        this._cacheRt = new Laya.RenderTexture(this._oldImg.width, this._oldImg.height, Laya.RenderTextureFormat.R8G8B8A8, Laya.RenderTextureDepthFormat.DEPTH_16);
        this._cacheImage = new fgui.GImage();
        imgParent.addChildAt(this._cacheImage, imgParent.getChildIndex(this._oldImg) + 1);
        this._cacheImage.image.texture = new Laya.Texture(this._cacheRt);
        this._cacheImage.setPivot(this._oldImg.pivotX, this._oldImg.pivotY, this._oldImg.pivotAsAnchor);
        this._cacheImage.setXY(this._oldImg.x, this._oldImg.y);
        this._cacheImage.visible = false;
    }
    get oldImg() {
        return this._oldImg;
    }
    get displayImage() {
        return this._cacheImage;
    }
    LoadScene(scenePath) {
        return __awaiter(this, void 0, void 0, function* () {
            this._scenePath = _script_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixScene(scenePath);
            this.s3d = (yield _Res_LTRes__WEBPACK_IMPORTED_MODULE_0__["default"].LoadAndGet(this._scenePath, true));
            this.camera = this._SearchCamera(this.s3d);
            if (this.camera == null) {
                console.error("无有效的camera");
                return;
            }
            this.camera.renderTarget = this._cacheRt;
            Laya.stage.addChild(this.s3d);
            this._cacheImage.visible = true;
            this._oldImg.visible = false;
        });
    }
    _SearchCamera(seachObj) {
        if (seachObj instanceof Laya.Camera) {
            return seachObj;
        }
        for (let i = 0; i < seachObj.numChildren; ++i) {
            let camera = this._SearchCamera(seachObj.getChildAt(i));
            if (camera != null) {
                return camera;
            }
        }
        return null;
    }
    Dispose() {
        if (this._cacheRt != null) {
            this._cacheRt.destroy();
            this._cacheRt = null;
        }
        if (this._cacheImage != null) {
            this._cacheImage.dispose();
            this._cacheImage = null;
        }
        this.s3d.destroy();
        _Res_LTRes__WEBPACK_IMPORTED_MODULE_0__["default"].Unload(this._scenePath);
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/Cmp/CmpSimpleLoader.ts":
/*!*************************************************!*\
  !*** ./src/LTGame/UIExt/Cmp/CmpSimpleLoader.ts ***!
  \*************************************************/
/*! exports provided: CmpSimpleLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CmpSimpleLoader", function() { return CmpSimpleLoader; });
/* harmony import */ var _script_common_ResDefine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../script/common/ResDefine */ "./src/script/common/ResDefine.ts");
/* harmony import */ var _Res_LTRes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTUtils/TransformEx */ "./src/LTGame/LTUtils/TransformEx.ts");



class CmpSimpleLoader {
    constructor(placePoint) {
        this.placePoint = placePoint;
    }
    get loadObj() {
        return this._loadObj;
    }
    LoadObj(objPath) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this._cachePath == objPath)
                return this.loadObj;
            this._cachePath = objPath;
            if (this._loadObj != null) {
                this._loadObj.destroy();
                this._loadObj = null;
            }
            let fullPath = _script_common_ResDefine__WEBPACK_IMPORTED_MODULE_0__["default"].FixPath(objPath);
            this._loadObj = yield _Res_LTRes__WEBPACK_IMPORTED_MODULE_1__["default"].LoadAndGet(fullPath);
            this.placePoint.addChild(this._loadObj);
            _LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_2__["TransformEx"].ResetLocalTrans(this._loadObj.transform);
            return this.loadObj;
        });
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_BottomGames.ts":
/*!************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_BottomGames.ts ***!
  \************************************************************/
/*! exports provided: ON_BANNER_SHOWN, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ON_BANNER_SHOWN", function() { return ON_BANNER_SHOWN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_BottomGames; });
/* harmony import */ var _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/Impl/SDK_YQ */ "./src/SDK/Impl/SDK_YQ.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_bottomGames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../UI/LTGame/UI_bottomGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_bottomGames.ts");
/* harmony import */ var _UI_LTGame_UI_CommonEndSliderADs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../UI/LTGame/UI_CommonEndSliderADs */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonEndSliderADs.ts");







const ON_BANNER_SHOWN = "ON_BANNER_RESIZE";
class View_BottomGames {
    constructor(ui) {
        this._posId = 0;
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isSupportJumpOther) {
            tagUI.dispose();
            return null;
        }
        if (tagUI instanceof _UI_LTGame_UI_bottomGames__WEBPACK_IMPORTED_MODULE_5__["default"]) {
            return new View_BottomGames(tagUI);
        }
        if (tagUI instanceof _UI_LTGame_UI_CommonEndSliderADs__WEBPACK_IMPORTED_MODULE_6__["default"]) {
            return new View_BottomGames(tagUI);
        }
        let uiInstance = null;
        if (tagUI.height < 140) {
            uiInstance = _UI_LTGame_UI_bottomGames__WEBPACK_IMPORTED_MODULE_5__["default"].createInstance();
        }
        else {
            uiInstance = _UI_LTGame_UI_CommonEndSliderADs__WEBPACK_IMPORTED_MODULE_6__["default"].createInstance();
        }
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_BottomGames(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance instanceof _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            this._posId = 5;
        }
        else {
            this._posId = 5;
        }
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        if (this._cacheAds == null) {
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
            this.ui.visible = false;
        }
        else {
            this.ui.m_list.setVirtualAndLoop();
            this.ui.m_list.scrollPane.bouncebackEffect = false;
            this.ui.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
            this.ui.m_list.numItems = this._cacheAds.length;
            this.ui.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
            Laya.timer.loop(5000, this, () => {
                if (this.ui.height < 140) {
                    this.ui.m_list.scrollPane.scrollRight(133 / 128, true);
                }
                else {
                    this.ui.m_list.scrollPane.scrollRight(169 / 150, true);
                }
            });
            let ads = [];
            for (let i = 0; i < this._cacheAds.length; i++) {
                const adData = this._cacheAds[i];
                let ad = {};
                ad.ad_id = adData.ad_id;
                ad.location_id = this._posId;
                ad.num = 1;
                ads.push(ad);
            }
            console.log('bottom', this._cacheAds, ads);
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportShowAd(ads);
        }
        // Laya.stage.on(ON_BANNER_SHOWN, this, this.resetPos);
    }
    resetPos(bannerHight) {
        this.ui.y = Laya.stage.height - bannerHight - this.ui.height;
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        this.ui.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
        this.ui.m_list.numItems = this._cacheAds.length;
        this.ui.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
        this.ui.visible = true;
    }
    _OnAdItemRender(index, adUI) {
        let adData = this._cacheAds[index];
        adUI.data = index;
        adUI.m_icon.m_icon.url = adData.ad_img;
        adUI.m_text_name.text = adData.ad_name;
    }
    _OnClickGameItem(item) {
        let data = this._cacheAds[item.data];
        let uid = data.ad_appid;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo:
                uid = data.ad_package;
                break;
            default:
                break;
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.NavigateToApp(uid, data.ad_path, null, true, false, data.ad_id).then(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, true, '猜你喜欢');
        }).catch(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, false, '猜你喜欢');
        });
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_End3X3Games.ts":
/*!************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_End3X3Games.ts ***!
  \************************************************************/
/*! exports provided: ON_BANNER_SHOWN, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ON_BANNER_SHOWN", function() { return ON_BANNER_SHOWN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_End3X3Games; });
/* harmony import */ var _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/Impl/SDK_YQ */ "./src/SDK/Impl/SDK_YQ.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_End3X3Ad__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../UI/LTGame/UI_End3X3Ad */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_End3X3Ad.ts");






const ON_BANNER_SHOWN = "ON_BANNER_RESIZE";
class View_End3X3Games {
    constructor(ui) {
        this._posId = 0;
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isSupportJumpOther) {
            tagUI.dispose();
            return null;
        }
        if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.configs.isNavEnable) {
            tagUI.dispose();
            return null;
        }
        if (tagUI instanceof _UI_LTGame_UI_End3X3Ad__WEBPACK_IMPORTED_MODULE_5__["default"]) {
            return new View_End3X3Games(tagUI);
        }
        let uiInstance = _UI_LTGame_UI_End3X3Ad__WEBPACK_IMPORTED_MODULE_5__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_End3X3Games(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance instanceof _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            this._posId = 5;
        }
        else {
            this._posId = 5;
        }
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        if (this._cacheAds == null) {
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
            this.ui.visible = false;
        }
        else {
            this.ui.m_list.setVirtual();
            this.ui.m_list.scrollPane.bouncebackEffect = false;
            this.ui.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
            this.ui.m_list.numItems = this._cacheAds.length;
            this.ui.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
            Laya.timer.loop(200, this, () => {
                this.ui.m_list.scrollPane.scrollDown(0.02, true);
            });
            let ads = [];
            for (let i = 0; i < this._cacheAds.length; i++) {
                const adData = this._cacheAds[i];
                let ad = {};
                ad.ad_id = adData.ad_id;
                ad.location_id = this._posId;
                ad.num = 1;
                ads.push(ad);
            }
            console.log('bottom', this._cacheAds, ads);
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportShowAd(ads);
        }
        // Laya.stage.on(ON_BANNER_SHOWN, this, this.resetPos);
    }
    resetPos(bannerHight) {
        this.ui.y = Laya.stage.height - bannerHight - this.ui.height;
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        this.ui.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
        this.ui.m_list.numItems = this._cacheAds.length;
        this.ui.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
        this.ui.visible = true;
    }
    _OnAdItemRender(index, adUI) {
        let adData = this._cacheAds[index];
        adUI.data = index;
        adUI.m_icon.m_icon.url = adData.ad_img;
        adUI.m_title.text = adData.ad_name;
    }
    _OnClickGameItem(item) {
        let data = this._cacheAds[item.data];
        let uid = data.ad_appid;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo:
                uid = data.ad_package;
                break;
            default:
                break;
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.NavigateToApp(uid, data.ad_path, null, true, false, data.ad_id).then(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, true, '结算界面');
        }).catch(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, false, '结算界面');
        });
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_EndSlideGames.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_EndSlideGames.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_EndSlideGames; });
/* harmony import */ var _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/Impl/SDK_YQ */ "./src/SDK/Impl/SDK_YQ.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_EndSlideGames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../UI/LTGame/UI_EndSlideGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_EndSlideGames.ts");
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");







/**
 * 结算页滑动导出位 __endSG
 */
class View_EndSlideGames {
    // [
    //     [1, 2, 3, 9, 10, 6, 7],
    //     [4, 5, 11, 1, 2, 3, 8],
    //     [7, 12, 13, 8, 4, 5, 6]
    // ];//oppo 必须只能为13个
    constructor(ui) {
        this._posId = 0;
        this.sortArrr = [
            [1, 2, 3, 4, 5, 6, 7],
            [8, 9, 10, 1, 2, 3, 4],
            [5, 6, 7, 8, 9, 10, 1]
        ];
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isSupportJumpOther) {
            console.log('不支持跳转');
            tagUI.dispose();
            return null;
        }
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].WX && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].TT && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Web) {
            console.log('不支持瀑布流导流');
            tagUI.dispose();
            return null;
        }
        if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.configs.isNavEnable) {
            console.log('导流开关关闭');
            tagUI.dispose();
            return null;
        }
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_6__["ECheckState"].InCheck) {
            console.log("审核");
            tagUI.dispose();
            return null;
        }
        if (tagUI instanceof _UI_LTGame_UI_EndSlideGames__WEBPACK_IMPORTED_MODULE_5__["default"]) {
            return new View_EndSlideGames(tagUI);
        }
        let uiInstance = _UI_LTGame_UI_EndSlideGames__WEBPACK_IMPORTED_MODULE_5__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_EndSlideGames(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance instanceof _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            this._posId = 5;
        }
        else {
            this._posId = 6;
        }
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].TT) {
            this._posId = 3;
        }
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        if (!this._cacheAds || !this._cacheAds.length)
            return this.ui.visible = false;
        while (this._cacheAds.length < 10) {
            this._cacheAds = this._cacheAds.concat(_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId));
        }
        if (!this._cacheAds || !this._cacheAds.length) {
            this.ui.visible = false;
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
        }
        else {
            for (let i = 0; i < 3; i++) {
                this.initLists(i);
            }
            let ads = [];
            this._cacheAds.forEach(adData => {
                let ad = {};
                ad.ad_id = adData.ad_id;
                ad.location_id = this._posId;
                ad.num = 1;
                ads.push(ad);
            });
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportShowAd(ads);
        }
    }
    initLists(index) {
        this.ui.m_ad[`m_list${index}`].setVirtualAndLoop();
        this.ui.m_ad[`m_list${index}`].scrollPane.bouncebackEffect = false;
        this.ui.m_ad[`m_list${index}`].itemRenderer = Laya.Handler.create(this, (id, adUI) => this._OnAdItemRender(id, adUI, index), null, false);
        this.ui.m_ad[`m_list${index}`].numItems = (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) ? 7 : this._cacheAds.length;
        this.ui.m_ad[`m_list${index}`].on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
        Laya.timer.loop(25, this, () => {
            this.ui.m_ad[`m_list${index}`].scrollPane.scrollRight(0.01, true);
        });
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this.ui.visible = true;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        for (let i = 0; i < 3; i++) {
            this.initLists(i);
        }
    }
    _OnAdItemRender(index, adUI, rowId) {
        let ind = (4 * rowId + index) % this._cacheAds.length;
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) {
            ind = this.sortArrr[rowId][index % 7] - 1;
        }
        let adData = this._cacheAds[ind];
        adUI.data = ind;
        adUI.m_icon.m_icon.url = adData.ad_img;
        adUI.m_text_name.text = '';
        // let ad: any = {};
        // ad.ad_id = adData.ad_id;
        // ad.location_id = 5;
        // ad.num = 1;
        // LTSDK.instance.RecordShowAd([ad]);
    }
    _OnClickGameItem(item) {
        let data = this._cacheAds[item.data];
        let uid = data.ad_appid;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo:
                uid = data.ad_package;
                break;
            default:
                break;
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.NavigateToApp(uid, data.ad_path, null, true, false, data.ad_id).then(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, true, '结算界面');
        }).catch(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, false, '结算界面');
        });
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_HotGame.ts":
/*!********************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_HotGame.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_HotGame; });
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/Impl/SDK_YQ */ "./src/SDK/Impl/SDK_YQ.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_hot_game__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../UI/LTGame/UI_hot_game */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_hot_game.ts");









//**火爆游戏  爆款推荐 */
class View_HotGame {
    constructor(ui) {
        /**
         * 每五秒更新一次
         */
        this._updateTime = 3000;
        this._posId = 0;
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.isSupportJumpOther) {
            tagUI.dispose();
            return null;
        }
        if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.configs.isNavEnable) {
            tagUI.dispose();
            return null;
        }
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_6__["EPlatformType"].Oppo && _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__["ECheckState"].InCheck) {
            // 只有oppo支持
            console.log("hotgame,审核");
            tagUI.dispose();
            return null;
        }
        if (tagUI instanceof _UI_LTGame_UI_hot_game__WEBPACK_IMPORTED_MODULE_8__["default"]) {
            return new View_HotGame(tagUI);
        }
        let uiInstance = _UI_LTGame_UI_hot_game__WEBPACK_IMPORTED_MODULE_8__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_HotGame(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance instanceof _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            this._posId = 5;
        }
        else {
            this._posId = 7;
        }
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.adManager.GetADListByLocationId(this._posId);
        this.ui.displayObject.zOrder = Number.MAX_SAFE_INTEGER;
        if (!this._cacheAds || !this._cacheAds.length) {
            this.ui.visible = false;
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_4__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
        }
        else {
            this._cacheIndex = _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__["default"].RandomInt(0, this._cacheAds.length);
            this.ui.onClick(this, this._OnClickAD);
            this._UpdateUI();
            this._LoopUpdate();
        }
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this.ui.visible = true;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.adManager.GetADListByLocationId(this._posId);
        this._cacheIndex = _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__["default"].RandomInt(0, this._cacheAds.length);
        this.ui.onClick(this, this._OnClickAD);
        this._UpdateUI();
        this._LoopUpdate();
    }
    _LoopUpdate() {
        return __awaiter(this, void 0, void 0, function* () {
            while (this.ui && !this.ui.isDisposed) {
                yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_3__["default"].Frames(1);
                this._remainUpdateTime -= Laya.timer.delta;
                if (this._remainUpdateTime < 0) {
                    this._UpdateUI();
                }
            }
        });
    }
    _UpdateUI() {
        this._showAd = this._cacheAds[this._cacheIndex];
        this._cacheIndex++;
        if (this._cacheIndex >= this._cacheAds.length) {
            this._cacheIndex = 0;
        }
        this.ui.m_ic.m_icon.url = this._showAd.ad_img;
        this._remainUpdateTime = this._updateTime;
        let ad = {};
        ad.ad_id = this._showAd.ad_id;
        ad.location_id = this._posId;
        ad.num = 1;
        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ReportShowAd([ad]);
    }
    _OnClickAD() {
        let navId = this._showAd.ad_appid;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_6__["EPlatformType"].Oppo:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_6__["EPlatformType"].Vivo:
                navId = this._showAd.ad_package;
                break;
            default:
                break;
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_7__["default"].instance.NavigateToApp(navId, this._showAd.ad_path, null, true, false, this._showAd.ad_id).then(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ReportClickAd(this._showAd.ad_id, this._posId, true, '火爆游戏');
        }).catch(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ReportClickAd(this._showAd.ad_id, this._posId, false, '火爆游戏');
        });
        ;
        this._UpdateUI();
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_HotGames.ts":
/*!*********************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_HotGames.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_HotGames; });
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_HotGames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../UI/LTGame/UI_HotGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_HotGames.ts");






//**火爆游戏  爆款推荐 750 *200 */
class View_HotGames {
    constructor(ui) {
        this._posId = 0;
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isSupportJumpOther) {
            tagUI.dispose();
            return null;
        }
        if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.configs.isNavEnable) {
            tagUI.dispose();
            return null;
        }
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__["ECheckState"].InCheck) {
            // 只有oppo支持
            console.log("hotgame,审核");
            tagUI.dispose();
            return null;
        }
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].TT && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Web) {
            console.log("hotgame,不支持");
            tagUI.dispose();
            return null;
        }
        if (tagUI instanceof _UI_LTGame_UI_HotGames__WEBPACK_IMPORTED_MODULE_5__["default"]) {
            return new View_HotGames(tagUI);
        }
        let uiInstance = _UI_LTGame_UI_HotGames__WEBPACK_IMPORTED_MODULE_5__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_HotGames(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        this._posId = 4;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        if (this._cacheAds == null) {
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_2__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
            this.ui.visible = false;
        }
        else {
            if (this._cacheAds.length < 5) {
                this.ui.dispose();
                return console.error("广告配置错误");
            }
            // this.ui.m_list.setVirtual();
            this.ui.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
            this.ui.m_list.numItems = 5;
            this.ui.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
            let ads = [];
            for (let i = 0; i < this._cacheAds.length; i++) {
                const adData = this._cacheAds[i];
                let ad = {};
                ad.ad_id = adData.ad_id;
                ad.location_id = this._posId;
                ad.num = 1;
                ads.push(ad);
            }
            console.log('hots', this._cacheAds, ads);
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportShowAd(ads);
        }
        // Laya.stage.on(ON_BANNER_SHOWN, this, this.resetPos);
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.adManager.GetADListByLocationId(this._posId);
        this.ui.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
        this.ui.m_list.numItems = this._cacheAds.length;
        this.ui.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
        this.ui.visible = true;
    }
    _OnAdItemRender(index, adUI) {
        let adData = this._cacheAds[index];
        adUI.data = index;
        adUI.m_icon.icon = adData.ad_img;
        adUI.m_txt_name.text = adData.ad_name;
    }
    _OnClickGameItem(item) {
        let data = this._cacheAds[item.data];
        let uid = data.ad_appid;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo:
                uid = data.ad_package;
                break;
            default:
                break;
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.NavigateToApp(uid, data.ad_path, null, true, false, data.ad_id).then(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, true, '精品好游');
        }).catch(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ReportClickAd(data.ad_id, this._posId, false, '精品好游');
        });
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_NativeIcon.ts":
/*!***********************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_NativeIcon.ts ***!
  \***********************************************************/
/*! exports provided: View_NativeIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "View_NativeIcon", function() { return View_NativeIcon; });
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_NativeIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../UI/LTGame/UI_NativeIcon */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeIcon.ts");
/* harmony import */ var _LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _LTUI__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../LTUI */ "./src/LTGame/UIExt/LTUI.ts");









class View_NativeIcon {
    constructor(ui, ids) {
        this._ui = ui;
        this._cacheIds = _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.nativeIconIds;
        console.log("初始化广告id", this._cacheIds);
        this.ui.visible = false;
        this._Init();
        this.ui.onClick(this, this.ClickAd);
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo) {
            console.log("native_icon 已隐藏,只有oppo vivo平台支持");
            tagUI.dispose();
            return null;
        }
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__["ECheckState"].InCheck) {
            // 只有oppo支持
            console.log("native_iconLong已隐藏,审核");
            tagUI.dispose();
            return null;
        }
        let uiInstance = _UI_LTGame_UI_NativeIcon__WEBPACK_IMPORTED_MODULE_5__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        uiInstance.setSize(tagUI.width, tagUI.height);
        let forceAdIdsStr = tagUI.data;
        let forceAdIds = [];
        if (!_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__["default"].IsNullOrEmpty(forceAdIdsStr)) {
            let splitStrs = forceAdIdsStr.split(',');
            for (let i = 0; i < splitStrs.length; ++i) {
                forceAdIds.push(splitStrs[i]);
            }
        }
        tagUI.dispose();
        return new View_NativeIcon(uiInstance, forceAdIds);
    }
    get ui() {
        return this._ui;
    }
    get visible() {
        return this.ui.visible;
    }
    set visible(v) {
        this.ui.visible = v;
    }
    ClickAd() {
        console.log("点击Icon", this._cacheAdData);
        if (this._cacheAdData) {
            // 相应点击事件
            View_NativeIcon._cacheNativeAd.reportAdClick({
                adId: this._cacheAdData.adId
            });
            // 刷新
            this._Init();
        }
        else {
            this.ui.visible = false;
            _LTUI__WEBPACK_IMPORTED_MODULE_8__["default"].Toast('暂时没有广告');
        }
    }
    _Init() {
        return __awaiter(this, void 0, void 0, function* () {
            if (View_NativeIcon._cacheNativeAd != null) {
                View_NativeIcon._cacheNativeAd.destroy();
                View_NativeIcon._cacheNativeAd = null;
            }
            this.ui.visible = false;
            let i = _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_7__["default"].RandomInt(0, this._cacheIds.length);
            // for (let i = 0; i < this._cacheIds.length; ++i) {
            let ret = yield this._LoadIconData(i);
            if (ret && this._cacheAdData) {
                this.ui.visible = true;
                let icon = this._cacheAdData.icon;
                if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__["default"].IsNullOrEmpty(icon) && this._cacheAdData.imgUrlList.length > 0) {
                    icon = this._cacheAdData.imgUrlList[0];
                }
                this.ui.m_icon_img.url = icon;
                this.ui.m_icon_tip.url = this._cacheAdData.logoUrl;
                View_NativeIcon._cacheNativeAd.reportAdShow({
                    adId: this._cacheAdData.adId
                });
                console.log("原生icon广告已展示", this._cacheAdData);
            }
            // }
        });
    }
    _OnClickAd() {
        this.ClickAd();
    }
    clickClose() {
        let rate = Object(_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_6__["randomRangeInt"])(0, 100);
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.configs.nativePayRate > rate) {
            this._OnClickAd();
        }
        this.visible = false;
        this.ui.visible = false;
    }
    _LoadIconData(index) {
        return __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => {
                let nativeAd = null;
                if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) {
                    nativeAd = _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.base.createNativeAd({
                        adUnitId: this._cacheIds[index]
                    });
                }
                else {
                    nativeAd = _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.base.createNativeAd({
                        posId: this._cacheIds[index],
                    });
                }
                View_NativeIcon._cacheNativeAd = nativeAd;
                nativeAd.onLoad((res) => {
                    console.log('原生广告加载完成-onload触发', JSON.stringify(res));
                    if (res && res.adList) {
                        this._cacheAdData = res.adList.pop();
                        resolve(true);
                    }
                });
                nativeAd.onError(err => {
                    console.log("原生广告加载异常", err);
                    resolve(false);
                });
                nativeAd.load();
            });
        });
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_NativeInpage.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_NativeInpage.ts ***!
  \*************************************************************/
/*! exports provided: View_NativeInPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "View_NativeInPage", function() { return View_NativeInPage; });
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_NativeInPage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../UI/LTGame/UI_NativeInPage */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeInPage.ts");
/* harmony import */ var _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");








class View_NativeInPage {
    /**
     *
     * @param ui
     * @param btnPos 0 默认上方小字 1 下方小字 2 无字 3 上方大按钮 4 下方大按钮
     */
    constructor(ui, btnPos) {
        this._ui = ui;
        this._cacheIds = _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platformData.nativeinpageIds;
        console.log("初始化 内嵌 native广告id", this._cacheIds);
        this._Init();
        this.ui.m_ad.onClick(this, this.ClickAd);
        this.ui.m_btn_clickad.onClick(this, this.ClickAd);
        this.ui.m_btn_clickadbg.onClick(this, this.ClickAd);
        this.ui.m_btn_close.onClick(this, this.clickClose);
        this.ui.m_btn_pos.selectedIndex = btnPos;
    }
    static CreateView(tagUI) {
        View_NativeInPage.Inst = null;
        if (tagUI == null)
            return null;
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Oppo && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Vivo && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].HW) {
            console.log("NativeInPage已隐藏,只有oppo vivo平台支持");
            tagUI.dispose();
            return null;
        }
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__["ECheckState"].InCheck) {
            // 只有oppo支持
            console.log("内嵌 native已隐藏,审核");
            tagUI.dispose();
            return null;
        }
        let uiInstance = _UI_LTGame_UI_NativeInPage__WEBPACK_IMPORTED_MODULE_6__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        uiInstance.setSize(tagUI.width, tagUI.height);
        let posStr = tagUI.data;
        let btnPos = 0;
        if (!_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_3__["default"].IsNullOrEmpty(posStr)) {
            btnPos = parseInt(posStr);
        }
        tagUI.dispose();
        let newUI = new View_NativeInPage(uiInstance, btnPos);
        View_NativeInPage.Inst = newUI;
        return newUI;
    }
    get ui() {
        return this._ui;
    }
    get visible() {
        return this.ui.visible;
    }
    set visible(v) {
        this.ui.visible = v;
    }
    ClickAd() {
        console.log(" 点击 内嵌 native", this._cacheAdData);
        // 相应点击事件
        if (this._cacheAdData && this._cacheAdData.adId && !this._cacheAdData.click_reported) {
            this._cacheAdData.click_reported = true;
            View_NativeInPage._cacheNativeAd.reportAdClick({
                adId: this._cacheAdData.adId
            });
        }
        // 刷新
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].HW) {
            this._Init();
        }
        else {
            this.ui.visible = false;
        }
    }
    _Init() {
        return __awaiter(this, void 0, void 0, function* () {
            this.visible = true;
            this.ui.visible = true;
            // for (let i = 0; i < this._cacheIds.length; ++i) {
            let i = _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_2__["default"].RandomInt(0, this._cacheIds.length);
            this._cacheAdData = null;
            let ret = yield this._LoadIconData(i);
            if (ret && this._cacheAdData) {
                this.showAdInfo();
            }
            else {
                console.log("内嵌 native加载失败", this._cacheIds[i]);
                // }  
                this.ui.visible = false;
            }
        });
    }
    showAdInfo() {
        if (!this._cacheAdData) {
            console.log("广告数据为空");
            return this.ui.visible = false;
        }
        this.ui.visible = true;
        this.visible = true;
        if (this._cacheAdData.imgUrlList.length) {
            let img = this._cacheAdData.imgUrlList[0];
            if (!img) {
                img = this._cacheAdData.icon;
            }
            this.ui.m_ad.m_icon.url = this._cacheAdData.icon ? this._cacheAdData.icon : this._cacheAdData.imgUrlList[0];
            this.ui.m_ad.m_img.url = img;
        }
        this.ui.m_ad.m_tag.url = this._cacheAdData.logoUrl;
        this.ui.m_ad.m_title.text = this._cacheAdData.title;
        this.ui.m_ad.m_desc.text = this._cacheAdData.desc;
        if (this._cacheAdData.source) {
            this.ui.m_ad.m_sourceTxt.text = `${this._cacheAdData.source}`;
        }
        if (this._cacheAdData && !this._cacheAdData.show_reported && this._cacheAdData.adId) {
            View_NativeInPage._cacheNativeAd.reportAdShow({
                adId: this._cacheAdData.adId
            });
            this._cacheAdData.show_reported = true;
            console.log("内嵌 native广告已展示", this._cacheAdData.adId);
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.HideBannerAd();
    }
    clickClose() {
        if (_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_2__["default"].RandomRatio(_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.configs.nativePayRate)
            && _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_7__["default"].instance.nativeClickCount < _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].instance.configs.nativeClickCount) {
            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_7__["default"].instance.nativeClickCount++;
            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_7__["default"].SaveToDisk();
            this.ClickAd();
        }
        this.visible = false;
        this.ui.visible = false;
    }
    _LoadIconData(index) {
        return __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => {
                let onLoad = (res) => {
                    console.log('原生广告加载完成 触发', JSON.stringify(res));
                    if (res && res.adList) {
                        this._cacheAdData = res.adList[0];
                        this._cacheAdData.show_reported = false;
                        this._cacheAdData.click_reported = false;
                        resolve(true);
                    }
                };
                let onError = (err) => {
                    console.log("原生广告加载异常", err);
                    this.ui.visible = false;
                    resolve(false);
                };
                if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Oppo) {
                    if (View_NativeInPage._cacheNativeAd) {
                        View_NativeInPage._cacheNativeAd.offLoad(onLoad);
                        View_NativeInPage._cacheNativeAd.offError(onError);
                        View_NativeInPage._cacheNativeAd.destroy();
                        View_NativeInPage._cacheNativeAd = null;
                    }
                    let nativeAd = null;
                    nativeAd = _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.base.createNativeAd({
                        adUnitId: this._cacheIds[index]
                    });
                    View_NativeInPage._cacheNativeAd = nativeAd;
                    nativeAd.onLoad(onLoad);
                    nativeAd.onError(onError);
                    nativeAd.load();
                }
                else {
                    if (!View_NativeInPage._cacheNativeAd) {
                        View_NativeInPage._cacheNativeAd = _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.base.createNativeAd({
                            adUnitId: this._cacheIds[index],
                        });
                    }
                    View_NativeInPage._cacheNativeAd.offLoad();
                    View_NativeInPage._cacheNativeAd.offError();
                    View_NativeInPage._cacheNativeAd.onLoad(onLoad);
                    View_NativeInPage._cacheNativeAd.onError(onError);
                    View_NativeInPage._cacheNativeAd.load();
                }
            });
        });
    }
    ReportShow() {
        if (this._cacheAdData && this._cacheAdData.adId && this.visible) {
            this._cacheAdData.show_reported = true;
            console.log("内嵌 native广告已展示", this._cacheAdData.adId);
            View_NativeInPage._cacheNativeAd.reportAdShow({
                adId: this._cacheAdData.adId
            });
        }
    }
    Refresh() {
        this._Init();
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_OtherGames.ts":
/*!***********************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_OtherGames.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_OtherGames; });
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_view_sharegames_big__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../UI/LTGame/UI_view_sharegames_big */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_sharegames_big.ts");





class View_OtherGames {
    constructor(ui) {
        this._posId = 0;
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.isSupportJumpOther && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__["EPlatformType"].Web) {
            tagUI.dispose();
            return null;
        }
        if (tagUI instanceof _UI_LTGame_UI_view_sharegames_big__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            return new View_OtherGames(tagUI);
        }
        let uiInstance = _UI_LTGame_UI_view_sharegames_big__WEBPACK_IMPORTED_MODULE_4__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_OtherGames(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        this._posId = 5;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.adManager.GetADListByLocationId(this._posId);
        if (this._cacheAds == null) {
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_1__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
        }
        else {
            this.ui.m_list_games.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
            this.ui.m_list_games.numItems = this._cacheAds.length;
            this.ui.m_list_games.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
            let ads = [];
            this._cacheAds.forEach(adData => {
                let ad = {};
                ad.ad_id = adData.ad_id;
                ad.location_id = this._posId;
                ad.num = 1;
                ads.push(ad);
            });
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportShowAd(ads);
            Laya.timer.loop(100, this, () => {
                this.ui.m_list_games.scrollPane.scrollDown(0.1, true);
            });
        }
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.adManager.GetADListByLocationId(this._posId);
        this.ui.m_list_games.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
        this.ui.m_list_games.numItems = this._cacheAds.length;
        this.ui.m_list_games.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
    }
    _OnAdItemRender(index, adUI) {
        let adData = this._cacheAds[index];
        adUI.data = index;
        adUI.m_icon.m_icon.url = adData.ad_img;
        adUI.m_text_name.text = adData.ad_name;
        // let ad: any = {};
        // ad.ad_id = adData.ad_id;
        // ad.location_id = 5;
        // ad.num = 1;
        // LTSDK.instance.RecordShowAd([ad]);
    }
    _OnClickGameItem(item) {
        let data = this._cacheAds[item.data];
        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportClickAd(data.ad_id, this._posId, true, '结算界面');
        let uid = data.ad_appid;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__["EPlatformType"].Oppo:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__["EPlatformType"].Vivo:
                uid = data.ad_package;
                break;
            default:
                break;
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.NavigateToApp(uid, data.ad_path, null, true, false, data.ad_id);
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_SideGames.ts":
/*!**********************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_SideGames.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_SideGames; });
/* harmony import */ var _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../SDK/Impl/SDK_YQ */ "./src/SDK/Impl/SDK_YQ.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _UI_LTGame_UI_SideGames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../UI/LTGame/UI_SideGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_SideGames.ts");







/** __sidegames 78*250 */
class View_SideGames {
    constructor(ui) {
        this._posId = 0;
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.isSupportJumpOther || (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Oppo && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Web)) {
            tagUI.dispose();
            return null;
        }
        if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.configs.isADEnable) {
            tagUI.dispose();
            return null;
        }
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.checkState == _SDK_common_ECheckState__WEBPACK_IMPORTED_MODULE_0__["ECheckState"].InCheck) {
            // 只有oppo支持
            console.log("sidegames,审核");
            tagUI.dispose();
            return null;
        }
        if (tagUI instanceof _UI_LTGame_UI_SideGames__WEBPACK_IMPORTED_MODULE_6__["default"]) {
            return new View_SideGames(tagUI);
        }
        let uiInstance = _UI_LTGame_UI_SideGames__WEBPACK_IMPORTED_MODULE_6__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_SideGames(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        if (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform == _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].TT) {
            this.ui.m_ads.m_list.dispose();
            this.ui.m_ads.onClick(this, () => {
                // this.ui.m_red.visible = false;
                _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.OpenGameBox([]);
            });
            return;
        }
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance instanceof _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            this._posId = 5;
        }
        else {
            this._posId = 10;
        }
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.adManager.GetADListByLocationId(this._posId);
        if (!this._cacheAds || !this._cacheAds.length) {
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
        }
        else {
            this.ui.m_ads.m_list.setVirtual();
            this.ui.m_ads.m_list.scrollPane.bouncebackEffect = false;
            this.ui.m_ads.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
            this.ui.m_ads.m_list.numItems = this._cacheAds.length * 6;
            this.ui.m_ads.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
            this.ui.displayObject.zOrder = 99999;
            this.ui.m_ads.m_btn_more.onClick(this, () => {
                this.ui.m_ads.m_btn_more.m_red.visible = false;
                if (this.ui.m_show.selectedIndex == 0) {
                    this.ui.m_show.selectedIndex = 1;
                }
                else if (this.ui.m_show.selectedIndex == 1) {
                    this.ui.m_show.selectedIndex = 0;
                }
                else if (this.ui.m_show.selectedIndex == 1) {
                    this.ui.m_show.selectedIndex = 2;
                }
                // this.ui.m_show.selectedIndex = (this.ui.m_show.selectedIndex + 1) % 2;
                if (this.ui.m_show.selectedIndex == 1) {
                    this.ui.m_ads.m_list.addSelection(0, true);
                    Laya.timer.loop(25, this, () => {
                        this.ui.m_ads.m_list.scrollPane.scrollDown(0.005, true);
                        if (this.ui.m_ads.m_list.scrollPane.isBottomMost) {
                            this.ui.m_ads.m_list.scrollPane.scrollTop(true);
                        }
                    });
                    // Laya.timer.once(500, this, () => {
                    //     this.ui.m_ads.m_btn_more.m_state.selectedIndex = 1;
                    // });
                }
                else {
                    // Laya.timer.once(500, this, () => {
                    //     this.ui.m_ads.m_btn_more.m_state.selectedIndex = 0;
                    Laya.timer.clearAll(this);
                    // });
                }
            });
            // this.ui.m_ads.m_btn_return.onClick(this, () => {
            //     this.ui.m_show.selectedIndex = 0;
            // });
            // this.ui.m_bg.onClick(this, () => {
            //     this.ui.m_show.selectedIndex = 0;
            // });
            let ads = [];
            this._cacheAds.forEach(adData => {
                let ad = {};
                ad.ad_id = adData.ad_id;
                ad.location_id = this._posId;
                ad.num = 1;
                ads.push(ad);
            });
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ReportShowAd(ads);
        }
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.adManager.GetADListByLocationId(this._posId);
        this.ui.m_ads.m_list.itemRenderer = Laya.Handler.create(this, this._OnAdItemRender, null, false);
        this.ui.m_ads.m_list.numItems = this._cacheAds.length;
        this.ui.m_ads.m_list.on(fairygui.Events.CLICK_ITEM, this, this._OnClickGameItem);
    }
    _OnAdItemRender(index, adUI) {
        let adData = this._cacheAds[index % this._cacheAds.length];
        adUI.data = index % this._cacheAds.length;
        adUI.m_icon.m_icon.url = adData.ad_img;
        adUI.m_text_name.text = adData.ad_name;
        // adUI..text = `${adData.ad_count}人在玩`;
        // adUI.m_dot_type.selectedIndex = adData.ad_dot;
    }
    showHalf() {
        // this.ui.m_show.selectedIndex = 1;
    }
    _OnClickGameItem(item) {
        let data = this._cacheAds[item.data];
        let navId = data.ad_appid;
        switch (_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.platform) {
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Oppo:
            case _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].Vivo:
                navId = data.ad_package;
                break;
            default:
                break;
        }
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.NavigateToApp(navId, data.ad_path, null, true, false, data.ad_id).then(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ReportClickAd(data.ad_id, this._posId, true, '更多游戏');
        }).catch(() => {
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ReportClickAd(data.ad_id, this._posId, false, '更多游戏');
        });
        ;
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/Cmp/View_WxSideGames.ts":
/*!************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/Cmp/View_WxSideGames.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return View_WxSideGames; });
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _UI_LTGame_UI_WxSideGames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../UI/LTGame/UI_WxSideGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_WxSideGames.ts");
/* harmony import */ var _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../SDK/Impl/SDK_YQ */ "./src/SDK/Impl/SDK_YQ.ts");






/**__wxSG 750*280  */
class View_WxSideGames {
    constructor(ui) {
        this.showingIndexs = [0, 1, 2, 3];
        this._posId = 0;
        this._ui = ui;
        this._Init();
    }
    static CreateView(tagUI) {
        if (tagUI == null)
            return null;
        // 额外判定一次是否支持交叉推广,如果不支持,则隐藏交叉推广
        if (!_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.isSupportJumpOther && _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platform != _Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_2__["EPlatformType"].Web) {
            console.log('不支持跳转');
            tagUI.dispose();
            return null;
        }
        // if (LTPlatform.instance.platform != EPlatformType.WX && LTPlatform.instance.platform != EPlatformType.Web) {
        //     tagUI.dispose();
        //     return null;
        // }
        if (tagUI instanceof _UI_LTGame_UI_WxSideGames__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            return new View_WxSideGames(tagUI);
        }
        let uiInstance = _UI_LTGame_UI_WxSideGames__WEBPACK_IMPORTED_MODULE_4__["default"].createInstance();
        tagUI.parent.addChildAt(uiInstance, tagUI.parent.getChildIndex(tagUI));
        uiInstance.setXY(tagUI.x, tagUI.y);
        tagUI.dispose();
        return new View_WxSideGames(uiInstance);
    }
    get ui() {
        return this._ui;
    }
    _Init() {
        if (_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance instanceof _SDK_Impl_SDK_YQ__WEBPACK_IMPORTED_MODULE_5__["default"]) {
            this._posId = 5;
        }
        else {
            this._posId = 6;
        }
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.adManager.GetADListByLocationId(this._posId);
        if (this._cacheAds == null) {
            Laya.stage.on(_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_3__["CommonEventId"].SELF_AD_INITED, this, this._OnAdInited);
            this.ui.visible = false;
        }
        else {
            Laya.timer.loop(5000, this, () => {
                this.refresh();
            });
            this.refresh();
            for (let i = 0; i < this.showingIndexs.length; i++) {
                this.renderItem(i, this.ui[`m_ad${i}`]);
                this.ui[`m_ad${i}`].onClick(this, () => this.clickItem(i));
            }
            let ads = [];
            this._cacheAds.forEach(adData => {
                let ad = {};
                ad.ad_id = adData.ad_id;
                ad.location_id = this._posId;
                ad.num = 1;
                ads.push(ad);
            });
            _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportShowAd(ads);
        }
    }
    refresh() {
        if (this.ui && !this.ui.isDisposed) {
            this.ui.visible = true;
            console.log('wxsg 刷新');
            const first = this.showingIndexs[this.showingIndexs.length - 1];
            this.showingIndexs = [];
            for (let i = 0; i < 4; i++) {
                let ind = (first + i) % this._cacheAds.length;
                this.showingIndexs.push(ind);
                this.renderItem(i, this.ui[`m_ad${i}`]);
            }
        }
        else {
            Laya.timer.clearAll(this);
        }
    }
    _OnAdInited(posId) {
        if (posId != this._posId)
            return;
        this._cacheAds = _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.adManager.GetADListByLocationId(this._posId);
        // this.ui.m_list.itemRenderer = Laya.Handler.create(this, this.renderItem, null, false);
        // this.ui.m_list.numItems = this._cacheAds.length;
        // this.ui.m_list.on(fairygui.Events.CLICK_ITEM, this, this.clickItem);
        this.ui.visible = true;
    }
    clickItem(index) {
        let data = this._cacheAds[this.showingIndexs[index]];
        ;
        console.log(data.ad_name);
        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_0__["default"].instance.ReportClickAd(data.ad_id, this._posId, true);
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.NavigateToApp(data.ad_appid, data.ad_path, null, true, false, data.ad_id);
    }
    renderItem(index, item) {
        let ind = this.showingIndexs[index];
        let data = this._cacheAds[ind];
        item.m_title.text = data.ad_name;
        item.m_icon.m_icon.url = data.ad_img;
        item.m_red.visible = data.ad_dot == 1;
        item.m_shake.play();
        // item.onClick(item, () => this.clickItem(index));
        // let ad: any = {};
        // ad.ad_id = data.ad_id;
        // ad.location_id = 5;
        // ad.num = 1;
        // LTSDK.instance.RecordShowAd([ad]);
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/LTGameBinder.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/LTGameBinder.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTGameBinder; });
/* harmony import */ var _UI_hot_game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UI_hot_game */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_hot_game.ts");
/* harmony import */ var _UI_NativeInPage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI_NativeInPage */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeInPage.ts");
/* harmony import */ var _UI_iconLongComp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UI_iconLongComp */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_iconLongComp.ts");
/* harmony import */ var _UI_OpenAds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UI_OpenAds */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_OpenAds.ts");
/* harmony import */ var _UI_NativeBanner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UI_NativeBanner */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeBanner.ts");
/* harmony import */ var _UI_NativeBannerComp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UI_NativeBannerComp */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeBannerComp.ts");
/* harmony import */ var _UI_view_game_icon1__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UI_view_game_icon1 */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_game_icon1.ts");
/* harmony import */ var _UI_view_end_games__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./UI_view_end_games */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_end_games.ts");
/* harmony import */ var _UI_view_game_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UI_view_game_icon */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_game_icon.ts");
/* harmony import */ var _UI_view_item_game164__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./UI_view_item_game164 */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game164.ts");
/* harmony import */ var _UI_ShareResult__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./UI_ShareResult */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ShareResult.ts");
/* harmony import */ var _UI_FlyPanel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./UI_FlyPanel */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FlyPanel.ts");
/* harmony import */ var _UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./UI_view_fly_coin */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_fly_coin.ts");
/* harmony import */ var _UI_NativeIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./UI_NativeIcon */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeIcon.ts");
/* harmony import */ var _UI_CommonLockScreen__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./UI_CommonLockScreen */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLockScreen.ts");
/* harmony import */ var _UI_End3X3Ad__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./UI_End3X3Ad */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_End3X3Ad.ts");
/* harmony import */ var _UI_SideGames__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./UI_SideGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_SideGames.ts");
/* harmony import */ var _UI_CommonEndSliderADs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./UI_CommonEndSliderADs */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonEndSliderADs.ts");
/* harmony import */ var _UI_btn_normal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./UI_btn_normal */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_normal.ts");
/* harmony import */ var _UI_Channel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./UI_Channel */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_Channel.ts");
/* harmony import */ var _UI_HotGames__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./UI_HotGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_HotGames.ts");
/* harmony import */ var _UI_item_hotgames__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./UI_item_hotgames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_hotgames.ts");
/* harmony import */ var _UI_CommonLoad__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./UI_CommonLoad */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLoad.ts");
/* harmony import */ var _UI_view_load__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./UI_view_load */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_load.ts");
/* harmony import */ var _UI_AdInpage__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./UI_AdInpage */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_AdInpage.ts");
/* harmony import */ var _UI_side_ads1__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./UI_side_ads1 */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_side_ads1.ts");
/* harmony import */ var _UI_MiniGames__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./UI_MiniGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_MiniGames.ts");
/* harmony import */ var _UI_rank_item__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./UI_rank_item */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_rank_item.ts");
/* harmony import */ var _UI_ttgame_items__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./UI_ttgame_items */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ttgame_items.ts");
/* harmony import */ var _UI_mid_banner__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./UI_mid_banner */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_mid_banner.ts");
/* harmony import */ var _UI_NativeIconLong__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./UI_NativeIconLong */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeIconLong.ts");
/* harmony import */ var _UI_FakeBanner_V__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./UI_FakeBanner_V */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeBanner_V.ts");
/* harmony import */ var _UI_CommonToast__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./UI_CommonToast */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonToast.ts");
/* harmony import */ var _UI_view_toast__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./UI_view_toast */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_toast.ts");
/* harmony import */ var _UI_FakeRewardVideo__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./UI_FakeRewardVideo */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeRewardVideo.ts");
/* harmony import */ var _UI_FakeInterstital__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./UI_FakeInterstital */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeInterstital.ts");
/* harmony import */ var _UI_EndSlideGames__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./UI_EndSlideGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_EndSlideGames.ts");
/* harmony import */ var _UI_slideAds__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./UI_slideAds */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_slideAds.ts");
/* harmony import */ var _UI_view_item_game__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./UI_view_item_game */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game.ts");
/* harmony import */ var _UI_view_item_game140__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./UI_view_item_game140 */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game140.ts");
/* harmony import */ var _UI_ImageBanner__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./UI_ImageBanner */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ImageBanner.ts");
/* harmony import */ var _UI_btnGames__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./UI_btnGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btnGames.ts");
/* harmony import */ var _UI_SelfBanner__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./UI_SelfBanner */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_SelfBanner.ts");
/* harmony import */ var _UI_GameCenter__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./UI_GameCenter */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameCenter.ts");
/* harmony import */ var _UI_item_game__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./UI_item_game */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_game.ts");
/* harmony import */ var _UI_item_gameBig__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./UI_item_gameBig */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameBig.ts");
/* harmony import */ var _UI_GameIconF__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./UI_GameIconF */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameIconF.ts");
/* harmony import */ var _UI_WxSideGames__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./UI_WxSideGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_WxSideGames.ts");
/* harmony import */ var _UI_item_gameSmall__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./UI_item_gameSmall */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameSmall.ts");
/* harmony import */ var _UI_GameCenterBig__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./UI_GameCenterBig */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameCenterBig.ts");
/* harmony import */ var _UI_item_gameMax__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./UI_item_gameMax */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameMax.ts");
/* harmony import */ var _UI_bottomGames__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./UI_bottomGames */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_bottomGames.ts");
/* harmony import */ var _UI_view_item_game128__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./UI_view_item_game128 */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game128.ts");
/* harmony import */ var _UI_sliderADs__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./UI_sliderADs */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_sliderADs.ts");
/* harmony import */ var _UI_btn_scaler_yellow__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./UI_btn_scaler_yellow */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_scaler_yellow.ts");
/* harmony import */ var _UI_btn_red_scale__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./UI_btn_red_scale */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_red_scale.ts");
/* harmony import */ var _UI_view_sharegames_big__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./UI_view_sharegames_big */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_sharegames_big.ts");
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/

























































class LTGameBinder {
    static bindAll() {
        fgui.UIObjectFactory.setExtension(_UI_hot_game__WEBPACK_IMPORTED_MODULE_0__["default"].URL, _UI_hot_game__WEBPACK_IMPORTED_MODULE_0__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_NativeInPage__WEBPACK_IMPORTED_MODULE_1__["default"].URL, _UI_NativeInPage__WEBPACK_IMPORTED_MODULE_1__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_iconLongComp__WEBPACK_IMPORTED_MODULE_2__["default"].URL, _UI_iconLongComp__WEBPACK_IMPORTED_MODULE_2__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_OpenAds__WEBPACK_IMPORTED_MODULE_3__["default"].URL, _UI_OpenAds__WEBPACK_IMPORTED_MODULE_3__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_NativeBanner__WEBPACK_IMPORTED_MODULE_4__["default"].URL, _UI_NativeBanner__WEBPACK_IMPORTED_MODULE_4__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_NativeBannerComp__WEBPACK_IMPORTED_MODULE_5__["default"].URL, _UI_NativeBannerComp__WEBPACK_IMPORTED_MODULE_5__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_game_icon1__WEBPACK_IMPORTED_MODULE_6__["default"].URL, _UI_view_game_icon1__WEBPACK_IMPORTED_MODULE_6__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_end_games__WEBPACK_IMPORTED_MODULE_7__["default"].URL, _UI_view_end_games__WEBPACK_IMPORTED_MODULE_7__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_game_icon__WEBPACK_IMPORTED_MODULE_8__["default"].URL, _UI_view_game_icon__WEBPACK_IMPORTED_MODULE_8__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_item_game164__WEBPACK_IMPORTED_MODULE_9__["default"].URL, _UI_view_item_game164__WEBPACK_IMPORTED_MODULE_9__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_ShareResult__WEBPACK_IMPORTED_MODULE_10__["default"].URL, _UI_ShareResult__WEBPACK_IMPORTED_MODULE_10__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_FlyPanel__WEBPACK_IMPORTED_MODULE_11__["default"].URL, _UI_FlyPanel__WEBPACK_IMPORTED_MODULE_11__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_12__["default"].URL, _UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_12__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_NativeIcon__WEBPACK_IMPORTED_MODULE_13__["default"].URL, _UI_NativeIcon__WEBPACK_IMPORTED_MODULE_13__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_CommonLockScreen__WEBPACK_IMPORTED_MODULE_14__["default"].URL, _UI_CommonLockScreen__WEBPACK_IMPORTED_MODULE_14__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_End3X3Ad__WEBPACK_IMPORTED_MODULE_15__["default"].URL, _UI_End3X3Ad__WEBPACK_IMPORTED_MODULE_15__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_SideGames__WEBPACK_IMPORTED_MODULE_16__["default"].URL, _UI_SideGames__WEBPACK_IMPORTED_MODULE_16__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_CommonEndSliderADs__WEBPACK_IMPORTED_MODULE_17__["default"].URL, _UI_CommonEndSliderADs__WEBPACK_IMPORTED_MODULE_17__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btn_normal__WEBPACK_IMPORTED_MODULE_18__["default"].URL, _UI_btn_normal__WEBPACK_IMPORTED_MODULE_18__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_Channel__WEBPACK_IMPORTED_MODULE_19__["default"].URL, _UI_Channel__WEBPACK_IMPORTED_MODULE_19__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_HotGames__WEBPACK_IMPORTED_MODULE_20__["default"].URL, _UI_HotGames__WEBPACK_IMPORTED_MODULE_20__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_item_hotgames__WEBPACK_IMPORTED_MODULE_21__["default"].URL, _UI_item_hotgames__WEBPACK_IMPORTED_MODULE_21__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_CommonLoad__WEBPACK_IMPORTED_MODULE_22__["default"].URL, _UI_CommonLoad__WEBPACK_IMPORTED_MODULE_22__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_load__WEBPACK_IMPORTED_MODULE_23__["default"].URL, _UI_view_load__WEBPACK_IMPORTED_MODULE_23__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_AdInpage__WEBPACK_IMPORTED_MODULE_24__["default"].URL, _UI_AdInpage__WEBPACK_IMPORTED_MODULE_24__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_side_ads1__WEBPACK_IMPORTED_MODULE_25__["default"].URL, _UI_side_ads1__WEBPACK_IMPORTED_MODULE_25__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_MiniGames__WEBPACK_IMPORTED_MODULE_26__["default"].URL, _UI_MiniGames__WEBPACK_IMPORTED_MODULE_26__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_rank_item__WEBPACK_IMPORTED_MODULE_27__["default"].URL, _UI_rank_item__WEBPACK_IMPORTED_MODULE_27__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_ttgame_items__WEBPACK_IMPORTED_MODULE_28__["default"].URL, _UI_ttgame_items__WEBPACK_IMPORTED_MODULE_28__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_mid_banner__WEBPACK_IMPORTED_MODULE_29__["default"].URL, _UI_mid_banner__WEBPACK_IMPORTED_MODULE_29__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_NativeIconLong__WEBPACK_IMPORTED_MODULE_30__["default"].URL, _UI_NativeIconLong__WEBPACK_IMPORTED_MODULE_30__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_FakeBanner_V__WEBPACK_IMPORTED_MODULE_31__["default"].URL, _UI_FakeBanner_V__WEBPACK_IMPORTED_MODULE_31__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_CommonToast__WEBPACK_IMPORTED_MODULE_32__["default"].URL, _UI_CommonToast__WEBPACK_IMPORTED_MODULE_32__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_toast__WEBPACK_IMPORTED_MODULE_33__["default"].URL, _UI_view_toast__WEBPACK_IMPORTED_MODULE_33__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_FakeRewardVideo__WEBPACK_IMPORTED_MODULE_34__["default"].URL, _UI_FakeRewardVideo__WEBPACK_IMPORTED_MODULE_34__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_FakeInterstital__WEBPACK_IMPORTED_MODULE_35__["default"].URL, _UI_FakeInterstital__WEBPACK_IMPORTED_MODULE_35__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_EndSlideGames__WEBPACK_IMPORTED_MODULE_36__["default"].URL, _UI_EndSlideGames__WEBPACK_IMPORTED_MODULE_36__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_slideAds__WEBPACK_IMPORTED_MODULE_37__["default"].URL, _UI_slideAds__WEBPACK_IMPORTED_MODULE_37__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_item_game__WEBPACK_IMPORTED_MODULE_38__["default"].URL, _UI_view_item_game__WEBPACK_IMPORTED_MODULE_38__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_item_game140__WEBPACK_IMPORTED_MODULE_39__["default"].URL, _UI_view_item_game140__WEBPACK_IMPORTED_MODULE_39__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_ImageBanner__WEBPACK_IMPORTED_MODULE_40__["default"].URL, _UI_ImageBanner__WEBPACK_IMPORTED_MODULE_40__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btnGames__WEBPACK_IMPORTED_MODULE_41__["default"].URL, _UI_btnGames__WEBPACK_IMPORTED_MODULE_41__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_SelfBanner__WEBPACK_IMPORTED_MODULE_42__["default"].URL, _UI_SelfBanner__WEBPACK_IMPORTED_MODULE_42__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_GameCenter__WEBPACK_IMPORTED_MODULE_43__["default"].URL, _UI_GameCenter__WEBPACK_IMPORTED_MODULE_43__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_item_game__WEBPACK_IMPORTED_MODULE_44__["default"].URL, _UI_item_game__WEBPACK_IMPORTED_MODULE_44__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_item_gameBig__WEBPACK_IMPORTED_MODULE_45__["default"].URL, _UI_item_gameBig__WEBPACK_IMPORTED_MODULE_45__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_GameIconF__WEBPACK_IMPORTED_MODULE_46__["default"].URL, _UI_GameIconF__WEBPACK_IMPORTED_MODULE_46__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_WxSideGames__WEBPACK_IMPORTED_MODULE_47__["default"].URL, _UI_WxSideGames__WEBPACK_IMPORTED_MODULE_47__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_item_gameSmall__WEBPACK_IMPORTED_MODULE_48__["default"].URL, _UI_item_gameSmall__WEBPACK_IMPORTED_MODULE_48__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_GameCenterBig__WEBPACK_IMPORTED_MODULE_49__["default"].URL, _UI_GameCenterBig__WEBPACK_IMPORTED_MODULE_49__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_item_gameMax__WEBPACK_IMPORTED_MODULE_50__["default"].URL, _UI_item_gameMax__WEBPACK_IMPORTED_MODULE_50__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_bottomGames__WEBPACK_IMPORTED_MODULE_51__["default"].URL, _UI_bottomGames__WEBPACK_IMPORTED_MODULE_51__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_item_game128__WEBPACK_IMPORTED_MODULE_52__["default"].URL, _UI_view_item_game128__WEBPACK_IMPORTED_MODULE_52__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_sliderADs__WEBPACK_IMPORTED_MODULE_53__["default"].URL, _UI_sliderADs__WEBPACK_IMPORTED_MODULE_53__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btn_scaler_yellow__WEBPACK_IMPORTED_MODULE_54__["default"].URL, _UI_btn_scaler_yellow__WEBPACK_IMPORTED_MODULE_54__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btn_red_scale__WEBPACK_IMPORTED_MODULE_55__["default"].URL, _UI_btn_red_scale__WEBPACK_IMPORTED_MODULE_55__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_sharegames_big__WEBPACK_IMPORTED_MODULE_56__["default"].URL, _UI_view_sharegames_big__WEBPACK_IMPORTED_MODULE_56__["default"]);
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_AdInpage.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_AdInpage.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_AdInpage; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_AdInpage extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "AdInpage"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(1));
        this.m_tag = (this.getChildAt(2));
        this.m_img = (this.getChildAt(3));
        this.m_title = (this.getChildAt(4));
        this.m_desc = (this.getChildAt(5));
        this.m_tagtxt = (this.getChildAt(6));
        this.m_sourceTxt = (this.getChildAt(7));
    }
}
UI_AdInpage.URL = "ui://75kiu87kn22eik";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_Channel.ts":
/*!************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_Channel.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_Channel; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_Channel extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "Channel"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(0);
        this.m_txt_input = (this.getChildAt(2));
        this.m_txt_show = (this.getChildAt(3));
        this.m_btn_yes = (this.getChildAt(4));
        this.m_btn_close = (this.getChildAt(5));
        this.m_btn_rebind = (this.getChildAt(6));
    }
}
UI_Channel.URL = "ui://75kiu87kmdx8ip";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonEndSliderADs.ts":
/*!***********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonEndSliderADs.ts ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_CommonEndSliderADs; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_CommonEndSliderADs extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "CommonEndSliderADs"));
    }
    onConstruct() {
        this.m_list = (this.getChildAt(1));
    }
}
UI_CommonEndSliderADs.URL = "ui://75kiu87kj9at6j";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLoad.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLoad.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_CommonLoad; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_CommonLoad extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "CommonLoad"));
    }
    onConstruct() {
        this.m_big_bg = (this.getChildAt(0));
        this.m_small_bg = (this.getChildAt(1));
        this.m_load = (this.getChildAt(2));
    }
}
UI_CommonLoad.URL = "ui://75kiu87kmhasc";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLockScreen.ts":
/*!*********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLockScreen.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_CommonLockScreen; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_CommonLockScreen extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "CommonLockScreen"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
    }
}
UI_CommonLockScreen.URL = "ui://75kiu87ki2wq2s";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonToast.ts":
/*!****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonToast.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_CommonToast; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_CommonToast extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "CommonToast"));
    }
    onConstruct() {
        this.m_list_toast = (this.getChildAt(0));
    }
}
UI_CommonToast.URL = "ui://75kiu87kovsy7";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_End3X3Ad.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_End3X3Ad.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_End3X3Ad; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_End3X3Ad extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "End3X3Ad"));
    }
    onConstruct() {
        this.m_list = (this.getChildAt(1));
    }
}
UI_End3X3Ad.URL = "ui://75kiu87ki816ae";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_EndSlideGames.ts":
/*!******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_EndSlideGames.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_EndSlideGames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_EndSlideGames extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "EndSlideGames"));
    }
    onConstruct() {
        this.m_ad = (this.getChildAt(0));
    }
}
UI_EndSlideGames.URL = "ui://75kiu87kp2ld6k";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeBanner_V.ts":
/*!*****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeBanner_V.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FakeBanner_V; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_FakeBanner_V extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "FakeBanner_V"));
    }
    onConstruct() {
        this.m_banner = (this.getChildAt(0));
    }
}
UI_FakeBanner_V.URL = "ui://75kiu87kovsy4";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeInterstital.ts":
/*!********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeInterstital.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FakeInterstital; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_FakeInterstital extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "FakeInterstital"));
    }
    onConstruct() {
        this.m_btn_close = (this.getChildAt(2));
    }
}
UI_FakeInterstital.URL = "ui://75kiu87kovsyb";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeRewardVideo.ts":
/*!********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeRewardVideo.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FakeRewardVideo; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_FakeRewardVideo extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "FakeRewardVideo"));
    }
    onConstruct() {
        this.m_btn_reward = (this.getChildAt(1));
        this.m_btn_skip = (this.getChildAt(3));
    }
}
UI_FakeRewardVideo.URL = "ui://75kiu87kovsy9";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FlyPanel.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FlyPanel.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FlyPanel; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_FlyPanel extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "FlyPanel"));
    }
    onConstruct() {
        this.m_test = (this.getChildAt(0));
    }
}
UI_FlyPanel.URL = "ui://75kiu87kh75rf";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameCenter.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameCenter.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_GameCenter; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_GameCenter extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "GameCenter"));
    }
    onConstruct() {
        this.m_topList = (this.getChildAt(5));
        this.m_centerList = (this.getChildAt(6));
        this.m_btn_close = (this.getChildAt(7));
        this.m_anim_enter = this.getTransitionAt(0);
    }
}
UI_GameCenter.URL = "ui://75kiu87kr3yg75";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameCenterBig.ts":
/*!******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameCenterBig.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_GameCenterBig; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_GameCenterBig extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "GameCenterBig"));
    }
    onConstruct() {
        this.m_centerList = (this.getChildAt(2));
        this.m_btn_close = (this.getChildAt(3));
        this.m_anim_enter = this.getTransitionAt(0);
    }
}
UI_GameCenterBig.URL = "ui://75kiu87krfowhj";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameIconF.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_GameIconF.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_GameIconF; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_GameIconF extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "GameIconF"));
    }
    onConstruct() {
        this.m_mask = (this.getChildAt(0));
        this.m_icon = (this.getChildAt(1));
        this.m_title = (this.getChildAt(2));
    }
}
UI_GameIconF.URL = "ui://75kiu87kr3yg7g";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_HotGames.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_HotGames.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_HotGames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_HotGames extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "HotGames"));
    }
    onConstruct() {
        this.m_list = (this.getChildAt(2));
    }
}
UI_HotGames.URL = "ui://75kiu87kmdx8iv";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ImageBanner.ts":
/*!****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ImageBanner.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_ImageBanner; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_ImageBanner extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "ImageBanner"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_img_banner = (this.getChildAt(1));
        this.m_img_icon = (this.getChildAt(2));
        this.m_img_adnotice = (this.getChildAt(3));
        this.m_btn_close = (this.getChildAt(4));
    }
}
UI_ImageBanner.URL = "ui://75kiu87kqdeh5t";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_MiniGames.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_MiniGames.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_MiniGames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_MiniGames extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "MiniGames"));
    }
    onConstruct() {
        this.m_btn_close = (this.getChildAt(1));
        this.m_game_hot = (this.getChildAt(2));
        this.m_game_new = (this.getChildAt(3));
        this.m_mid_banner = (this.getChildAt(4));
        this.m_list = (this.getChildAt(6));
    }
}
UI_MiniGames.URL = "ui://75kiu87knmlkie";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeBanner.ts":
/*!*****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeBanner.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_NativeBanner; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_NativeBanner extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "NativeBanner"));
    }
    onConstruct() {
        this.m_ad = (this.getChildAt(0));
    }
}
UI_NativeBanner.URL = "ui://75kiu87ka24yil";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeBannerComp.ts":
/*!*********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeBannerComp.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_NativeBannerComp; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_NativeBannerComp extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "NativeBannerComp"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_img = (this.getChildAt(1));
        this.m_icon = (this.getChildAt(2));
        this.m_title = (this.getChildAt(3));
        this.m_desc = (this.getChildAt(4));
        this.m_btn_close = (this.getChildAt(5));
    }
}
UI_NativeBannerComp.URL = "ui://75kiu87ka24yim";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeIcon.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeIcon.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_NativeIcon; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_NativeIcon extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "NativeIcon"));
    }
    onConstruct() {
        this.m_icon_img = (this.getChildAt(0));
        this.m_icon_tip = (this.getChildAt(1));
    }
}
UI_NativeIcon.URL = "ui://75kiu87kh8ea5w";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeIconLong.ts":
/*!*******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeIconLong.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_NativeIconLong; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_NativeIconLong extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "NativeIconLong"));
    }
    onConstruct() {
        this.m_bg1 = (this.getChildAt(0));
        this.m_ad = (this.getChildAt(1));
        this.m_btn_close = (this.getChildAt(2));
    }
}
UI_NativeIconLong.URL = "ui://75kiu87kocvx6t";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeInPage.ts":
/*!*****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_NativeInPage.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_NativeInPage; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_NativeInPage extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "NativeInPage"));
    }
    onConstruct() {
        this.m_btn_pos = this.getControllerAt(0);
        this.m_ad = (this.getChildAt(0));
        this.m_btn_close = (this.getChildAt(1));
        this.m_btn_clickad = (this.getChildAt(2));
        this.m_btn_clickadbg = (this.getChildAt(3));
        this.m_t0 = this.getTransitionAt(0);
    }
}
UI_NativeInPage.URL = "ui://75kiu87k92486v";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_OpenAds.ts":
/*!************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_OpenAds.ts ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_OpenAds; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_OpenAds extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "OpenAds"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_centerList = (this.getChildAt(2));
        this.m_btn_close = (this.getChildAt(3));
    }
}
UI_OpenAds.URL = "ui://75kiu87k9vu5ag";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_SelfBanner.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_SelfBanner.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_SelfBanner; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_SelfBanner extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "SelfBanner"));
    }
    onConstruct() {
        this.m_banner = (this.getChildAt(0));
    }
}
UI_SelfBanner.URL = "ui://75kiu87kr3yg74";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ShareResult.ts":
/*!****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ShareResult.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_ShareResult; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_ShareResult extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "ShareResult"));
    }
    onConstruct() {
        this.m_txt_show = (this.getChildAt(2));
        this.m_btn_yes = (this.getChildAt(3));
        this.m_btn_close = (this.getChildAt(4));
    }
}
UI_ShareResult.URL = "ui://75kiu87kgn6shg";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_SideGames.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_SideGames.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_SideGames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_SideGames extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "SideGames"));
    }
    onConstruct() {
        this.m_show = this.getControllerAt(0);
        this.m_ads = (this.getChildAt(1));
        this.m_t0 = this.getTransitionAt(0);
    }
}
UI_SideGames.URL = "ui://75kiu87kii3nhl";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_WxSideGames.ts":
/*!****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_WxSideGames.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_WxSideGames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_WxSideGames extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "WxSideGames"));
    }
    onConstruct() {
        this.m_ad0 = (this.getChildAt(0));
        this.m_ad2 = (this.getChildAt(1));
        this.m_ad1 = (this.getChildAt(2));
        this.m_ad3 = (this.getChildAt(3));
    }
}
UI_WxSideGames.URL = "ui://75kiu87kr3yg7h";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_bottomGames.ts":
/*!****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_bottomGames.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_bottomGames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_bottomGames extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "bottomGames"));
    }
    onConstruct() {
        this.m_list = (this.getChildAt(1));
    }
}
UI_bottomGames.URL = "ui://75kiu87kt3oybk";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btnGames.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btnGames.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btnGames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btnGames extends fgui.GButton {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "btnGames"));
    }
    onConstruct() {
        this.m_red = (this.getChildAt(1));
        this.m_t0 = this.getTransitionAt(0);
    }
}
UI_btnGames.URL = "ui://75kiu87kr1gt70";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_normal.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_normal.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btn_normal; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btn_normal extends fgui.GButton {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "btn_normal"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_t0 = this.getTransitionAt(0);
    }
}
UI_btn_normal.URL = "ui://75kiu87kl2ax4l";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_red_scale.ts":
/*!******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_red_scale.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btn_red_scale; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btn_red_scale extends fgui.GButton {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "btn_red_scale"));
    }
    onConstruct() {
        this.m_style = this.getControllerAt(1);
        this.m_title_icon = (this.getChildAt(2));
        this.m_t0 = this.getTransitionAt(0);
    }
}
UI_btn_red_scale.URL = "ui://75kiu87kvo5ih5";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_scaler_yellow.ts":
/*!**********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_btn_scaler_yellow.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btn_scaler_yellow; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btn_scaler_yellow extends fgui.GButton {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "btn_scaler_yellow"));
    }
    onConstruct() {
        this.m_title_icon = (this.getChildAt(2));
        this.m_t0 = this.getTransitionAt(0);
    }
}
UI_btn_scaler_yellow.URL = "ui://75kiu87kvo5igy";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_hot_game.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_hot_game.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_hot_game; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_hot_game extends fgui.GButton {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "hot_game"));
    }
    onConstruct() {
        this.m_ic = (this.getChildAt(1));
        this.m_anim_idle = this.getTransitionAt(0);
    }
}
UI_hot_game.URL = "ui://75kiu87k74v84g";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_iconLongComp.ts":
/*!*****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_iconLongComp.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_iconLongComp; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_iconLongComp extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "iconLongComp"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(0));
        this.m_tag = (this.getChildAt(1));
        this.m_title = (this.getChildAt(2));
        this.m_desc = (this.getChildAt(3));
    }
}
UI_iconLongComp.URL = "ui://75kiu87k92486x";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_game.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_game.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_item_game; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_item_game extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "item_game"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(1));
        this.m_title = (this.getChildAt(2));
        this.m_red = (this.getChildAt(3));
    }
}
UI_item_game.URL = "ui://75kiu87kr3yg7b";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameBig.ts":
/*!*****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameBig.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_item_gameBig; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_item_gameBig extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "item_gameBig"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(1));
        this.m_title = (this.getChildAt(2));
        this.m_player = (this.getChildAt(3));
        this.m_red = (this.getChildAt(4));
    }
}
UI_item_gameBig.URL = "ui://75kiu87kr3yg7d";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameMax.ts":
/*!*****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameMax.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_item_gameMax; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_item_gameMax extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "item_gameMax"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(1));
        this.m_title = (this.getChildAt(2));
        this.m_player = (this.getChildAt(3));
        this.m_red = (this.getChildAt(4));
    }
}
UI_item_gameMax.URL = "ui://75kiu87krfowhk";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameSmall.ts":
/*!*******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_gameSmall.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_item_gameSmall; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_item_gameSmall extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "item_gameSmall"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(1));
        this.m_title = (this.getChildAt(2));
        this.m_red = (this.getChildAt(3));
        this.m_shake = this.getTransitionAt(0);
    }
}
UI_item_gameSmall.URL = "ui://75kiu87kr3yg7i";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_hotgames.ts":
/*!******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_item_hotgames.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_item_hotgames; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_item_hotgames extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "item_hotgames"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(0));
        this.m_txt_name = (this.getChildAt(1));
    }
}
UI_item_hotgames.URL = "ui://75kiu87kmdx8iw";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_mid_banner.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_mid_banner.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_mid_banner; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_mid_banner extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "mid_banner"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(0));
    }
}
UI_mid_banner.URL = "ui://75kiu87knmlkij";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_rank_item.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_rank_item.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_rank_item; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_rank_item extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "rank_item"));
    }
    onConstruct() {
        this.m_rank_bg = (this.getChildAt(0));
        this.m_icon = (this.getChildAt(1));
        this.m_rank_title = (this.getChildAt(2));
        this.m_name = (this.getChildAt(3));
    }
}
UI_rank_item.URL = "ui://75kiu87knmlkif";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_side_ads1.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_side_ads1.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_side_ads1; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_side_ads1 extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "side_ads1"));
    }
    onConstruct() {
        this.m_list = (this.getChildAt(1));
        this.m_btn_more = (this.getChildAt(2));
    }
}
UI_side_ads1.URL = "ui://75kiu87kn6nfi1";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_slideAds.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_slideAds.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_slideAds; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_slideAds extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "slideAds"));
    }
    onConstruct() {
        this.m_list0 = (this.getChildAt(0));
        this.m_list1 = (this.getChildAt(1));
        this.m_list2 = (this.getChildAt(2));
    }
}
UI_slideAds.URL = "ui://75kiu87kp2ld6n";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_sliderADs.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_sliderADs.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_sliderADs; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_sliderADs extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "sliderADs"));
    }
    onConstruct() {
        this.m_list = (this.getChildAt(1));
    }
}
UI_sliderADs.URL = "ui://75kiu87kulgb5x";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ttgame_items.ts":
/*!*****************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ttgame_items.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_ttgame_items; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_ttgame_items extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "ttgame_items"));
    }
    onConstruct() {
        this.m_dot = this.getControllerAt(0);
        this.m_icon = (this.getChildAt(0));
        this.m_name = (this.getChildAt(1));
    }
}
UI_ttgame_items.URL = "ui://75kiu87knmlkii";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_end_games.ts":
/*!*******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_end_games.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_end_games; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_end_games extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_end_games"));
    }
    onConstruct() {
        this.m_sharegames = (this.getChildAt(0));
    }
}
UI_view_end_games.URL = "ui://75kiu87kbg001k";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_fly_coin.ts":
/*!******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_fly_coin.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_fly_coin; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_fly_coin extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_fly_coin"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(0));
    }
}
UI_view_fly_coin.URL = "ui://75kiu87kh75rh";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_game_icon.ts":
/*!*******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_game_icon.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_game_icon; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_game_icon extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_game_icon"));
    }
    onConstruct() {
        this.m_mask = (this.getChildAt(1));
        this.m_icon = (this.getChildAt(2));
    }
}
UI_view_game_icon.URL = "ui://75kiu87kcqevgw";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_game_icon1.ts":
/*!********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_game_icon1.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_game_icon1; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_game_icon1 extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_game_icon1"));
    }
    onConstruct() {
        this.m_mask = (this.getChildAt(1));
        this.m_icon = (this.getChildAt(2));
    }
}
UI_view_game_icon1.URL = "ui://75kiu87kbg001h";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game.ts":
/*!*******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_item_game; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_item_game extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_item_game"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(1));
        this.m_text_name = (this.getChildAt(2));
    }
}
UI_view_item_game.URL = "ui://75kiu87kp2ld6o";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game128.ts":
/*!**********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game128.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_item_game128; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_item_game128 extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_item_game128"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(0));
        this.m_text_name = (this.getChildAt(1));
    }
}
UI_view_item_game128.URL = "ui://75kiu87kt3oybl";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game140.ts":
/*!**********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game140.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_item_game140; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_item_game140 extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_item_game140"));
    }
    onConstruct() {
        this.m_icon = (this.getChildAt(0));
        this.m_text_name = (this.getChildAt(1));
    }
}
UI_view_item_game140.URL = "ui://75kiu87kp2ld6p";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game164.ts":
/*!**********************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_item_game164.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_item_game164; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_item_game164 extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_item_game164"));
    }
    onConstruct() {
        this.m_bg = (this.getChildAt(0));
        this.m_icon = (this.getChildAt(1));
        this.m_text_name = (this.getChildAt(2));
    }
}
UI_view_item_game164.URL = "ui://75kiu87kebhigq";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_load.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_load.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_load; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_load extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_load"));
    }
    onConstruct() {
        this.m_text_load = (this.getChildAt(2));
        this.m_rotate = this.getTransitionAt(0);
    }
}
UI_view_load.URL = "ui://75kiu87kmhase";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_sharegames_big.ts":
/*!************************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_sharegames_big.ts ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_sharegames_big; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_sharegames_big extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_sharegames_big"));
    }
    onConstruct() {
        this.m_img_game_bg = (this.getChildAt(0));
        this.m_list_games = (this.getChildAt(1));
    }
}
UI_view_sharegames_big.URL = "ui://75kiu87kwjpo4i";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_toast.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_toast.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_toast; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_toast extends fgui.GComponent {
    constructor() {
        super();
    }
    static createInstance() {
        return (fgui.UIPackage.createObject("LTGame", "view_toast"));
    }
    onConstruct() {
        this.m_toast_str = (this.getChildAt(1));
        this.m_show = this.getTransitionAt(0);
    }
}
UI_view_toast.URL = "ui://75kiu87kovsy8";


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_ChannelMediator.ts":
/*!**********************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_ChannelMediator.ts ***!
  \**********************************************************/
/*! exports provided: UI_ChannelMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI_ChannelMediator", function() { return UI_ChannelMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_Channel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_Channel */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_Channel.ts");
/* harmony import */ var _LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _LTUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");





class UI_ChannelMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get ui() {
        return this._ui;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_ChannelMediator();
            this._instance._classDefine = _UI_LTGame_UI_Channel__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        this.ui.m_btn_close.onClick(this, this.Hide);
        this.ui.m_btn_yes.onClick(this, this.bindChannel);
        this.ui.m_btn_rebind.onClick(this, this.clear);
        this.updateUI();
    }
    updateUI() {
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__["default"].IsNullOrEmpty(_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].instance.channelId)) {
            this.ui.m_state.selectedIndex = 0;
        }
        else {
            this.showChannelID();
        }
    }
    clear() {
        _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].instance.channelId = '';
        _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].SaveToDisk();
        this.updateUI();
    }
    bindChannel() {
        let txt = this.ui.m_txt_input.text;
        if (_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__["default"].IsNullOrEmpty(txt)) {
            return _LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast('请重新输入');
        }
        else {
            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].instance.channelId = txt;
            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].SaveToDisk();
            _LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast('渠道绑定成功');
            this.showChannelID();
        }
    }
    showChannelID() {
        this.ui.m_state.selectedIndex = 1;
        this.ui.m_txt_show.text = `您已绑定的渠道号/抖音账号：\n${_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].instance.channelId}`;
    }
    _OnHide() { }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_CommomToastMediator.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_CommomToastMediator.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_CommomToastMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_CommonToast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_CommonToast */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonToast.ts");
/* harmony import */ var _FGui_FGuiData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FGui/FGuiData */ "./src/LTGame/UIExt/FGui/FGuiData.ts");
/* harmony import */ var _FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FGui/FGuiEx */ "./src/LTGame/UIExt/FGui/FGuiEx.ts");
/* harmony import */ var _UI_LTGame_UI_view_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UI/LTGame/UI_view_toast */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_toast.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");






class UI_CommomToastMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_CommomToastMediator();
            this._instance._classDefine = _UI_LTGame_UI_CommonToast__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    Show(obj = null) {
        this._openParam = obj;
        if (this._ui == null) {
            let uiData = new _FGui_FGuiData__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this._ui = _FGui_FGuiEx__WEBPACK_IMPORTED_MODULE_3__["default"].AddUI(this._classDefine, uiData);
            this._ui.sortingOrder = Number.MAX_SAFE_INTEGER;
            this._OnShow();
        }
        this._DoToast(this._openParam);
    }
    _DoToast(str) {
        return __awaiter(this, void 0, void 0, function* () {
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_5__["default"].NextFrame();
            let createToast = _UI_LTGame_UI_view_toast__WEBPACK_IMPORTED_MODULE_4__["default"].createInstance();
            this.ui.m_list_toast.addChild(createToast);
            createToast.m_toast_str.text = str;
            createToast.m_show.play(Laya.Handler.create(this, () => {
                createToast.dispose();
            }));
        });
    }
    Hide(dispose = true) {
        // 该界面一旦打开,永不关闭
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_CommonLoadMediator.ts":
/*!*************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_CommonLoadMediator.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_CommondLoadMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_CommonLoad__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_CommonLoad */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLoad.ts");


class UI_CommondLoadMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._sortOrder = Number.MAX_SAFE_INTEGER;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_CommondLoadMediator();
            this._instance._classDefine = _UI_LTGame_UI_CommonLoad__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        let openStr = this._openParam[0];
        let isBig = this._openParam[1];
        this.ui.m_load.m_text_load.text = openStr;
        if (isBig) {
            this.ui.m_small_bg.visible = false;
            this.ui.m_big_bg.visible = true;
        }
        else {
            this.ui.m_small_bg.visible = true;
            this.ui.m_big_bg.visible = false;
        }
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_CommonLockScreenMediator.ts":
/*!*******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_CommonLockScreenMediator.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_CommonLockScreenMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_CommonLockScreen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_CommonLockScreen */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_CommonLockScreen.ts");


class UI_CommonLockScreenMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._sortOrder = Number.MAX_SAFE_INTEGER;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_CommonLockScreenMediator();
            this._instance._classDefine = _UI_LTGame_UI_CommonLockScreen__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_FakeBannerVMediator.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_FakeBannerVMediator.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FakeBannerVMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_FakeBanner_V__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_FakeBanner_V */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeBanner_V.ts");


class UI_FakeBannerVMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._sortOrder = Number.MAX_SAFE_INTEGER;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_FakeBannerVMediator();
            this._instance._classDefine = _UI_LTGame_UI_FakeBanner_V__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_FakeInterstitalMediator.ts":
/*!******************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_FakeInterstitalMediator.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FakeInterstitalMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_FakeInterstital__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_FakeInterstital */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeInterstital.ts");


class UI_FakeInterstitalMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._sortOrder = Number.MAX_SAFE_INTEGER;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_FakeInterstitalMediator();
            this._instance._classDefine = _UI_LTGame_UI_FakeInterstital__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._closeHandle = this._openParam;
        this.ui.m_btn_close.onClick(this, this._OnClickClose);
    }
    _OnClickClose() {
        this.Hide();
        if (this._closeHandle) {
            this._closeHandle.run();
        }
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_FakeRewardADMediator.ts":
/*!***************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_FakeRewardADMediator.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FakeRewardADMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_FakeRewardVideo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_FakeRewardVideo */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FakeRewardVideo.ts");


class UI_FakeRewardADMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._sortOrder = Number.MAX_SAFE_INTEGER;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_FakeRewardADMediator();
            this._instance._classDefine = _UI_LTGame_UI_FakeRewardVideo__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._rewardHandle = this._openParam[0];
        this._skipHandle = this._openParam[1];
        this.ui.m_btn_reward.onClick(this, this._OnClickReward);
        this.ui.m_btn_skip.onClick(this, this._OnClickSkip);
    }
    _OnClickReward() {
        this.Hide();
        if (this._rewardHandle) {
            this._rewardHandle.run();
        }
    }
    _OnClickSkip() {
        this.Hide();
        if (this._skipHandle) {
            this._skipHandle.run();
        }
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_FlyPanelMediator.ts":
/*!***********************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_FlyPanelMediator.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FlyPanelMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_FlyPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_FlyPanel */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_FlyPanel.ts");
/* harmony import */ var _UI_LTGame_UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UI/LTGame/UI_view_fly_coin */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_view_fly_coin.ts");
/* harmony import */ var _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");





class UI_FlyPanelMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._sortOrder = Number.MAX_SAFE_INTEGER - 1;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_FlyPanelMediator();
            this._instance._classDefine = _UI_LTGame_UI_FlyPanel__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        // your code
        super._OnShow();
        this.ui.m_test.dispose();
    }
    BoomObjs(fromObj, boomCount, flyTime = 1, circleRadius = 10) {
        return __awaiter(this, void 0, void 0, function* () {
            let startPos = fromObj.localToGlobal();
            startPos.x -= fromObj.width / 2;
            startPos.y -= fromObj.height / 2;
            let cacheTime = flyTime * 1000;
            for (let i = 0; i < boomCount; ++i) {
                let flyCoin = _UI_LTGame_UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_2__["default"].createInstance();
                this.ui.addChild(flyCoin);
                if (fromObj['url'] != null) {
                    flyCoin.m_icon.url = fromObj['url'];
                }
                else if (fromObj['resourceURL'] != null) {
                    flyCoin.m_icon.url = fromObj['resourceURL'];
                }
                flyCoin.m_icon.setSize(fromObj.width, fromObj.height);
                flyCoin.setPivot(fromObj.pivotX, fromObj.pivotY);
                flyCoin.setXY(startPos.x, startPos.y);
                let cachePos = new Laya.Vector2(startPos.x + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius), startPos.y + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius));
                Laya.Tween.to(flyCoin, { x: cachePos.x, y: cachePos.y }, cacheTime, Laya.Ease.quadOut, Laya.Handler.create(this, () => {
                    flyCoin.dispose();
                }));
            }
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__["default"].Seconds(flyTime);
        });
    }
    /**
     * 爆炸金币,用于没有可飞行位置的时候
     * @param fromObj
     * @param flyIcon
     * @param flyCount
     * @param flyTime
     * @param circleRadius
     */
    BoomCoins(fromObj, flyIcon = null, flyCount = 100, flyTime = 1, circleRadius = 10) {
        return __awaiter(this, void 0, void 0, function* () {
            let startPos = fromObj.localToGlobal();
            let cacheTime = flyTime * 1000;
            for (let i = 0; i < flyCount; ++i) {
                let flyCoin = _UI_LTGame_UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_2__["default"].createInstance();
                this.ui.addChild(flyCoin);
                if (flyIcon != null) {
                    flyCoin.m_icon.url = flyIcon;
                }
                flyCoin.setXY(startPos.x, startPos.y);
                let cachePos = new Laya.Vector2(startPos.x + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius), startPos.y + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius));
                Laya.Tween.to(flyCoin, { x: cachePos.x, y: cachePos.y }, cacheTime, Laya.Ease.quadInOut, Laya.Handler.create(this, () => {
                    flyCoin.dispose();
                }));
            }
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__["default"].Seconds(flyTime);
        });
    }
    FlyObjs(fromObj, toObj, flyCount, flyTime, circleRadius) {
        return __awaiter(this, void 0, void 0, function* () {
            let startPos = fromObj.localToGlobal();
            startPos.x -= fromObj.width / 2;
            startPos.y -= fromObj.height / 2;
            let stopPos = toObj.localToGlobal();
            let cacheTime = flyTime * 0.6 * 1000;
            let finalTime = flyTime * 0.4 * 1000;
            for (let i = 0; i < flyCount; ++i) {
                let flyCoin = _UI_LTGame_UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_2__["default"].createInstance();
                this.ui.addChild(flyCoin);
                if (fromObj['url'] != null) {
                    flyCoin.m_icon.url = fromObj['url'];
                }
                else if (fromObj['resourceURL'] != null) {
                    flyCoin.m_icon.url = fromObj['resourceURL'];
                }
                flyCoin.m_icon.setSize(fromObj.width, fromObj.height);
                flyCoin.setPivot(fromObj.pivotX, fromObj.pivotY);
                flyCoin.setXY(startPos.x, startPos.y);
                let cachePos = new Laya.Vector2(startPos.x + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius), startPos.y + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius));
                Laya.Tween.to(flyCoin, { x: cachePos.x, y: cachePos.y }, cacheTime, Laya.Ease.quadInOut, Laya.Handler.create(this, () => {
                    Laya.Tween.to(flyCoin, { x: stopPos.x, y: stopPos.y }, finalTime, Laya.Ease.quadInOut, Laya.Handler.create(this, () => {
                        flyCoin.dispose();
                    }));
                }));
            }
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__["default"].Seconds(flyTime);
        });
    }
    /**
     * 先往外扩,然后飞到指定位置
     * @param fromObj
     * @param toObj
     * @param flyIcon
     * @param flyCount
     * @param flyTime
     */
    FlyCoins(fromObj, toObj, flyIcon = null, flyCount = 100, flyTime = 1, circleRadius = 10) {
        return __awaiter(this, void 0, void 0, function* () {
            let startPos = fromObj.localToGlobal();
            let stopPos = toObj.localToGlobal();
            let cacheTime = flyTime * 0.6 * 1000;
            let finalTime = flyTime * 0.4 * 1000;
            for (let i = 0; i < flyCount; ++i) {
                let flyCoin = _UI_LTGame_UI_view_fly_coin__WEBPACK_IMPORTED_MODULE_2__["default"].createInstance();
                this.ui.addChild(flyCoin);
                if (flyIcon != null) {
                    flyCoin.m_icon.url = flyIcon;
                }
                flyCoin.setXY(startPos.x, startPos.y);
                let cachePos = new Laya.Vector2(startPos.x + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius), startPos.y + _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].Random(-circleRadius, circleRadius));
                Laya.Tween.to(flyCoin, { x: cachePos.x, y: cachePos.y }, cacheTime, Laya.Ease.quadInOut, Laya.Handler.create(this, () => {
                    Laya.Tween.to(flyCoin, { x: stopPos.x, y: stopPos.y }, finalTime, Laya.Ease.quadInOut, Laya.Handler.create(this, () => {
                        flyCoin.dispose();
                    }));
                }));
            }
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__["default"].Seconds(flyTime);
        });
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_ImageBannerMediator.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_ImageBannerMediator.ts ***!
  \**************************************************************/
/*! exports provided: default, FakeBannerData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_ImageBannerMediator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FakeBannerData", function() { return FakeBannerData; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_ImageBanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_ImageBanner */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ImageBanner.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");



class UI_ImageBannerMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._sortOrder = 500;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_ImageBannerMediator();
            this._instance._classDefine = _UI_LTGame_UI_ImageBanner__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._fakeBannerData = this._openParam;
        this.ui.m_img_banner.url = this._fakeBannerData.imgPath;
        this.ui.m_img_adnotice.url = this._fakeBannerData.noticePath;
        this.ui.m_img_banner.onClick(this, this._OnClickBanner);
        this.ui.m_btn_close.onClick(this, this._OnClickClose);
        // 上报广告曝光
        this._fakeBannerData.owner.reportAdShow({
            adId: this._fakeBannerData.adId
        });
    }
    _OnClickBanner() {
        console.log("点击banner", this._fakeBannerData);
        // 相应点击事件
        this._fakeBannerData.owner.reportAdClick({
            adId: this._fakeBannerData.adId
        });
        // 更换广告
        _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.ShowBannerAd();
    }
    _OnClickClose() {
        console.log("点击关闭banner", this._fakeBannerData);
        this.Hide();
    }
}
class FakeBannerData {
}


/***/ }),

/***/ "./src/LTGame/UIExt/DefaultUI/UI_ShareResultMediator.ts":
/*!**************************************************************!*\
  !*** ./src/LTGame/UIExt/DefaultUI/UI_ShareResultMediator.ts ***!
  \**************************************************************/
/*! exports provided: UI_ShareResultMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI_ShareResultMediator", function() { return UI_ShareResultMediator; });
/* harmony import */ var _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _UI_LTGame_UI_ShareResult__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/LTGame/UI_ShareResult */ "./src/LTGame/UIExt/DefaultUI/UI/LTGame/UI_ShareResult.ts");
/* harmony import */ var _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LTUI */ "./src/LTGame/UIExt/LTUI.ts");




class UI_ShareResultMediator extends _FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get ui() {
        return this._ui;
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_ShareResultMediator();
            this._instance._classDefine = _UI_LTGame_UI_ShareResult__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        this.videoID = this._openParam;
        this.ui.m_btn_yes.onClick(this, this.copyId);
        this.ui.m_btn_close.onClick(this, this.Hide);
        this.ui.m_txt_show.text = `分享成功：\n\r${this.videoID}`;
    }
    copyId() {
        if (this.videoID) {
            _Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_2__["default"].instance.SetClipboardData(this.videoID);
            _LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast("复制成功");
        }
        else {
            _LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].Toast("获取视频id错误");
        }
    }
    _OnHide() { }
}


/***/ }),

/***/ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts":
/*!*************************************************!*\
  !*** ./src/LTGame/UIExt/FGui/BaseUIMediator.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BaseUIMediator; });
/* harmony import */ var _FGuiEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FGuiEx */ "./src/LTGame/UIExt/FGui/FGuiEx.ts");
/* harmony import */ var _FGuiData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FGuiData */ "./src/LTGame/UIExt/FGui/FGuiData.ts");
/* harmony import */ var _SelfADHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SelfADHelper */ "./src/LTGame/UIExt/FGui/SelfADHelper.ts");
/* harmony import */ var _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../script/manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _script_common_Const__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../script/common/Const */ "./src/script/common/Const.ts");








class BaseUIMediator {
    constructor() {
        /**
         * 是否适配顶部刘海屏
         */
        this._needFilScreen = false;
        this._isShow = false;
        this._sortOrder = 10;
        this._clickHandlers = [];
    }
    get ui() {
        return this._ui;
    }
    get isShow() {
        return this._isShow;
    }
    Show(obj = null) {
        if (this._isShow) {
            return;
        }
        this._isShow = true;
        this._openParam = obj;
        let uiData = new _FGuiData__WEBPACK_IMPORTED_MODULE_1__["default"]();
        uiData.needFitScreen = this._needFilScreen;
        this._ui = _FGuiEx__WEBPACK_IMPORTED_MODULE_0__["default"].AddUI(this._classDefine, uiData);
        this._ui.sortingOrder = this._sortOrder;
        this._InitSelfAd();
        this._OnShow();
    }
    _InitSelfAd() {
        _SelfADHelper__WEBPACK_IMPORTED_MODULE_2__["SelfADHelper"].InitSelfAD(this._ui);
    }
    _OnShow() { }
    Hide(dispose = true) {
        if (this._ui == null)
            return;
        if (this._ui.isDisposed)
            return;
        this.fakeTouchAd();
        this._isShow = false;
        this._OnHide();
        let len = this._clickHandlers.length;
        while (--len >= 0) {
            this._clickHandlers[len].recover();
        }
        this._clickHandlers = [];
        this._DoHide(dispose);
    }
    _DoHide(dispose) {
        if (dispose) {
            this.ui.dispose();
        }
        else {
            this.ui.removeFromParent();
        }
    }
    _OnHide() { }
    fakeTouchAd() {
        if (this.ui["m___nativeinpage"] && this.ui["m___nativeinpage"].visible
            && _LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_3__["default"].RandomRatio(_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_4__["default"].instance.configs.nativePayRate)
            && _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_5__["default"].instance.nativeClickCount < _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_4__["default"].instance.configs.nativeClickCount) {
            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_5__["default"].instance.nativeClickCount++;
            this.ui["m___nativeinpage"]["ClickAd"]();
            _Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_5__["default"].SaveToDisk();
        }
    }
    /** 通过闭包，保留resolve.在合适的时间调用cb方法 */
    waitPromise() {
        let t = this;
        return new Promise((resolve, reject) => {
            t._hideHandler = Laya.Handler.create(t, (curState) => {
                resolve(curState);
            });
        });
    }
    _onClick(btn, listener, args, isOnce = false) {
        let handler = Laya.Handler.create(this, listener, null, isOnce);
        this._clickHandlers.push(handler);
        btn.onClick(this, this._clickFunc, [handler, args]);
    }
    _clickFunc(handler, args) {
        _script_manager_AudioManager__WEBPACK_IMPORTED_MODULE_6__["default"].instance.PlayById(_script_common_Const__WEBPACK_IMPORTED_MODULE_7__["Const"].SOUND.SOUND_9);
        handler.runWith(args);
    }
    _offAllClick(btn, thisObj, listener, args) {
        btn.onClick(thisObj, () => { }, args);
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/FGui/FGuiData.ts":
/*!*******************************************!*\
  !*** ./src/LTGame/UIExt/FGui/FGuiData.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FGuiData; });
class FGuiData {
    constructor() {
        /**
         * 是否需要适配刘海屏
         */
        this.needFitScreen = false;
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/FGui/FGuiEx.ts":
/*!*****************************************!*\
  !*** ./src/LTGame/UIExt/FGui/FGuiEx.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FGuiEx; });
/* harmony import */ var _FGuiData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FGuiData */ "./src/LTGame/UIExt/FGui/FGuiData.ts");
/* harmony import */ var _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");


class FGuiEx {
    static Init(safeArea = null) {
        this.safeArea = safeArea;
        fgui.UIConfig.packageFileExtension = "bin";
        Laya.stage.addChild(fgui.GRoot.inst.displayObject);
        fgui.GRoot.inst.displayObject.name = "GRoot";
        this.UpdateAllUI();
        Laya.stage.on(Laya.Event.RESIZE, this, this.UpdateAllUI);
    }
    static AddUI(uiType, param = null) {
        let ui = uiType.createInstance();
        fgui.GRoot.inst.addChild(ui);
        if (param == null) {
            param = new _FGuiData__WEBPACK_IMPORTED_MODULE_0__["default"]();
        }
        if (param == null || !param.needFitScreen) {
            ui.setSize(fgui.GRoot.inst.width, fgui.GRoot.inst.height);
        }
        else {
            ui.setSize(fgui.GRoot.inst.width, this.bottom);
            ui.y = this.top;
        }
        this._cacheMap.set(ui.constructor.name, param);
        window[ui.constructor.name] = ui;
        console.log("打开界面", ui.constructor.name);
        return ui;
    }
    static UpdateAllUI() {
        let setWidth = Laya.stage.width;
        let setHeight = Laya.stage.height;
        if (this.safeArea != null) {
            let scale = Laya.stage.width / this.safeArea.width;
            this.top = this.safeArea.top * scale;
            this.bottom = (this.safeArea.height) * scale;
            this.width = this.safeArea.width;
        }
        else {
            this.bottom = setHeight;
            this.width = setWidth;
        }
        fgui.GRoot.inst.setSize(setWidth, setHeight);
        let childCount = fgui.GRoot.inst.numChildren;
        for (let i = 0; i < childCount; ++i) {
            let ui = fgui.GRoot.inst.getChildAt(i);
            let getData = this._cacheMap.get(ui.constructor.name);
            if (getData == null || !getData.needFitScreen) {
                ui.setSize(fgui.GRoot.inst.width, fgui.GRoot.inst.height);
            }
            else {
                ui.setSize(fgui.GRoot.inst.width, this.bottom);
                ui.y = this.top;
            }
        }
    }
    static CheckIn(ui, x, y) {
        if (x > ui.x && x < ui.x + ui.width && y > ui.y && y < ui.y + ui.height) {
            return true;
        }
        return false;
    }
    /**
     * 获取3d物件在屏幕中的位置
     * @param camera
     * @param pos3d
     * @param ui
     */
    static GetPointFrom3DWorld(camera, pos3d, ui) {
        let uiPos = new Laya.Vector4();
        camera.worldToViewportPoint(pos3d, uiPos);
        if (ui != null) {
            return ui.globalToLocal(uiPos.x, uiPos.y);
        }
        else {
            return new Laya.Point(uiPos.x, uiPos.y);
        }
    }
    /**
     * 等待ui关闭
     * @param ui
     */
    static WaitUIClose(ui) {
        return __awaiter(this, void 0, void 0, function* () {
            yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame();
            while (ui.isShow) {
                yield _Async_Awaiters__WEBPACK_IMPORTED_MODULE_1__["default"].NextFrame();
            }
        });
    }
    /**
     * 等待动画播放完成
     * @param anim
     * @returns
     */
    static WaitAnimEnd(anim) {
        return __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => {
                anim.play(Laya.Handler.create(null, () => {
                    resolve();
                }));
            });
        });
    }
}
FGuiEx.top = 0;
FGuiEx.bottom = 0;
FGuiEx.width = 750;
FGuiEx.scale = 1;
FGuiEx._cacheMap = new Map();


/***/ }),

/***/ "./src/LTGame/UIExt/FGui/LoadUIPack.ts":
/*!*********************************************!*\
  !*** ./src/LTGame/UIExt/FGui/LoadUIPack.ts ***!
  \*********************************************/
/*! exports provided: LoadUIPack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadUIPack", function() { return LoadUIPack; });
/* harmony import */ var _Res_LTRes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Res/LTRes */ "./src/LTGame/Res/LTRes.ts");

class LoadUIPack {
    constructor(packPath, atliasCount = 1) {
        this.packPath = packPath;
        this.atliasCount = atliasCount;
    }
    PushUrl(urls) {
        urls.push({ url: this.packPath + ".bin", type: Laya.Loader.BUFFER });
        if (this.atliasCount == 0)
            return;
        urls.push({ url: this.packPath + "_atlas0.png", type: Laya.Loader.IMAGE });
        for (let i = 1; i < this.atliasCount; ++i) {
            urls.push({ url: this.packPath + "_atlas0_" + i + ".png", type: Laya.Loader.IMAGE });
        }
    }
    AddPackage() {
        fgui.UIPackage.addPackage(this.packPath);
    }
    RemovePackage() {
        fgui.UIPackage.removePackage(this.packPath);
        let urls = [];
        this.PushUrl(urls);
        for (let url of urls) {
            _Res_LTRes__WEBPACK_IMPORTED_MODULE_0__["default"].Unload(url.url);
        }
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/FGui/SelfADHelper.ts":
/*!***********************************************!*\
  !*** ./src/LTGame/UIExt/FGui/SelfADHelper.ts ***!
  \***********************************************/
/*! exports provided: SelfADHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelfADHelper", function() { return SelfADHelper; });
/* harmony import */ var _DefaultUI_Cmp_View_OtherGames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_OtherGames */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_OtherGames.ts");
/* harmony import */ var _DefaultUI_Cmp_View_HotGame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_HotGame */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_HotGame.ts");
/* harmony import */ var _DefaultUI_Cmp_View_NativeInpage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_NativeInpage */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_NativeInpage.ts");
/* harmony import */ var _DefaultUI_Cmp_View_NativeIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_NativeIcon */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_NativeIcon.ts");
/* harmony import */ var _DefaultUI_Cmp_View_BottomGames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_BottomGames */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_BottomGames.ts");
/* harmony import */ var _DefaultUI_Cmp_View_SideGames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_SideGames */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_SideGames.ts");
/* harmony import */ var _DefaultUI_Cmp_View_EndSlideGames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_EndSlideGames */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_EndSlideGames.ts");
/* harmony import */ var _DefaultUI_Cmp_View_WxSideGames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_WxSideGames */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_WxSideGames.ts");
/* harmony import */ var _DefaultUI_Cmp_View_End3X3Games__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_End3X3Games */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_End3X3Games.ts");
/* harmony import */ var _DefaultUI_Cmp_View_HotGames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../DefaultUI/Cmp/View_HotGames */ "./src/LTGame/UIExt/DefaultUI/Cmp/View_HotGames.ts");










class SelfADHelper {
    static InitSelfAD(ui) {
        let othergames = _DefaultUI_Cmp_View_OtherGames__WEBPACK_IMPORTED_MODULE_0__["default"].CreateView(ui['m___othergames']);
        if (othergames) {
            ui['m___othergames'] = othergames.ui;
        }
        else {
            ui['m___othergames'] = null;
        }
        let hotGame = _DefaultUI_Cmp_View_HotGame__WEBPACK_IMPORTED_MODULE_1__["default"].CreateView(ui['m___hotgame']);
        if (hotGame) {
            ui['m___hotgame'] = hotGame.ui;
        }
        else {
            ui['m___hotgame'] = null;
        }
        let hotGames = _DefaultUI_Cmp_View_HotGames__WEBPACK_IMPORTED_MODULE_9__["default"].CreateView(ui['m___hotgames']);
        if (hotGames) {
            ui['m___hotgames'] = hotGames.ui;
        }
        else {
            ui['m___hotgames'] = null;
        }
        let nativeinpage = _DefaultUI_Cmp_View_NativeInpage__WEBPACK_IMPORTED_MODULE_2__["View_NativeInPage"].CreateView(ui['m___nativeinpage']);
        if (nativeinpage) {
            ui['m___nativeinpage'] = nativeinpage;
        }
        else {
            ui['m___nativeinpage'] = null;
        }
        let nativeicon = _DefaultUI_Cmp_View_NativeIcon__WEBPACK_IMPORTED_MODULE_3__["View_NativeIcon"].CreateView(ui['m___nativeicon']);
        if (nativeicon) {
            ui['m___nativeicon'] = nativeicon;
        }
        else {
            ui['m___nativeicon'] = null;
        }
        let bottomgames = _DefaultUI_Cmp_View_BottomGames__WEBPACK_IMPORTED_MODULE_4__["default"].CreateView(ui['m___bottomgames']);
        if (bottomgames) {
            ui['m___bottomgames'] = bottomgames.ui;
        }
        else {
            ui['m___bottomgames'] = null;
        }
        let sidegames = _DefaultUI_Cmp_View_SideGames__WEBPACK_IMPORTED_MODULE_5__["default"].CreateView(ui['m___sidegames']);
        if (sidegames) {
            ui['m___sidegames'] = sidegames.ui;
        }
        else {
            ui['m___sidegames'] = null;
        }
        let endslide = _DefaultUI_Cmp_View_EndSlideGames__WEBPACK_IMPORTED_MODULE_6__["default"].CreateView(ui['m___endSG']);
        if (endslide) {
            ui['m___endSG'] = endslide.ui;
        }
        else {
            ui['m___endSG'] = null;
        }
        let m___wxSG = _DefaultUI_Cmp_View_WxSideGames__WEBPACK_IMPORTED_MODULE_7__["default"].CreateView(ui['m___wxSG']);
        if (m___wxSG) {
            ui['m___wxSG'] = m___wxSG.ui;
        }
        else {
            ui['m___wxSG'] = null;
        }
        let end3x3 = _DefaultUI_Cmp_View_End3X3Games__WEBPACK_IMPORTED_MODULE_8__["default"].CreateView(ui['m___end3x3']);
        if (end3x3) {
            ui['m___end3x3'] = end3x3.ui;
        }
        else {
            ui['m___end3x3'] = null;
        }
    }
}


/***/ }),

/***/ "./src/LTGame/UIExt/LTUI.ts":
/*!**********************************!*\
  !*** ./src/LTGame/UIExt/LTUI.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTUI; });
/* harmony import */ var _DefaultUI_UI_CommomToastMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DefaultUI/UI_CommomToastMediator */ "./src/LTGame/UIExt/DefaultUI/UI_CommomToastMediator.ts");
/* harmony import */ var _DefaultUI_UI_CommonLoadMediator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DefaultUI/UI_CommonLoadMediator */ "./src/LTGame/UIExt/DefaultUI/UI_CommonLoadMediator.ts");
/* harmony import */ var _DefaultUI_UI_CommonLockScreenMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DefaultUI/UI_CommonLockScreenMediator */ "./src/LTGame/UIExt/DefaultUI/UI_CommonLockScreenMediator.ts");
/* harmony import */ var _DefaultUI_UI_FlyPanelMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DefaultUI/UI_FlyPanelMediator */ "./src/LTGame/UIExt/DefaultUI/UI_FlyPanelMediator.ts");




class LTUI {
    static SetCommonBtnClickCB(handle) {
        handle.once = false;
        this._cacheBtnHandle = handle;
    }
    static TrigerBtnClick() {
        if (this._cacheBtnHandle) {
            this._cacheBtnHandle.run();
        }
    }
    static Toast(str) {
        console.log("[Toast]" + str);
        _DefaultUI_UI_CommomToastMediator__WEBPACK_IMPORTED_MODULE_0__["default"].instance.Show(str);
    }
    static ShowLoading(str, isBig = false) {
        if (_DefaultUI_UI_CommonLoadMediator__WEBPACK_IMPORTED_MODULE_1__["default"].instance.isShow) {
            console.log("加载弹窗界面已打开");
            return;
        }
        _DefaultUI_UI_CommonLoadMediator__WEBPACK_IMPORTED_MODULE_1__["default"].instance.Show([str, isBig]);
    }
    static HideLoading() {
        _DefaultUI_UI_CommonLoadMediator__WEBPACK_IMPORTED_MODULE_1__["default"].instance.Hide();
    }
    static BoomObjs(fromObj, boomCount = 10, flyTime = 1, circleRadius = 60) {
        return __awaiter(this, void 0, void 0, function* () {
            yield _DefaultUI_UI_FlyPanelMediator__WEBPACK_IMPORTED_MODULE_3__["default"].instance.BoomObjs(fromObj, boomCount, flyTime, circleRadius);
        });
    }
    static FlyObjsTo(fromObj, toObj, flyCount = 10, flyTime = 1, circleRadius = 60) {
        return __awaiter(this, void 0, void 0, function* () {
            yield _DefaultUI_UI_FlyPanelMediator__WEBPACK_IMPORTED_MODULE_3__["default"].instance.FlyObjs(fromObj, toObj, flyCount, flyTime, circleRadius);
        });
    }
    static FlyCoinsTo(fromObj, toObj, flyIcon = null, flyCount = 10, flyTime = 1, circleRadius = 60) {
        return __awaiter(this, void 0, void 0, function* () {
            yield _DefaultUI_UI_FlyPanelMediator__WEBPACK_IMPORTED_MODULE_3__["default"].instance.FlyCoins(fromObj, toObj, flyIcon, flyCount, flyTime, circleRadius);
        });
    }
    static BoomCoins(fromObj, flyIcon = null, flyCount = 10, flyTime = 1, circleRadius = 60) {
        return __awaiter(this, void 0, void 0, function* () {
            yield _DefaultUI_UI_FlyPanelMediator__WEBPACK_IMPORTED_MODULE_3__["default"].instance.BoomCoins(fromObj, flyIcon, flyCount, flyTime, circleRadius);
        });
    }
    static LockScreen() {
        _DefaultUI_UI_CommonLockScreenMediator__WEBPACK_IMPORTED_MODULE_2__["default"].instance.Show();
    }
    static UnlockScreen() {
        _DefaultUI_UI_CommonLockScreenMediator__WEBPACK_IMPORTED_MODULE_2__["default"].instance.Hide();
    }
}


/***/ }),

/***/ "./src/SDK/Impl/SDK_CQ.ts":
/*!********************************!*\
  !*** ./src/SDK/Impl/SDK_CQ.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SDK_CQ; });
/* harmony import */ var _LTGame_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/Net/LTHttp */ "./src/LTGame/Net/LTHttp.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_Platform_ShareInfo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/Platform/ShareInfo */ "./src/LTGame/Platform/ShareInfo.ts");
/* harmony import */ var _LTGame_Platform_ShareManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/Platform/ShareManager */ "./src/LTGame/Platform/ShareManager.ts");
/* harmony import */ var _common_ECheckState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _LTSDK__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _SDK_Default__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SDK_Default */ "./src/SDK/Impl/SDK_Default.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../LTGame/LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");












class SDK_CQ extends _SDK_Default__WEBPACK_IMPORTED_MODULE_9__["default"] {
    constructor() {
        super(...arguments);
        /**openid */
        this.uid = "sdk_test";
        this.enableDebug = true;
        this._headPrefix = "https://games.api.gugudang.com";
    }
    Init(flg, channel, controlVersion, appId) {
        super.Init(flg, channel, controlVersion, appId);
        this._RequestShareInfo();
        // this.RecordRankInfo(1, 0); 
    }
    _RequestShareInfo() {
        let uid = this.appId;
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) {
            uid = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey;
        }
        let sendData = {
            appid: uid,
        };
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/shares", Laya.Handler.create(this, this._OnRequestShareInfo), Laya.Handler.create(this, (res) => {
            console.log("获取分享接口访问失败", res);
        }), true, sendData);
    }
    reportShareInfo(videoId, shareId) {
        let sendData = {
            appid: this.appId,
            openId: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.uid,
            videoId: videoId,
            shareId: shareId
        };
        try {
            _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/share/video/post", Laya.Handler.create(this, () => {
                console.log('ShareVideo上报成功');
            }), Laya.Handler.create(this, (res) => {
                console.log("ShareVideo上报失败", res);
            }), true, sendData);
        }
        catch (error) {
            console.error(error);
        }
    }
    /**
     * 按关卡上报排名
     * @param levelID 关卡
     * @param score 分数/时长
     */
    RecordRankInfo(levelID, score) {
        return __awaiter(this, void 0, void 0, function* () {
            if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_11__["default"].IsNullOrEmpty(_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName)) {
                yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.getUserInfo();
            }
            if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_11__["default"].IsNullOrEmpty(_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName)) {
                return _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_10__["default"].Toast("获取用户信息失败");
            }
            let appid = this.appId;
            if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) {
                appid = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey;
            }
            let sendData = {
                appid: appid,
                openId: _LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.uid,
                times: score,
                nickname: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName,
                avatar: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.avatarUrl,
                type: levelID
            };
            _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/rank/times", Laya.Handler.create(this, this._OnRcordRank), Laya.Handler.create(this, (res) => {
                console.log("上报排名接口失败", res);
            }), true, sendData);
        });
    }
    onGetAdlist(res) {
        let adJson = JSON.parse(res);
        if (adJson.code == 1) {
            console.log("拉取到广告信息", adJson.data.length, "条");
            let fakePosId = 0;
            for (let posAd of adJson.data) {
                let adList = [];
                fakePosId = parseInt(posAd.code);
                for (let ad of posAd.ads) {
                    let adData = {};
                    adData.ad_appid = ad.appid;
                    adData.ad_id = ad.id;
                    adData.ad_img = ad.logo;
                    adData.ad_name = ad.name;
                    adData.ad_path = ad.path;
                    adData.ad_package = ad.path;
                    adData.ad_count = ad.player;
                    adData.ad_dot = ad.dot;
                    adData.ad_device = ad.device;
                    if (adData.ad_appid != this.appId) {
                        adList.push(adData);
                    }
                }
                // 加入广告控制器
                adList = adList.sort((a, b) => {
                    return b.ad_count - a.ad_count;
                });
                this.adManager.InitADs(fakePosId, adList);
            }
        }
    }
    /**查询周排名
     * @param levelID 关卡
     * @param score 分数/时长
    * @param onGetList 回调处理
     */
    GetWeekRankList(levelID, score, onGetList, count = 30) {
        return __awaiter(this, void 0, void 0, function* () {
            if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_11__["default"].IsNullOrEmpty(_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName)) {
                console.error('登录信息未获取');
                yield (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance).getUserInfo();
            }
            if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_11__["default"].IsNullOrEmpty(_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName)) {
                return _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_10__["default"].Toast("获取用户信息失败");
            }
            let appid = this.appId;
            if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) {
                appid = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey;
            }
            let sendData = {
                appid: appid,
                openId: _LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.uid,
                times: score,
                nickname: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName,
                avatar: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.avatarUrl,
                type: levelID,
                count: count
            };
            // LTHttp.Send(this._headPrefix + "/api/rank/week/time", Laya.Handler.create(this, this._OnGetRankList), Laya.Handler.create(this, (res) => {
            //     console.log("获取单日排行接口访问失败", res);
            // }), true, sendData);
            _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/rank/week/time", Laya.Handler.create(this, onGetList), Laya.Handler.create(this, (res) => {
                console.log("获取周排行接口访问失败", res);
            }), true, sendData);
        });
    }
    /**
     * 查询日排名
     * @param levelID 关卡
     * @param score 分数/时长
     * @param onGetList 回调处理
     */
    GetDayRankList(levelID, score, onGetList, count = 10) {
        return __awaiter(this, void 0, void 0, function* () {
            if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_11__["default"].IsNullOrEmpty(_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName)) {
                console.error('登录信息未获取');
                yield (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance).getUserInfo();
            }
            if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_11__["default"].IsNullOrEmpty(_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName)) {
                return _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_10__["default"].Toast("获取用户信息失败");
            }
            let appid = this.appId;
            if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) {
                appid = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey;
            }
            let sendData = {
                appid: appid,
                openId: _LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.uid,
                times: score,
                type: levelID,
                count: count,
                nickname: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.nickName,
                avatar: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.avatarUrl,
            };
            _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/rank/day/time", Laya.Handler.create(this, onGetList), Laya.Handler.create(this, (res) => {
                console.log("获取当天排行接口访问失败", res);
            }), true, sendData);
        });
    }
    _OnRcordRank(res) {
        let getObj = JSON.parse(res);
        if (this.enableDebug) {
            console.log("上报排名返回消息", getObj);
        }
        if (getObj.code == 1) {
            console.log('排名上报成功');
        }
        else {
            console.error("上报排名接口返回错误", getObj);
        }
    }
    _OnGetRankList(res) {
        let getObj = JSON.parse(res);
        if (this.enableDebug) {
            console.log("获取排名返回消息", getObj);
        }
        if (getObj.code == 1) {
            console.log('获取排名成功');
        }
        else {
            console.error("获取排名接口返回错误", getObj);
        }
    }
    _OnRequestShareInfo(res) {
        let getObj = JSON.parse(res);
        if (this.enableDebug) {
            console.log("分享返回消息", getObj);
        }
        if (getObj.code == 1) {
            let shareInfo = getObj.data;
            if (shareInfo == null) {
                console.log("未获取到配置的分享信息");
                return;
            }
            let wrapShareInfo = new _LTGame_Platform_ShareInfo__WEBPACK_IMPORTED_MODULE_5__["ShareInfo"]();
            wrapShareInfo.shareId = shareInfo.id;
            wrapShareInfo.shareImg = shareInfo.picurl;
            wrapShareInfo.shareTitle = shareInfo.title;
            _LTGame_Platform_ShareManager__WEBPACK_IMPORTED_MODULE_6__["default"].instance.AddShareInfo(wrapShareInfo);
        }
        else {
            console.error("分享接口返回错误", getObj);
        }
    }
    ReportShowAd(adList) {
        console.log("功能暂未实现");
    }
    ReportClickAd(adid, locationId, jumpSuccess, scene = 'defalut_scene') {
        let appid = this.appId;
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo) {
            appid = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey;
        }
        let sendData = {
            appid: appid,
            openId: _LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.uid,
            adId: adid,
            code: locationId,
            scene: scene,
            status: jumpSuccess ? 1 : 0
        };
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/ads/click/post", Laya.Handler.create(this, (res) => {
            console.log("广告点击上报成功", res);
        }), Laya.Handler.create(this, (res) => {
            console.log("广告点击上报失败", res);
        }), true, sendData);
    }
    RequestADList() {
        let sendData = {
            appid: _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo ? _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey : this.appId,
            openId: _LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.uid
        };
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].TT || _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Web) {
            sendData.appid = "88888888";
        }
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].WX) {
            sendData.appid = "wx88888888";
        }
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/ads/get", Laya.Handler.create(this, this.onGetAdlist), Laya.Handler.create(this, (res) => {
            console.log("广告信息获取失败", res);
        }), true, sendData);
    }
    RequestRemoteConfig() {
        let uid = this.appId;
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo || _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo) {
            uid = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey;
        }
        let sendData = {
            appid: uid,
            version: this.controlVersion
        };
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/game/config", Laya.Handler.create(this, this._OnRemoteConfigBack), Laya.Handler.create(this, (res) => {
            console.log("云控HTTP访问失败", res);
        }), true, sendData);
    }
    /**
     * 获取云控配置回调
     * @param res
     */
    _OnRemoteConfigBack(res) {
        // 防止后台配置错误
        if (res.status == null) {
            res = JSON.parse(res);
        }
        if (this.enableDebug)
            console.log("云控返回消息:", res);
        this.configs.isADEnable = false;
        this.isConfigEnable = true;
        if (res.code == 1) {
            // 成功
            let result = res.data;
            if (result) {
                console.log('如果需要在重庆后台 配置参数 ');
                if (result['payRate']) {
                    this.configs.payRate = parseInt(result['payRate']);
                }
                if (result['isDelayClose']) {
                    this.configs.isDelayClose = (result['isDelayClose']) == "1";
                }
                if (result['isShielding']) {
                    this.configs.isShielding = "1" == (result['isShielding']);
                }
                if (result["isADEnable"]) {
                    this.configs.isADEnable = "1" == (result["isADEnable"]);
                }
                if (result['isNavEnable']) {
                    this.configs.isNavEnable = result['isNavEnable'] == '1';
                }
                if (result["gamecenterLevel"]) {
                    this.configs.gamecenterLevel = parseInt(result['gamecenterLevel']);
                }
                if (result['nativePayRate']) {
                    this.configs.nativePayRate = parseInt(result['nativePayRate']);
                }
                if (result['nativeClickCount']) {
                    this.configs.nativeClickCount = parseInt(result['nativeClickCount']);
                }
                if (result['changeEnable']) {
                    this.configs.changeEnable = result['changeEnable'] == '1';
                }
                if (result["gamecenterLevel"]) {
                    this.configs.gamecenterLevel = parseInt(result['gamecenterLevel']);
                }
                if (result['navLevels']) {
                    let arr = (result['navLevels']).split(',');
                    for (let item in arr) {
                        this.navLevels.push(parseInt(arr[item]));
                    }
                }
                if (result['checkState']) {
                    this.checkState = parseInt(result['checkState']);
                }
                else {
                    this.checkState = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo ? _common_ECheckState__WEBPACK_IMPORTED_MODULE_7__["ECheckState"].InCheck : _common_ECheckState__WEBPACK_IMPORTED_MODULE_7__["ECheckState"].Normal;
                }
                if (result['nowtime']) {
                    this.configs.severTime = result['nowtime'];
                }
                if (result['shieldHours']) {
                    this.configs.shieldHours = result['shieldHours'].split(',');
                }
            }
            else {
                console.log("未读取到后台信息,默认为打开状态");
            }
        }
        else {
            // 失败
            console.error("云控消息返回失败", res);
        }
        this._UpdateCheckState();
        if (this.controlVersion) {
            this.RequestADList();
        }
        this.isADConfigInited = true;
        Laya.stage.event(_LTGame_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_0__["CommonEventId"].AD_CONFIG_GETTED);
    }
    _UpdateCheckState() {
        console.log('审核--重庆后台配置', `审核状态:${_common_ECheckState__WEBPACK_IMPORTED_MODULE_7__["ECheckState"][this.checkState]}`);
        if (this.isShielding || this.checkState == _common_ECheckState__WEBPACK_IMPORTED_MODULE_7__["ECheckState"].InCheck) {
            //屏蔽洗钱 
            this.configs.payRate = 0;
            this.configs.nativeClickCount = 0;
            this.configs.nativePayRate = 0;
            this.configs.changeEnable = false;
            this.navLevels = [];
            this.configs.gamecenterLevel = 1000;
        }
        else {
            //工作时时段屏蔽 
            let date = this.configs.severTime.substr(0, 10).replace(/\-/g, '');
            //2021-04-25 11:41:11
            let h = this.configs.severTime.substr(11, 2);
            let isHoliday = this.configs.holiday != 0;
            if (isHoliday) {
                console.log('假期休息', date, h);
            }
            else {
                console.log('工作日', date, h);
                if (this.configs.shieldHours && this.configs.shieldHours.indexOf(h) >= 0) {
                    console.log('工作', this.configs.shieldHours, h);
                    // this.payRate = 0;
                    this.navLevels = [];
                }
            }
        }
        console.log(`${this.appId}---云控版本为:${this.controlVersion}`, "配置信息：", this.configs);
    }
    Login(code, fromAppId) {
        console.log('登录参数：code:', code);
        let appid = (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Oppo || _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].Vivo) ? _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platformData.appKey : this.appId;
        let sendData = {
            appid: appid,
            // flg: this.flg,
            code: code,
            channel: 'own',
            version: this.controlVersion
        };
        if (this.channel) {
            sendData["channel"] = this.channel;
        }
        if (fromAppId) {
            sendData["fappid"] = fromAppId;
        }
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/login", Laya.Handler.create(this, this._OnAuthSuccess), Laya.Handler.create(this, (res) => {
            console.log("登录HTTP访问失败", res);
        }), true, sendData);
    }
    _OnAuthSuccess(res) {
        if (this.enableDebug)
            console.log("SDK登录回调触发", res);
        res = JSON.parse(res);
        if (res.code == 1) {
            // 成功
            this._OnLoginSuccess(res);
        }
        else {
            this._OnLoginFailed(res);
        }
    }
    _OnLoginSuccess(res) {
        console.log("SDK登录成功", res);
        this.uid = res.openid;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.uid = res.openid;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].SaveToDisk();
        this.ReportDaily();
        this.reportFromVideo();
    }
    _OnLoginFailed(res) {
        console.error("SDK登录失败", this.appId, res);
        this.ReportDaily();
        this.reportFromVideo();
    }
    /**上报视频来源用户*/
    reportFromVideo() {
        // if (!this.reportEnable) return;
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].TT && _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isDouyin) {
            try {
                let query = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.lauchOption.query;
                let fromId = 'ytlj';
                let shareId = `ytlj_scene|${_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.lauchOption.scene}`;
                let fromChannel = 'own';
                if (query) {
                    if (query.openId) {
                        fromId = query.openId;
                    }
                    if (query.shareId) {
                        shareId = query.shareId;
                    }
                    if (query.channelId) {
                        fromChannel = query.channelId;
                    }
                    if (fromChannel == 'own' || fromChannel == 'undefined') {
                        return console.log('非渠道来源用户');
                    }
                    let sendData = {
                        appid: this.appId,
                        fromId: `${fromId}|${fromChannel}`,
                        openId: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.uid,
                        shareId: shareId
                    };
                    console.log(sendData);
                    _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/share/start/report", Laya.Handler.create(this, () => {
                        console.log('上报视频来源用户 上报成功');
                    }), Laya.Handler.create(this, (res) => {
                        console.log(" 上报视频来源用户 上报失败", res);
                    }), true, sendData);
                }
                else {
                    console.log('非渠道来源用户');
                }
            }
            catch (error) {
                console.error(error);
            }
        }
    }
    ReportStat(isShare, sid) {
        console.log("功能暂未实现");
    }
    ReportDaily() {
        let fappid = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.GetFromAppId();
        let channel = fappid ? fappid : _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.channelId;
        let sendData = {
            appid: this.appId,
            channel: channel,
            timeRub: this.timeRub,
            randomNum: this.randomNum,
            fappid: fappid,
            ttId: _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.uid
        };
        console.log(sendData);
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_2__["default"].Send(this._headPrefix + "/api/vus/user/repost", Laya.Handler.create(this, () => {
            console.log('上报日活成功');
        }), Laya.Handler.create(this, (res) => {
            console.log(" 上报日活失败", res);
        }), true, sendData);
    }
}


/***/ }),

/***/ "./src/SDK/Impl/SDK_Default.ts":
/*!*************************************!*\
  !*** ./src/SDK/Impl/SDK_Default.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SDK_Default; });
/* harmony import */ var _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Net/LTHttp */ "./src/LTGame/Net/LTHttp.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _common_ECheckState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/ECheckState */ "./src/SDK/common/ECheckState.ts");
/* harmony import */ var _Interface_ISDK__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Interface/ISDK */ "./src/SDK/Interface/ISDK.ts");
/* harmony import */ var _SDKADManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../SDKADManager */ "./src/SDK/SDKADManager.ts");
/* harmony import */ var _LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _Libs_md5_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../Libs/md5.js */ "./src/SDK/Libs/md5.js");








class SDK_Default {
    constructor() {
        this.uid = "";
    }
    get isShielding() {
        return this.configs.isShielding;
    }
    get isDelayClose() {
        return this.configs.isDelayClose;
    }
    get isADEnable() {
        return this.configs.isADEnable;
    }
    get isNavEnable() {
        return this.configs.isNavEnable;
    }
    get isInCheck() {
        return this.checkState == _common_ECheckState__WEBPACK_IMPORTED_MODULE_2__["ECheckState"].InCheck;
    }
    Init(flg, channel, controlVersion, appid) {
        this.timeRub = Date.now();
        this.randomNum = Math.random().toString(36).substr(2, 8);
        this.configs = new _Interface_ISDK__WEBPACK_IMPORTED_MODULE_3__["RemoteConfig"]();
        this.isADConfigInited = true;
        this.navLevels = [];
        this.configs.payRate = 0;
        this.checkState = _common_ECheckState__WEBPACK_IMPORTED_MODULE_2__["ECheckState"].Normal;
        this.isConfigEnable = true;
        this.flg = flg;
        this.channel = channel;
        this.controlVersion = controlVersion;
        this.appId = appid;
        if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_5__["default"].IsNullOrEmpty(_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].instance.uid)) {
            let uuid = _Libs_md5_js__WEBPACK_IMPORTED_MODULE_7__["default"].hex_md5(`${this.appId}#${this.timeRub}#${this.randomNum}#43b49394197b65540979c7143da7c8a8`);
            _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].instance.uid = uuid;
            _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].SaveToDisk();
        }
        this.uid = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].instance.uid;
        this.configs.severTime = "";
        this.configs.shieldHours = [];
        this.adManager = new _SDKADManager__WEBPACK_IMPORTED_MODULE_4__["default"]();
        console.log("SDK:Init", this);
    }
    getToken() {
        return new Promise((resolve, rej) => {
            if (this.token) {
                resolve(this.token);
            }
            else {
                let sendData = {
                    appid: _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platformData.appId
                };
                _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send('https://games.api.gugudang.com//api/get/youxi/token', Laya.Handler.create(this, (res) => {
                    console.log(res);
                    res = JSON.parse(res);
                    if (res && res.code == 0) {
                        this.token = res.data.data.access_token;
                        resolve(this.token);
                    }
                    else {
                        rej(null);
                    }
                }), null, true, sendData);
            }
        });
    }
    reportShareInfo(videoId, shareId) {
    }
    _OnGetSelfAdInfosFailed(res) {
        console.error("拉取到广告信息失败", res);
    }
    _OnGetSelfAdInfos(res) {
        let adJson = JSON.parse(res);
        console.log("拉取到广告信息", adJson.length, "条");
        let fakePosId = 0;
        let adList = [];
        for (let fakeAd of adJson) {
            let adData = {};
            adData.ad_appid = fakeAd.id;
            adData.ad_img = fakeAd.icon;
            adData.ad_name = fakeAd.title;
            adData.ad_package = fakeAd.package;
            if (adData.ad_appid != this.appId) {
                adList.push(adData);
            }
        }
        // 加入广告控制器
        this.adManager.InitADs(fakePosId, adList);
    }
    Login(code, fromAppId) {
        console.log("SDK:Login", code, fromAppId);
    }
    RequestRemoteConfig() {
        console.log("SDK:RequestRemoteConfig");
    }
    /**导流用的图片 */
    RequestADList() {
        let configFile = 'SelfAdConfig.json';
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send(`https://file.gugudang.com/res/down/public/configs/${configFile}`, Laya.Handler.create(this, this._OnGetSelfAdInfos), Laya.Handler.create(this, this._OnGetSelfAdInfosFailed), true);
    }
    ReportClickAd(ad_id, locationId, jumpSuccess) {
        console.log("SDK:ReportClickAd", ad_id);
    }
    ReportShowAd(adList) {
        console.log("SDK:ReportShowAd", adList);
    }
    ReportStat(isShare, sid) {
        console.log("SDK:ReportStat", isShare, sid);
    }
    ReportLogin() {
    }
    ReportDaily() { }
    /**查询周排名
* @param levelID 关卡
* @param score 分数/时长
* @param onGetList 回调处理
*/
    GetWeekRankList(levelID, score, onGetList) {
    }
    /**查询日排名
   * @param levelID 关卡
   * @param score 分数/时长
    *@param onGetList 回调处理
   */
    GetDayRankList(levelID, score, onGetList) {
    }
    /**
     * 按关卡上报排名
     * @param levelID 关卡
     * @param score 分数/时长
     */
    RecordRankInfo(levelID, score) {
    }
}


/***/ }),

/***/ "./src/SDK/Impl/SDK_YQ.ts":
/*!********************************!*\
  !*** ./src/SDK/Impl/SDK_YQ.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SDK_YQ; });
/* harmony import */ var _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Net/LTHttp */ "./src/LTGame/Net/LTHttp.ts");
/* harmony import */ var _SDKADManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../SDKADManager */ "./src/SDK/SDKADManager.ts");
/* harmony import */ var _LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _Libs_hmac_sha256_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../Libs/hmac-sha256.js */ "./src/SDK/Libs/hmac-sha256.js");
/* harmony import */ var _Libs_md5_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../Libs/md5.js */ "./src/SDK/Libs/md5.js");
/* harmony import */ var _LTGame_Platform_ShareManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/Platform/ShareManager */ "./src/LTGame/Platform/ShareManager.ts");
/* harmony import */ var _LTGame_Platform_ShareInfo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/Platform/ShareInfo */ "./src/LTGame/Platform/ShareInfo.ts");
/* harmony import */ var _SDK_Default__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SDK_Default */ "./src/SDK/Impl/SDK_Default.ts");
/* harmony import */ var _common_ECheckState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/ECheckState */ "./src/SDK/common/ECheckState.ts");









class SDK_YQ extends _SDK_Default__WEBPACK_IMPORTED_MODULE_7__["default"] {
    constructor() {
        super(...arguments);
        this.uid = "sdk_test";
        this.enableDebug = false;
    }
    Init(flg, channel, controlVersion, appId) {
        this.flg = flg;
        this.channel = channel;
        this.controlVersion = controlVersion;
        this.appId = appId;
        this.isADEnable = false;
        this.isConfigEnable = false;
        this.checkState = _common_ECheckState__WEBPACK_IMPORTED_MODULE_8__["ECheckState"].Normal;
        this.adManager = new _SDKADManager__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    ReportShowAd(adList) {
        let reportData = {};
        reportData["gflg"] = this.flg;
        reportData["channel"] = this.channel;
        reportData["data"] = adList;
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send("https://api.yz061.com/exposure", Laya.Handler.create(this, (res) => { console.log('ad SHow', reportData, res); }), null, false, reportData);
    }
    ReportClickAd(ad_id, locationId, jumpSuccess) {
        let reportData = {};
        reportData["gflg"] = this.flg;
        reportData["uid"] = this.uid;
        reportData["ad_id"] = ad_id;
        reportData["location_id"] = locationId;
        reportData["channel"] = this.channel;
        if (jumpSuccess) {
            reportData["status"] = "cb";
        }
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send("https://api.yz061.com/reportad", Laya.Handler.create(this, (res) => { console.log('ad click', reportData, res); }), null, false, reportData);
    }
    RequestADList() {
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send("https://api.yz061.com/game/" + this.flg, Laya.Handler.create(this, this._OnGetADList), Laya.Handler.create(this, (res) => {
            console.log("请求广告位HTTP访问失败", res);
        }), true);
    }
    ReportLogin() {
        let reportData = {};
        reportData["flg"] = this.flg;
        reportData["uid"] = this.uid;
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send("https://api.yz061.com/matter/report", Laya.Handler.create(this, (res) => { console.log('report login', reportData, res); }), null, false, reportData);
    }
    /**
     * 获取广告位列表回调
     * @param res
     */
    _OnGetADList(res) {
        if (res.status == null) {
            res = JSON.parse(res);
        }
        if (this.enableDebug)
            console.log("获取到广告位信息:", res);
        if (res.status == 1) {
            for (let item of res.result) {
                let adItem = item;
                this._RequestADListOnPos(adItem);
            }
        }
        else {
            console.error("获取广告位信息失败", res);
        }
    }
    _RequestADListOnPos(adPosData) {
        if (this.enableDebug)
            console.log("请求具体位置广告信息:", adPosData);
        // 广告
        if (adPosData.matter_type == 1) {
            _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send(adPosData.url, Laya.Handler.create(this, (res) => {
                if (res.status == null) {
                    res = JSON.parse(res);
                }
                if (this.enableDebug)
                    console.log("获取到广告位具体信息:", res);
                if (res.status == 1) {
                    let adList = [];
                    for (let item of res.result) {
                        let adInfo = item;
                        if (adInfo.ad_device == 0) {
                            // 全加入
                            adList.push(adInfo);
                        }
                        else if (adInfo.ad_device == 1 && Laya.Browser.onAndroid) {
                            // android设备加入
                            adList.push(adInfo);
                        }
                        else if (adInfo.ad_device == 2 && Laya.Browser.onIOS) {
                            // ios设备加入
                            adList.push(adInfo);
                        }
                    }
                    if (adList.length > 0) {
                        // 加入广告控制器
                        this.adManager.InitADs(adPosData.location_id, adList);
                    }
                }
                else {
                    console.error("获取广告位具体信息失败", res);
                }
            }), Laya.Handler.create(this, (res) => {
                console.log("请求具体广告信息HTTP访问失败", res);
            }), true, { uid: this.uid });
        }
        else if (adPosData.matter_type == 2) {
            // 分享
            _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send(adPosData.url, Laya.Handler.create(this, (res) => {
                if (res != null) {
                    res = JSON.parse(res);
                }
                if (this.enableDebug)
                    console.log("获取到分享具体信息:", res);
                if (res.status == 1) {
                    for (let item of res.result) {
                        let shareInfo = item;
                        let wrapShareInfo = new _LTGame_Platform_ShareInfo__WEBPACK_IMPORTED_MODULE_6__["ShareInfo"]();
                        wrapShareInfo.shareId = shareInfo.share_id;
                        wrapShareInfo.shareImg = shareInfo.share_img;
                        wrapShareInfo.sharePath = shareInfo.share_path;
                        wrapShareInfo.shareTitle = shareInfo.share_title;
                        _LTGame_Platform_ShareManager__WEBPACK_IMPORTED_MODULE_5__["default"].instance.AddShareInfo(wrapShareInfo);
                    }
                }
                else {
                    console.error("获取分享具体信息失败", res);
                }
            }), Laya.Handler.create(this, (res) => {
                console.log("请求分享信息HTTP访问失败", res);
            }), true, { uid: this.uid });
        }
    }
    RequestRemoteConfig() {
        let sendData = {
            flg: this.flg
        };
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send("https://api.yz061.com/additional", Laya.Handler.create(this, this._OnRemoteConfigBack), Laya.Handler.create(this, (res) => {
            console.log("云控HTTP访问失败", res);
        }), true, sendData);
    }
    /**
     * 获取云控配置回调
     * @param res
     */
    _OnRemoteConfigBack(res) {
        // 防止后台配置错误
        if (res) {
            res = JSON.parse(res);
        }
        console.log("云控返回消息:", res);
        if (res.status == 1) {
            // 成功
            let result = res.result;
            if (result != null) {
                let config = result["config"];
                let ad = result["ad"];
                for (let key in config) {
                    if (key == this.controlVersion) {
                        this.isConfigEnable = config[key] == "1" && this.channel != "own";
                        break;
                    }
                }
                for (let key in ad) {
                    if (key == this.controlVersion) {
                        console.log('YQ ad:', key, ad[key]);
                        this.isADEnable = (ad[key] == "1");
                        break;
                    }
                }
            }
        }
        else {
            // 失败
            console.error("云控消息返回失败", res);
            this.isADEnable = false;
            this.isConfigEnable = false;
        }
        if (!this.isADEnable) {
            this.checkState = _common_ECheckState__WEBPACK_IMPORTED_MODULE_8__["ECheckState"].Normal;
        }
        console.log("云控版本为:", this.controlVersion, "config:", this.isConfigEnable, "ad:", this.isADEnable);
        if (this.controlVersion) {
            this.RequestADList();
        }
    }
    Login(code, fromAppId) {
        console.log('登录YQ', code, fromAppId);
        let sendData = {
            flg: this.flg,
            code: code
        };
        if (this.channel) {
            sendData["channel"] = this.channel;
        }
        if (fromAppId) {
            sendData["appid"] = fromAppId;
        }
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send("https://api.yz061.com/auth", Laya.Handler.create(this, this._OnAuthSuccess), Laya.Handler.create(this, (res) => {
            console.log("登录HTTP访问失败", res);
        }), true, sendData);
    }
    _OnAuthSuccess(res) {
        res = JSON.parse(res);
        if (this.enableDebug)
            console.log("SDK登录回调触发", res);
        if (res.status == 1) {
            // 成功
            this._OnLoginSuccess(res.result);
            this.ReportLogin();
        }
        else {
            this._OnLoginFailed(res);
        }
    }
    canShowAds() {
    }
    ReportDaily() {
        let recordData = {};
        recordData["flg"] = this.flg;
        recordData["uid"] = this.uid;
        recordData["channel"] = this.channel;
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].Send("https://api.yz061.com/daily", null, null, false, recordData);
    }
    ReportStat(isShare, sid) {
        let recordData = {};
        recordData["flg"] = this.flg;
        recordData["channel"] = this.channel;
        recordData["loc"] = isShare ? "share" : "video";
        recordData["uid"] = this.uid;
        if (!_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_2__["default"].IsNullOrEmpty(sid)) {
            recordData["sid"] = sid;
        }
        let sign = this._CalcSign(recordData);
        _LTGame_Net_LTHttp__WEBPACK_IMPORTED_MODULE_0__["default"].SendPro("https://api.yz061.com/stat?sign=" + sign, Laya.Handler.create(null, (res) => {
            console.log("stat", res);
        }), null, "post", recordData);
    }
    _CalcSign(obj) {
        let keyList = Object.keys(obj).sort();
        let paramList = [];
        for (let key of keyList) {
            paramList.push(key + "=" + obj[key]);
        }
        let signStr = paramList.join("&");
        return _Libs_hmac_sha256_js__WEBPACK_IMPORTED_MODULE_3__["default"].HmacSHA256(signStr, _Libs_md5_js__WEBPACK_IMPORTED_MODULE_4__["default"].hex_md5(this.uid + this.flg)).toString();
    }
    _OnLoginSuccess(res) {
        console.log("SDK登录成功", res);
        this.uid = res.openid;
        this.ReportDaily();
    }
    _OnLoginFailed(res) {
        console.error("SDK登录失败", res);
    }
}


/***/ }),

/***/ "./src/SDK/Interface/ISDK.ts":
/*!***********************************!*\
  !*** ./src/SDK/Interface/ISDK.ts ***!
  \***********************************/
/*! exports provided: RemoteConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemoteConfig", function() { return RemoteConfig; });
class RemoteConfig {
    constructor() {
        this.holiday = 0;
        this.holidayName = "";
        this.holidayWeek = "1";
        this.isADEnable = false;
        this.isDelayClose = false;
        this.isShielding = false;
        this.isNavEnable = false;
        this.gamecenterLevel = 100;
        this.nativePayRate = 0;
        this.nativeClickCount = 0;
        this.changeEnable = true;
        this.shieldHours = [];
        this.severTime = "";
        this.payRate = 0;
        /**游戏中心关卡 */
        this.navLevels = [];
    }
}


/***/ }),

/***/ "./src/SDK/LTSDK.ts":
/*!**************************!*\
  !*** ./src/SDK/LTSDK.ts ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LTSDK; });
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _Impl_SDK_CQ__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Impl/SDK_CQ */ "./src/SDK/Impl/SDK_CQ.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");



class LTSDK {
    static get instance() {
        if (this._instance == null) {
            console.error("sdk尚未初始化,请先调用CreateInstance进行初始化");
            return null;
        }
        return this._instance;
    }
    static get isInited() {
        return this._instance != null;
    }
    /**
     *
     * @param sdkClass 初始化的类
     * @param identifyId 游戏标识
     * @param controlVersion 广告版本
     */
    static CreateInstace(sdkClass, identifyId, controlVersion, appId) {
        if (this._instance != null) {
            console.error("SDK不能反复进行初始化");
            return this._instance;
        }
        this._instance = new sdkClass();
        console.log('开始初始化SDK');
        // 初始化sdk
        let channel = LTSDK.getChannel();
        this._instance.Init(identifyId, channel, controlVersion, appId);
        console.log(`channel=${channel}`);
        // 请求云控信息
        this._instance.RequestRemoteConfig();
        // 自动sdk登录
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.onLoginEnd = Laya.Handler.create(null, () => {
            // if (LTPlatform.instance.platform == EPlatformType.WX) {
            //     if ((LTPlatform.instance as WXPlatform).loginCode) {
            //         LTSDK.instance.Login((LTPlatform.instance as WXPlatform).loginCode, LTPlatform.instance.GetFromAppId());
            //     } else {
            //         console.log("wx平台未登录,跳过登录sdk");
            //         LTSDK.instance.Login((LTPlatform.instance as WXPlatform).loginCode, LTPlatform.instance.GetFromAppId());
            //     }
            // } else {
            if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.loginState.isLogin) {
                LTSDK.instance.Login(_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.loginState.code, _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.GetFromAppId());
            }
            else {
                console.log("平台未登录,跳过登录sdk");
                LTSDK.instance.Login(LTSDK.instance.uid, _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.GetFromAppId());
            }
            // }
        });
        return this._instance;
    }
    static getChannel() {
        let channel = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.GetStorage('user_from_channel');
        let options = _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.lauchOption;
        console.log('本地channel', channel);
        if (LTSDK.instance instanceof _Impl_SDK_CQ__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            if (_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.channelId != 'own' && options && options.query && options.query.channelId) {
                channel = options.query.channelId;
                if (channel) {
                    _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.channelId = channel;
                    _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].SaveToDisk();
                }
            }
            return _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_2__["default"].instance.channelId;
        }
        if (!channel) {
            if (options && options.query) {
                channel = options.query['channel'];
                console.log('options channel', channel);
            }
            if (!channel) {
                console.log('没有本地数据,channel默认 own');
                channel = 'own';
            }
        }
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_0__["default"].instance.SetStorage('user_from_channel', channel);
        return channel;
    }
}


/***/ }),

/***/ "./src/SDK/Libs/hmac-sha256.js":
/*!*************************************!*\
  !*** ./src/SDK/Libs/hmac-sha256.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
var CryptoJS = CryptoJS || function (h, s) {
    var f = {},
        g = f.lib = {},
        q = function () {},
        m = g.Base = {
            extend: function (a) {
                q.prototype = this;
                var c = new q;
                a && c.mixIn(a);
                c.hasOwnProperty("init") || (c.init = function () {
                    c.$super.init.apply(this, arguments)
                });
                c.init.prototype = c;
                c.$super = this;
                return c
            },
            create: function () {
                var a = this.extend();
                a.init.apply(a, arguments);
                return a
            },
            init: function () {},
            mixIn: function (a) {
                for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c]);
                a.hasOwnProperty("toString") && (this.toString = a.toString)
            },
            clone: function () {
                return this.init.prototype.extend(this)
            }
        },
        r = g.WordArray = m.extend({
            init: function (a, c) {
                a = this.words = a || [];
                this.sigBytes = c != s ? c : 4 * a.length
            },
            toString: function (a) {
                return (a || k).stringify(this)
            },
            concat: function (a) {
                var c = this.words,
                    d = a.words,
                    b = this.sigBytes;
                a = a.sigBytes;
                this.clamp();
                if (b % 4)
                    for (var e = 0; e < a; e++) c[b + e >>> 2] |= (d[e >>> 2] >>> 24 - 8 * (e % 4) & 255) << 24 - 8 * ((b + e) % 4);
                else if (65535 < d.length)
                    for (e = 0; e < a; e += 4) c[b + e >>> 2] = d[e >>> 2];
                else c.push.apply(c, d);
                this.sigBytes += a;
                return this
            },
            clamp: function () {
                var a = this.words,
                    c = this.sigBytes;
                a[c >>> 2] &= 4294967295 <<
                    32 - 8 * (c % 4);
                a.length = h.ceil(c / 4)
            },
            clone: function () {
                var a = m.clone.call(this);
                a.words = this.words.slice(0);
                return a
            },
            random: function (a) {
                for (var c = [], d = 0; d < a; d += 4) c.push(4294967296 * h.random() | 0);
                return new r.init(c, a)
            }
        }),
        l = f.enc = {},
        k = l.Hex = {
            stringify: function (a) {
                var c = a.words;
                a = a.sigBytes;
                for (var d = [], b = 0; b < a; b++) {
                    var e = c[b >>> 2] >>> 24 - 8 * (b % 4) & 255;
                    d.push((e >>> 4).toString(16));
                    d.push((e & 15).toString(16))
                }
                return d.join("")
            },
            parse: function (a) {
                for (var c = a.length, d = [], b = 0; b < c; b += 2) d[b >>> 3] |= parseInt(a.substr(b,
                    2), 16) << 24 - 4 * (b % 8);
                return new r.init(d, c / 2)
            }
        },
        n = l.Latin1 = {
            stringify: function (a) {
                var c = a.words;
                a = a.sigBytes;
                for (var d = [], b = 0; b < a; b++) d.push(String.fromCharCode(c[b >>> 2] >>> 24 - 8 * (b % 4) & 255));
                return d.join("")
            },
            parse: function (a) {
                for (var c = a.length, d = [], b = 0; b < c; b++) d[b >>> 2] |= (a.charCodeAt(b) & 255) << 24 - 8 * (b % 4);
                return new r.init(d, c)
            }
        },
        j = l.Utf8 = {
            stringify: function (a) {
                try {
                    return decodeURIComponent(escape(n.stringify(a)))
                } catch (c) {
                    throw Error("Malformed UTF-8 data");
                }
            },
            parse: function (a) {
                return n.parse(unescape(encodeURIComponent(a)))
            }
        },
        u = g.BufferedBlockAlgorithm = m.extend({
            reset: function () {
                this._data = new r.init;
                this._nDataBytes = 0
            },
            _append: function (a) {
                "string" == typeof a && (a = j.parse(a));
                this._data.concat(a);
                this._nDataBytes += a.sigBytes
            },
            _process: function (a) {
                var c = this._data,
                    d = c.words,
                    b = c.sigBytes,
                    e = this.blockSize,
                    f = b / (4 * e),
                    f = a ? h.ceil(f) : h.max((f | 0) - this._minBufferSize, 0);
                a = f * e;
                b = h.min(4 * a, b);
                if (a) {
                    for (var g = 0; g < a; g += e) this._doProcessBlock(d, g);
                    g = d.splice(0, a);
                    c.sigBytes -= b
                }
                return new r.init(g, b)
            },
            clone: function () {
                var a = m.clone.call(this);
                a._data = this._data.clone();
                return a
            },
            _minBufferSize: 0
        });
    g.Hasher = u.extend({
        cfg: m.extend(),
        init: function (a) {
            this.cfg = this.cfg.extend(a);
            this.reset()
        },
        reset: function () {
            u.reset.call(this);
            this._doReset()
        },
        update: function (a) {
            this._append(a);
            this._process();
            return this
        },
        finalize: function (a) {
            a && this._append(a);
            return this._doFinalize()
        },
        blockSize: 16,
        _createHelper: function (a) {
            return function (c, d) {
                return (new a.init(d)).finalize(c)
            }
        },
        _createHmacHelper: function (a) {
            return function (c, d) {
                return (new t.HMAC.init(a,
                    d)).finalize(c)
            }
        }
    });
    var t = f.algo = {};
    return f
}(Math);
(function (h) {
    for (var s = CryptoJS, f = s.lib, g = f.WordArray, q = f.Hasher, f = s.algo, m = [], r = [], l = function (a) {
            return 4294967296 * (a - (a | 0)) | 0
        }, k = 2, n = 0; 64 > n;) {
        var j;
        a: {
            j = k;
            for (var u = h.sqrt(j), t = 2; t <= u; t++)
                if (!(j % t)) {
                    j = !1;
                    break a
                } j = !0
        }
        j && (8 > n && (m[n] = l(h.pow(k, 0.5))), r[n] = l(h.pow(k, 1 / 3)), n++);
        k++
    }
    var a = [],
        f = f.SHA256 = q.extend({
            _doReset: function () {
                this._hash = new g.init(m.slice(0))
            },
            _doProcessBlock: function (c, d) {
                for (var b = this._hash.words, e = b[0], f = b[1], g = b[2], j = b[3], h = b[4], m = b[5], n = b[6], q = b[7], p = 0; 64 > p; p++) {
                    if (16 > p) a[p] =
                        c[d + p] | 0;
                    else {
                        var k = a[p - 15],
                            l = a[p - 2];
                        a[p] = ((k << 25 | k >>> 7) ^ (k << 14 | k >>> 18) ^ k >>> 3) + a[p - 7] + ((l << 15 | l >>> 17) ^ (l << 13 | l >>> 19) ^ l >>> 10) + a[p - 16]
                    }
                    k = q + ((h << 26 | h >>> 6) ^ (h << 21 | h >>> 11) ^ (h << 7 | h >>> 25)) + (h & m ^ ~h & n) + r[p] + a[p];
                    l = ((e << 30 | e >>> 2) ^ (e << 19 | e >>> 13) ^ (e << 10 | e >>> 22)) + (e & f ^ e & g ^ f & g);
                    q = n;
                    n = m;
                    m = h;
                    h = j + k | 0;
                    j = g;
                    g = f;
                    f = e;
                    e = k + l | 0
                }
                b[0] = b[0] + e | 0;
                b[1] = b[1] + f | 0;
                b[2] = b[2] + g | 0;
                b[3] = b[3] + j | 0;
                b[4] = b[4] + h | 0;
                b[5] = b[5] + m | 0;
                b[6] = b[6] + n | 0;
                b[7] = b[7] + q | 0
            },
            _doFinalize: function () {
                var a = this._data,
                    d = a.words,
                    b = 8 * this._nDataBytes,
                    e = 8 * a.sigBytes;
                d[e >>> 5] |= 128 << 24 - e % 32;
                d[(e + 64 >>> 9 << 4) + 14] = h.floor(b / 4294967296);
                d[(e + 64 >>> 9 << 4) + 15] = b;
                a.sigBytes = 4 * d.length;
                this._process();
                return this._hash
            },
            clone: function () {
                var a = q.clone.call(this);
                a._hash = this._hash.clone();
                return a
            }
        });
    s.SHA256 = q._createHelper(f);
    s.HmacSHA256 = q._createHmacHelper(f)
})(Math);
(function () {
    var h = CryptoJS,
        s = h.enc.Utf8;
    h.algo.HMAC = h.lib.Base.extend({
        init: function (f, g) {
            f = this._hasher = new f.init;
            "string" == typeof g && (g = s.parse(g));
            var h = f.blockSize,
                m = 4 * h;
            g.sigBytes > m && (g = f.finalize(g));
            g.clamp();
            for (var r = this._oKey = g.clone(), l = this._iKey = g.clone(), k = r.words, n = l.words, j = 0; j < h; j++) k[j] ^= 1549556828, n[j] ^= 909522486;
            r.sigBytes = l.sigBytes = m;
            this.reset()
        },
        reset: function () {
            var f = this._hasher;
            f.reset();
            f.update(this._iKey)
        },
        update: function (f) {
            this._hasher.update(f);
            return this
        },
        finalize: function (f) {
            var g =
                this._hasher;
            f = g.finalize(f);
            g.reset();
            return g.finalize(this._oKey.clone().concat(f))
        }
    })
})();
/* harmony default export */ __webpack_exports__["default"] = (CryptoJS);


/***/ }),

/***/ "./src/SDK/Libs/md5.js":
/*!*****************************!*\
  !*** ./src/SDK/Libs/md5.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

/*
 * Configurable variables. You may need to tweak these to be compatible with
 * the server-side, but the defaults work in most cases.
 */
var hexcase = 0;  /* hex output format. 0 - lowercase; 1 - uppercase        */
var b64pad  = ""; /* base-64 pad character. "=" for strict RFC compliance   */
var chrsz   = 8;  /* bits per input character. 8 - ASCII; 16 - Unicode      */

/*
 * These are the functions you'll usually want to call
 * They take string arguments and return either hex or base-64 encoded strings
 */
function hex_md5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}
function b64_md5(s){ return binl2b64(core_md5(str2binl(s), s.length * chrsz));}
function str_md5(s){ return binl2str(core_md5(str2binl(s), s.length * chrsz));}
function hex_hmac_md5(key, data) { return binl2hex(core_hmac_md5(key, data)); }
function b64_hmac_md5(key, data) { return binl2b64(core_hmac_md5(key, data)); }
function str_hmac_md5(key, data) { return binl2str(core_hmac_md5(key, data)); }

/*
 * Perform a simple self-test to see if the VM is working
 */
function md5_vm_test()
{
  return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72";
}

/*
 * Calculate the MD5 of an array of little-endian words, and a bit length
 */
function core_md5(x, len)
{
  /* append padding */
  x[len >> 5] |= 0x80 << ((len) % 32);
  x[(((len + 64) >>> 9) << 4) + 14] = len;

  var a =  1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d =  271733878;

  for(var i = 0; i < x.length; i += 16)
  {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;

    a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);
    d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);
    c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);
    b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);
    a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);
    d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);
    c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);
    b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);
    a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);
    d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);
    c = md5_ff(c, d, a, b, x[i+10], 17, -42063);
    b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);
    a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);
    d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);
    c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);
    b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);

    a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);
    d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);
    c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);
    b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);
    a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);
    d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);
    c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);
    b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);
    a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);
    d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);
    c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);
    b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);
    a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);
    d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);
    c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);
    b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);

    a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);
    d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);
    c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);
    b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);
    a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);
    d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);
    c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);
    b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);
    a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);
    d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);
    c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);
    b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);
    a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);
    d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);
    c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);
    b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);

    a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);
    d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);
    c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);
    b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);
    a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);
    d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);
    c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);
    b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);
    a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);
    d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);
    c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);
    b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);
    a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);
    d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);
    c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);
    b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);

    a = safe_add(a, olda);
    b = safe_add(b, oldb);
    c = safe_add(c, oldc);
    d = safe_add(d, oldd);
  }
  return Array(a, b, c, d);

}

/*
 * These functions implement the four basic operations the algorithm uses.
 */
function md5_cmn(q, a, b, x, s, t)
{
  return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);
}
function md5_ff(a, b, c, d, x, s, t)
{
  return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
}
function md5_gg(a, b, c, d, x, s, t)
{
  return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
}
function md5_hh(a, b, c, d, x, s, t)
{
  return md5_cmn(b ^ c ^ d, a, b, x, s, t);
}
function md5_ii(a, b, c, d, x, s, t)
{
  return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
}

/*
 * Calculate the HMAC-MD5, of a key and some data
 */
function core_hmac_md5(key, data)
{
  var bkey = str2binl(key);
  if(bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);

  var ipad = Array(16), opad = Array(16);
  for(var i = 0; i < 16; i++)
  {
    ipad[i] = bkey[i] ^ 0x36363636;
    opad[i] = bkey[i] ^ 0x5C5C5C5C;
  }

  var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);
  return core_md5(opad.concat(hash), 512 + 128);
}

/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */
function safe_add(x, y)
{
  var lsw = (x & 0xFFFF) + (y & 0xFFFF);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return (msw << 16) | (lsw & 0xFFFF);
}

/*
 * Bitwise rotate a 32-bit number to the left.
 */
function bit_rol(num, cnt)
{
  return (num << cnt) | (num >>> (32 - cnt));
}

/*
 * Convert a string to an array of little-endian words
 * If chrsz is ASCII, characters >255 have their hi-byte silently ignored.
 */
function str2binl(str)
{
  var bin = Array();
  var mask = (1 << chrsz) - 1;
  for(var i = 0; i < str.length * chrsz; i += chrsz)
    bin[i>>5] |= (str.charCodeAt(i / chrsz) & mask) << (i%32);
  return bin;
}

/*
 * Convert an array of little-endian words to a string
 */
function binl2str(bin)
{
  var str = "";
  var mask = (1 << chrsz) - 1;
  for(var i = 0; i < bin.length * 32; i += chrsz)
    str += String.fromCharCode((bin[i>>5] >>> (i % 32)) & mask);
  return str;
}

/*
 * Convert an array of little-endian words to a hex string.
 */
function binl2hex(binarray)
{
  var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
  var str = "";
  for(var i = 0; i < binarray.length * 4; i++)
  {
    str += hex_tab.charAt((binarray[i>>2] >> ((i%4)*8+4)) & 0xF) +
           hex_tab.charAt((binarray[i>>2] >> ((i%4)*8  )) & 0xF);
  }
  return str;
}

/*
 * Convert an array of little-endian words to a base-64 string
 */
function binl2b64(binarray)
{
  var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
  var str = "";
  for(var i = 0; i < binarray.length * 4; i += 3)
  {
    var triplet = (((binarray[i   >> 2] >> 8 * ( i   %4)) & 0xFF) << 16)
                | (((binarray[i+1 >> 2] >> 8 * ((i+1)%4)) & 0xFF) << 8 )
                |  ((binarray[i+2 >> 2] >> 8 * ((i+2)%4)) & 0xFF);
    for(var j = 0; j < 4; j++)
    {
      if(i * 8 + j * 6 > binarray.length * 32) str += b64pad;
      else str += tab.charAt((triplet >> 6*(3-j)) & 0x3F);
    }
  }
  return str;
}



/* harmony default export */ __webpack_exports__["default"] = ({hex_md5});


/***/ }),

/***/ "./src/SDK/SDKADManager.ts":
/*!*********************************!*\
  !*** ./src/SDK/SDKADManager.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SDKADManager; });
/* harmony import */ var _LTGame_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTGame/Commom/CommonEventId */ "./src/LTGame/Commom/CommonEventId.ts");

class SDKADManager {
    constructor() {
        this._adDict = new Map();
    }
    /**
     * 初始化指定位置的广告
     * @param locationId 位置ID
     * @param adList 广告列表
     */
    InitADs(locationId, adList) {
        this._adDict[locationId] = adList;
        console.log("广告位置信息初始化完成,位置ID:", locationId, "广告信息:", adList);
        Laya.stage.event(_LTGame_Commom_CommonEventId__WEBPACK_IMPORTED_MODULE_0__["CommonEventId"].SELF_AD_INITED, locationId);
    }
    /**
     * 响应广告点击,会自动跳转以及记录广告点击
     * @param adInfo
     */
    HandleClickAd(adInfo) {
    }
    /**
     * 记录展示
     */
    RecordShow(...adInfo) {
    }
    /**
     * 根据广告位置id返回广告
     * @param locationId
     */
    GetADListByLocationId(locationId) {
        return this._adDict[locationId];
    }
}


/***/ }),

/***/ "./src/SDK/common/ECheckState.ts":
/*!***************************************!*\
  !*** ./src/SDK/common/ECheckState.ts ***!
  \***************************************/
/*! exports provided: ECheckState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ECheckState", function() { return ECheckState; });
var ECheckState;
(function (ECheckState) {
    /**
     * 正常状态
     */
    ECheckState[ECheckState["Normal"] = 0] = "Normal";
    /**
     * 审核状态
     */
    ECheckState[ECheckState["InCheck"] = 1] = "InCheck";
    /**
     * 不考虑游戏性的洗钱状态
     */
    ECheckState[ECheckState["NoGame"] = 2] = "NoGame";
})(ECheckState || (ECheckState = {}));


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _LTGame_Start_LTMain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LTGame/Start/LTMain */ "./src/LTGame/Start/LTMain.ts");
/* harmony import */ var _script_MainStart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./script/MainStart */ "./src/script/MainStart.ts");


new _LTGame_Start_LTMain__WEBPACK_IMPORTED_MODULE_0__["default"](_script_MainStart__WEBPACK_IMPORTED_MODULE_1__["default"]);


/***/ }),

/***/ "./src/script/MainStart.ts":
/*!*********************************!*\
  !*** ./src/script/MainStart.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MainStart; });
/* harmony import */ var _LTGame_Start_LTStart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../LTGame/Start/LTStart */ "./src/LTGame/Start/LTStart.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _scene_MainScene__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scene/MainScene */ "./src/script/scene/MainScene.ts");
/* harmony import */ var _scene_SplashScene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scene/SplashScene */ "./src/script/scene/SplashScene.ts");
/* harmony import */ var _SDK_Impl_SDK_Default__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../SDK/Impl/SDK_Default */ "./src/SDK/Impl/SDK_Default.ts");
/* harmony import */ var _common_GameData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/GameData */ "./src/script/common/GameData.ts");
/* harmony import */ var _LTGame_Commom_CommonProgressData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../LTGame/Commom/CommonProgressData */ "./src/LTGame/Commom/CommonProgressData.ts");







class MainStart extends _LTGame_Start_LTStart__WEBPACK_IMPORTED_MODULE_0__["LTStart"] {
    constructor() {
        super();
        this._appId = "";
        /**SDK云控版本名 */
        this._gameVersion = "1.0.0";
        /**资源版本 */
        this._resVersion = "0515";
        /**项目名 */
        this._gameName = "p_2048v3";
        this.enableStat = false;
    }
    _HandleInitPlatform(ePlatform, platformData) {
        _common_GameData__WEBPACK_IMPORTED_MODULE_5__["default"].SAVE_NAME = this._gameName + '.sav';
        _LTGame_Commom_CommonProgressData__WEBPACK_IMPORTED_MODULE_6__["CommonProgressData"].Init(this._gameName + '.progress');
    }
    _HandleSDK() {
        _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_1__["default"].CreateInstace(_SDK_Impl_SDK_Default__WEBPACK_IMPORTED_MODULE_4__["default"], this._gameName, this._gameVersion, this._appId);
    }
    _InitFsm() {
        this._fsm.Add(new _scene_SplashScene__WEBPACK_IMPORTED_MODULE_3__["default"]());
        this._fsm.Add(new _scene_MainScene__WEBPACK_IMPORTED_MODULE_2__["default"]());
    }
}


/***/ }),

/***/ "./src/script/common/CallQueue.ts":
/*!****************************************!*\
  !*** ./src/script/common/CallQueue.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CallQueue; });
/**
 * 回调队列
 */
class CallQueue {
    constructor() {
        this._quene = [];
    }
    /**
     * 添加回调
     * @param handler
     */
    addCall(handler) {
        this._quene.push(handler);
    }
    /**
     * 执行下一个回调
     */
    nextCall() {
        let handler = this._quene.shift();
        if (handler) {
            handler.run();
        }
    }
    /**
     * 回调队列长度
     */
    getCallLength() {
        return this._quene.length;
    }
}


/***/ }),

/***/ "./src/script/common/ComTools.ts":
/*!***************************************!*\
  !*** ./src/script/common/ComTools.ts ***!
  \***************************************/
/*! exports provided: ComTools */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComTools", function() { return ComTools; });
/* harmony import */ var _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");
/* harmony import */ var _manager_EffectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../manager/EffectManager */ "./src/script/manager/EffectManager.ts");
/* harmony import */ var _GlobalUnit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GlobalUnit */ "./src/script/common/GlobalUnit.ts");



class ComTools {
    /**获取随机数 整数*/
    static getRandom(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    /**
     * 获取浏览器当前时间戳，单位为毫秒。
     */
    static now() {
        let layanow = Laya.Browser.now();
        if (this._nowTime < layanow)
            this._nowTime = layanow;
        return this._nowTime;
    }
    /**
     * 返回当前启动的时间戮，单位为毫秒
     */
    static realtimeSinceStartup() {
        // Laya.Brower.now()会出现时间倒退的情况，为了避免时间倒退产生BUG
        let d = this.now() - this._startTime;
        if (d < this._guardTime) {
            return this._guardTime;
        }
        this._guardTime = d;
        return d;
    }
    /**
     * 生成8位唯一id
     * @returns {string}
     */
    static guuid() {
        let s4 = () => {
            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
        };
        return s4() + s4();
    }
    ;
    static levelToString(level) {
        let a = "game/level/Level";
        let b = "";
        if (level < 10) {
            b = `00${level}`;
        }
        else if (level < 100) {
            b = `0${level}`;
        }
        else if (level < 1000) {
            b = `${level}`;
        }
        return a + b;
    }
    /**
    * 数字转换成时间
    * @param sumSecond number (单位秒)
    * @param unit 显示单位
    * @param isShowWord 是否显示汉字
    */
    static getStringToTimeInfo(sumSecond, unit = 0 /* SECOND */, isShowWord = false) {
        let str = "";
        let dayStr = isShowWord ? "天" : ":";
        let hourStr = isShowWord ? "时" : ":";
        let minuteStr = isShowWord ? "分" : ":";
        let secondStr = isShowWord ? "秒" : "";
        if (sumSecond >= 86400) {
            let st0 = unit > 3 /* DAY */ ? '' : Math.floor(sumSecond / 86400) + dayStr;
            let st1 = unit > 2 /* HOUR */ ? '' : Math.floor(sumSecond % 86400 / 3600) + hourStr;
            let minute = Math.floor(sumSecond % 3600 / 60);
            let st2 = unit > 1 /* MINUTE */ ? '' : (minute < 10 ? "0" + minute : minute) + minuteStr;
            let second = Math.floor(sumSecond % 60);
            let st3 = unit > 0 /* SECOND */ ? '' : (second < 10 ? "0" + second : second) + secondStr;
            str = st0 + st1 + st2 + st3;
            return str;
        }
        else if (sumSecond >= 3600) {
            let st1 = unit > 2 /* HOUR */ ? '' : Math.floor(sumSecond / 3600) + hourStr;
            let minute = Math.floor(sumSecond % 3600 / 60);
            let st2 = unit > 1 /* MINUTE */ ? '' : (minute < 10 ? "0" + minute : minute) + minuteStr;
            let second = Math.floor(sumSecond % 60);
            let st3 = unit > 0 /* SECOND */ ? '' : (second < 10 ? "0" + second : second) + secondStr;
            str = st1 + st2 + st3;
            return str;
        }
        else if (sumSecond >= 60) {
            let fen = Math.floor(sumSecond / 60);
            let fenstr = fen < 10 ? "0" + fen : fen;
            let miao = Math.floor(sumSecond % 60);
            let str1 = unit > 1 /* MINUTE */ ? '' : fenstr + minuteStr;
            let str2 = unit > 0 /* SECOND */ ? '' : (miao < 10 ? "0" + miao : miao) + secondStr;
            str = str1 + str2;
            return str;
        }
        else {
            let temp = sumSecond < 10 ? "0" : "";
            let s = "00:" + temp + sumSecond.toFixed(0) + secondStr;
            return s;
        }
    }
    /**
     * 凌晨时间
     */
    static getZeroTime() {
        let start = new Date();
        start.setHours(0);
        start.setMinutes(0);
        start.setSeconds(0);
        start.setMilliseconds(0);
        return start.getTime() / 1000;
    }
    /**
     * 延迟显示按钮
     * @param btn
     * @param time
     */
    static showLater(btn, time) {
        btn.visible = false;
        Laya.timer.once(time, this, () => {
            btn && (btn.visible = true);
        });
    }
    /**
     * 字符串的省略效果
     */
    static cutStr(str, len) {
        let str_length = 0;
        let str_len = 0;
        let str_cut = "";
        str_len = str.length;
        for (let i = 0; i < str_len; i++) {
            let a = str.charAt(i);
            str_length++;
            if (encodeURI(a).length > 4) {
                //中文字符的长度经编码之后大于4
                str_length++;
            }
            str_cut = str_cut.concat(a);
            if (str_length >= len) {
                if (i < str_len - 1) {
                    str_cut = str_cut.concat("...");
                }
                return str_cut;
            }
        }
        //如果给定字符串小于指定长度，则返回源字符串；
        if (str_length < len) {
            return str;
        }
    }
    /**
     * 黑图
     * @param roleImg
     */
    static grayingRole(roleImg) {
        //由 20 个项目（排列成 4 x 5 矩阵）组成的数组，灰图
        var grayscaleMat = [
            -1, 0, 0, 0, 0,
            0, -1, 0, 0, 0,
            0, 0, -1, 0, 0,
            0, 0, 0, 1, 0
        ];
        //创建一个颜色滤镜对象，黑图
        var grayscaleFilter = new Laya.ColorFilter(grayscaleMat);
        // 灰度猩猩
        roleImg.filters = [grayscaleFilter];
    }
    /**
     *飞金币效果
     *
     * @static
     * @param {number} x
     * @param {number} y
     * @memberof ComTools
     */
    static flyGoldEff(x, y, endX, endY) {
        let sx = x;
        let sy = y;
        let count = 20;
        let func = () => {
            let point1 = { x: sx, y: sy };
            let x2 = ComTools.getRandom(sx - 250, sx + 250);
            let y2 = ComTools.getRandom(sy + 200, sy);
            let point2 = { x: x2, y: y2 }; //一个顶点 还可以继续添加 点
            let point3 = { x: endX, y: endY }; //终点
            let points = [point1, point2, point3];
            // let spr = Laya.Pool.getItemByClass("goldImg", Laya.Image) as Laya.Image;
            let spr = Laya.Pool.getItemByCreateFun("goldImg", () => {
                let aImage = fgui.UIPackage.createObjectFromURL(_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__["default"].iconUrl).asImage;
                return aImage;
            });
            // spr.skin = "public/Main_Score_Coin.png";
            spr.setXY(sx, sy);
            // spr.width = 48;
            // spr.height = 48;
            // Laya.stage.addChild(spr);
            // let lastTime = Laya.timer.currTimer;
            // let handler = new Laya.Handler(this, () => {
            //     let t = (Laya.timer.currTimer - lastTime) / 1000;
            //     let pos = ComTools.MultiPointBezier(points, t);
            //     spr.pos(pos.x, pos.y);
            // });
            // Laya.Tween.to(spr, { update: handler }, 1000, Laya.Ease.circIn, Laya.Handler.create(this, () => {
            //     Laya.Pool.recover("goldImg", spr);
            //     spr.removeSelf();
            // }));
            // count--;
            // if (count <= 0) {
            //     Laya.timer.clear(this, func);
            // }
        };
        Laya.timer.frameLoop(1, this, func);
    }
    /**************************************************创建贝塞尔路径 */
    static CreateBezierPoints(anchorpoints, pointsAmount) {
        var points = [];
        for (var i = 0; i < pointsAmount; i++) {
            var point = this.MultiPointBezier(anchorpoints, i / pointsAmount);
            points.push(point);
        }
        return points;
    }
    static MultiPointBezier(points, t) {
        let len = points.length;
        let x = 0, y = 0;
        for (let i = 0; i < len; i++) {
            let point = points[i];
            x += point.x * Math.pow((1 - t), (len - 1 - i)) * Math.pow(t, i) * (this.erxiangshi(len - 1, i));
            y += point.y * Math.pow((1 - t), (len - 1 - i)) * Math.pow(t, i) * (this.erxiangshi(len - 1, i));
        }
        return { x: x, y: y };
    }
    static erxiangshi(start, end) {
        let cs = 1, bcs = 1;
        while (end > 0) {
            cs *= start;
            bcs *= end;
            start--;
            end--;
        }
        return (cs / bcs);
    }
    ;
    /*****************************************************end */
    /**
     * 摄像机绕目标旋转
     * @param targetPos 目标坐标
     * @param camera 摄像机
     * @param radius 半径
     * @param speed 旋转速度
     * @param startAngle 起始角度(弧度)
     * @param angleRange 旋转范围(弧度) 1圈2π (2 * Math.PI)
     */
    static rotateAround(targetPos, camera, radius, speed, startAngle, angleRange) {
        let angle = startAngle;
        let zf = 1;
        // targetPos.y += 3;
        Laya.timer.frameLoop(1, this, () => {
            camera.transform.localPositionY = camera.transform.position.y + Math.cos(angle) * radius;
            camera.transform.localPositionZ = camera.transform.position.z + Math.sin(angle) * radius;
            camera.transform.lookAt(targetPos, _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_0__["default"].s_up, true);
            if (zf == 1 && angle >= startAngle + angleRange)
                zf = -1;
            if (zf == -1 && angle <= startAngle)
                zf = 1;
            angle += zf * speed; //角度越大 转动的越快
        });
    }
    /**
     * 两点之间夹角 角度
     * @param a
     * @param b
     */
    static getTheta(a, b) {
        b.x -= a.x;
        b.z -= a.z;
        let deltaAngle = 0;
        if (b.x == 0 && b.z == 0) {
            return 0;
        }
        else if (b.x > 0 && b.z > 0) {
            deltaAngle = 0;
        }
        else if (b.x > 0 && b.z == 0) {
            return 90;
        }
        else if (b.x > 0 && b.z < 0) {
            deltaAngle = 180;
        }
        else if (b.x == 0 && b.z < 0) {
            return 180;
        }
        else if (b.x < 0 && b.z < 0) {
            deltaAngle = -180;
        }
        else if (b.x < 0 && b.z == 0) {
            return -90;
        }
        else if (b.x < 0 && b.z > 0) {
            deltaAngle = 0;
        }
        let angle = Math.atan(b.x / b.z) * 360 / (Math.PI * 2) + deltaAngle;
        return angle;
    }
    /**
     * 平面 两点之间夹角 弧度
     * @param a
     * @param b
     */
    static getAngle(a, b) {
        var angle = Math.atan2((b.z - a.z), (b.x - a.x)); //弧度  0.6435011087932844
        return angle;
    }
    /**
     * 播放特效
     * @param effectId
     * @param duringTime
     * @param vector3
     * @param color
     * @param parent
     * @param rot
     */
    static playEffect(effectId, duringTime = null, vector3 = null, color = null, parent = null, rot = null, scale = null) {
        let cacheEffectId = _manager_EffectManager__WEBPACK_IMPORTED_MODULE_1__["EffectManager"].instance.PlayEffectById(effectId, duringTime, vector3, rot, parent, color, scale);
        return cacheEffectId;
    }
    /**
     * 更新 0-1
     * @param updataHandler 更新handler
     * @param duration 持续时间
     * @param ease Laya.Ease
     * @param endHandler 结束handler
     */
    static runTween(updataHandler, duration, ease = null, endHandler = null, delay = 0) {
        let that = { pro: 0 };
        let handler = new Laya.Handler(this, () => {
            updataHandler.runWith(that.pro);
        });
        return Laya.Tween.to(that, {
            pro: 1,
            update: handler
        }, duration, ease, Laya.Handler.create(this, () => {
            endHandler === null || endHandler === void 0 ? void 0 : endHandler.run();
        }), delay);
    }
}
ComTools._startTime = Laya.Browser.now();
ComTools._guardTime = 0;
ComTools._nowTime = 0;


/***/ }),

/***/ "./src/script/common/Const.ts":
/*!************************************!*\
  !*** ./src/script/common/Const.ts ***!
  \************************************/
/*! exports provided: Const */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Const", function() { return Const; });
/*
 * @Desc: 常量定义
 */
var Const;
(function (Const) {
    /** 颜色 */
    Const.Color = {
        Purple: "#ce9aff",
        Green: "#69d35e",
        Red: "#de2525",
        Pink: "#f2509c",
        Golden: "#f6ca67",
        Blue: "#93a9ff",
        Yellow: "#edda8d",
        Orange: "#ffa563",
        White: "#ffffff",
        Gray: "#f9ffeb",
        Nude: "#ffe4c7",
        LightBlue: "#37b9fe",
        SkyBlue: "#7fe6ff",
        DarkGray: "#606060",
    };
    /**
     * 游戏状态
     */
    let GameState;
    (function (GameState) {
        /**准备 */
        GameState[GameState["READY"] = 0] = "READY";
        /**游戏中 */
        GameState[GameState["ON_GAME"] = 1] = "ON_GAME";
        /**播放动画中 */
        GameState[GameState["PLAYING"] = 2] = "PLAYING";
        /**结束 */
        GameState[GameState["OVER"] = 3] = "OVER";
    })(GameState = Const.GameState || (Const.GameState = {}));
    /**
     * 关卡模式
     */
    let LEVEL_TYPE;
    (function (LEVEL_TYPE) {
        /**正常普通关卡 */
        LEVEL_TYPE[LEVEL_TYPE["NORMAL"] = 1] = "NORMAL";
        /**自创关卡 */
        LEVEL_TYPE[LEVEL_TYPE["SELF_CREATE"] = 2] = "SELF_CREATE";
    })(LEVEL_TYPE = Const.LEVEL_TYPE || (Const.LEVEL_TYPE = {}));
    /**
     * 结算代码
     */
    let OVER_CODE;
    (function (OVER_CODE) {
        /**血量低于0 */
        OVER_CODE[OVER_CODE["CODE_0"] = 0] = "CODE_0";
        /**消灭所有敌人 */
        OVER_CODE[OVER_CODE["CODE_1"] = 1] = "CODE_1";
    })(OVER_CODE = Const.OVER_CODE || (Const.OVER_CODE = {}));
    /**
     * 特效ID
     */
    let EFFECT_ID;
    (function (EFFECT_ID) {
        /**合成特效 */
        EFFECT_ID[EFFECT_ID["ID_1"] = 1] = "ID_1";
        /**新方块+金币特效 */
        EFFECT_ID[EFFECT_ID["ID_2"] = 2] = "ID_2";
        /**圈壮金光特效 */
        EFFECT_ID[EFFECT_ID["ID_3"] = 3] = "ID_3";
        /**钻石雨特效 */
        EFFECT_ID[EFFECT_ID["ID_4"] = 4] = "ID_4";
        /**炸弹引线特效 */
        EFFECT_ID[EFFECT_ID["ID_5"] = 5] = "ID_5";
        /**炸弹爆炸特效 */
        EFFECT_ID[EFFECT_ID["ID_6"] = 6] = "ID_6";
        /**磁铁特效 */
        EFFECT_ID[EFFECT_ID["ID_7"] = 7] = "ID_7";
        /**彩带特效 */
        EFFECT_ID[EFFECT_ID["ID_8"] = 8] = "ID_8";
        /**拖尾特效 */
        EFFECT_ID[EFFECT_ID["ID_9"] = 9] = "ID_9";
    })(EFFECT_ID = Const.EFFECT_ID || (Const.EFFECT_ID = {}));
    let SOUND;
    (function (SOUND) {
        /**背景音乐 */
        SOUND[SOUND["SOUND_1"] = 1] = "SOUND_1";
        /**炸弹爆炸 */
        SOUND[SOUND["SOUND_2"] = 2] = "SOUND_2";
        /**游戏失败 */
        SOUND[SOUND["SOUND_3"] = 3] = "SOUND_3";
        /**达成条件通关 */
        SOUND[SOUND["SOUND_4"] = 4] = "SOUND_4";
        /**磁铁声音 */
        SOUND[SOUND["SOUND_5"] = 5] = "SOUND_5";
        /**合成1连声音 */
        SOUND[SOUND["SOUND_6"] = 6] = "SOUND_6";
        /**合成2连声音 */
        SOUND[SOUND["SOUND_7"] = 7] = "SOUND_7";
        /**合成3连声音 */
        SOUND[SOUND["SOUND_8"] = 8] = "SOUND_8";
        /**button音效 */
        SOUND[SOUND["SOUND_9"] = 9] = "SOUND_9";
    })(SOUND = Const.SOUND || (Const.SOUND = {}));
    let EUnlockType;
    (function (EUnlockType) {
        /**
         * 默认解锁
         */
        EUnlockType[EUnlockType["Default"] = 0] = "Default";
        /**
         * 随机解锁
         */
        EUnlockType[EUnlockType["Random"] = 1] = "Random";
        /**
         * 看视频解锁
         */
        EUnlockType[EUnlockType["WatchAd"] = 2] = "WatchAd";
        /**
         * 彩蛋解锁
         */
        EUnlockType[EUnlockType["Egg"] = 3] = "Egg";
        /**
         * 转盘解锁
         */
        EUnlockType[EUnlockType["Turntable"] = 4] = "Turntable";
        /**
         * 签到解锁
         */
        EUnlockType[EUnlockType["Sign"] = 5] = "Sign";
        /**
         * 其他解锁
         */
        EUnlockType[EUnlockType["Other"] = 6] = "Other";
    })(EUnlockType = Const.EUnlockType || (Const.EUnlockType = {}));
    /**
     * 商店类型
     */
    let SHOP_TYPE;
    (function (SHOP_TYPE) {
        /**
         * 手套
         */
        SHOP_TYPE[SHOP_TYPE["FOOD"] = 0] = "FOOD";
        /**
         * 其他
         */
        SHOP_TYPE[SHOP_TYPE["OTHER"] = 1] = "OTHER";
    })(SHOP_TYPE = Const.SHOP_TYPE || (Const.SHOP_TYPE = {}));
    /**
     * 奖励类型
     */
    let AWARD_TYPE;
    (function (AWARD_TYPE) {
        /**
         * 金币
         */
        AWARD_TYPE[AWARD_TYPE["COIN"] = 0] = "COIN";
        /**
         *皮肤
         */
        AWARD_TYPE[AWARD_TYPE["SKIN"] = 1] = "SKIN";
    })(AWARD_TYPE = Const.AWARD_TYPE || (Const.AWARD_TYPE = {}));
    /**关卡状态 */
    let LEVEL_STATE;
    (function (LEVEL_STATE) {
        /**准备中 */
        LEVEL_STATE[LEVEL_STATE["READY"] = 0] = "READY";
        /**游戏中 */
        LEVEL_STATE[LEVEL_STATE["PLAYING"] = 1] = "PLAYING";
        /**暂停中 */
        LEVEL_STATE[LEVEL_STATE["PAUSEING"] = 2] = "PAUSEING";
        /**复活 */
        LEVEL_STATE[LEVEL_STATE["RE_GAME"] = 3] = "RE_GAME";
        /**胜利 */
        LEVEL_STATE[LEVEL_STATE["WIN"] = 4] = "WIN";
        /**失败 */
        LEVEL_STATE[LEVEL_STATE["LOSE"] = 5] = "LOSE";
    })(LEVEL_STATE = Const.LEVEL_STATE || (Const.LEVEL_STATE = {}));
    /**骰子类型 */
    let DICE_TYPE;
    (function (DICE_TYPE) {
        DICE_TYPE[DICE_TYPE["TYPE_2"] = 0] = "TYPE_2";
        DICE_TYPE[DICE_TYPE["TYPE_4"] = 1] = "TYPE_4";
        DICE_TYPE[DICE_TYPE["TYPE_8"] = 2] = "TYPE_8";
        DICE_TYPE[DICE_TYPE["TYPE_16"] = 3] = "TYPE_16";
        DICE_TYPE[DICE_TYPE["TYPE_32"] = 4] = "TYPE_32";
        DICE_TYPE[DICE_TYPE["TYPE_64"] = 5] = "TYPE_64";
        DICE_TYPE[DICE_TYPE["TYPE_128"] = 6] = "TYPE_128";
        DICE_TYPE[DICE_TYPE["TYPE_256"] = 7] = "TYPE_256";
        DICE_TYPE[DICE_TYPE["TYPE_512"] = 8] = "TYPE_512";
        DICE_TYPE[DICE_TYPE["TYPE_1024"] = 9] = "TYPE_1024";
        DICE_TYPE[DICE_TYPE["TYPE_2048"] = 10] = "TYPE_2048";
        DICE_TYPE[DICE_TYPE["TYPE_4096"] = 11] = "TYPE_4096";
        DICE_TYPE[DICE_TYPE["TYPE_8192"] = 12] = "TYPE_8192";
    })(DICE_TYPE = Const.DICE_TYPE || (Const.DICE_TYPE = {}));
    /**item状态 */
    let ITEM_STATE;
    (function (ITEM_STATE) {
        /**准备中 */
        ITEM_STATE[ITEM_STATE["READY"] = 0] = "READY";
        /**发射中 */
        ITEM_STATE[ITEM_STATE["SHOOT"] = 1] = "SHOOT";
        /**游戏中 */
        ITEM_STATE[ITEM_STATE["PLAYING"] = 2] = "PLAYING";
        /**跳跃中 */
        ITEM_STATE[ITEM_STATE["JUMP"] = 3] = "JUMP";
        /**飞行中 使用磁铁道具 */
        ITEM_STATE[ITEM_STATE["FLY"] = 4] = "FLY";
        /**暂停游戏 */
        ITEM_STATE[ITEM_STATE["PAUSE"] = 5] = "PAUSE";
        /**恢复游戏 */
        ITEM_STATE[ITEM_STATE["RESUME"] = 6] = "RESUME";
        /**回收 */
        ITEM_STATE[ITEM_STATE["RECOVER"] = 7] = "RECOVER";
    })(ITEM_STATE = Const.ITEM_STATE || (Const.ITEM_STATE = {}));
    /**item类型 */
    let ITEM_TYPE;
    (function (ITEM_TYPE) {
        /**骰子 */
        ITEM_TYPE[ITEM_TYPE["DICE"] = 1] = "DICE";
        /**炸弹 */
        ITEM_TYPE[ITEM_TYPE["BOMB"] = 2] = "BOMB";
        /**磁铁 */
        ITEM_TYPE[ITEM_TYPE["MAGNET"] = 3] = "MAGNET";
    })(ITEM_TYPE = Const.ITEM_TYPE || (Const.ITEM_TYPE = {}));
})(Const || (Const = {}));


/***/ }),

/***/ "./src/script/common/GameData.ts":
/*!***************************************!*\
  !*** ./src/script/common/GameData.ts ***!
  \***************************************/
/*! exports provided: SaveData, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveData", function() { return SaveData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameData; });
/* harmony import */ var _LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");


class SaveData {
    constructor() {
        /**
         * 金币数量
         */
        this.coinCount = 0;
        /**
         * 关卡id
         */
        this.curLv = 1;
        /**
         * 解锁的关卡
         */
        this.unlockLv = 1;
        /**
         * 排行榜分数
         */
        this.maxScore = 0;
        /**
         * 炸弹数量
         */
        this.bombCount = 1;
        /**
         * 磁铁
         */
        this.magnetCount = 1;
    }
}
class GameData {
    static get instance() {
        if (this._instance == null) {
            this._instance = new GameData();
            this._instance._ReadFromFile();
            this.SaveToDisk();
        }
        return this._instance._saveData;
    }
    static SaveToDisk() {
        if (!this._instance)
            return;
        let json = JSON.stringify(this._instance._saveData);
        Laya.LocalStorage.setJSON(GameData.SAVE_NAME, json);
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].SaveToDisk();
    }
    _ReadFromFile() {
        let readStr = Laya.LocalStorage.getJSON(GameData.SAVE_NAME);
        this._saveData = new SaveData();
        if (!_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(readStr)) {
            let jsonData = JSON.parse(readStr);
            for (let key in jsonData) {
                this._saveData[key] = jsonData[key];
            }
        }
        console.log(this._saveData);
    }
}
GameData.SAVE_NAME = 'p_game01.sav';


/***/ }),

/***/ "./src/script/common/GameEvent.ts":
/*!****************************************!*\
  !*** ./src/script/common/GameEvent.ts ***!
  \****************************************/
/*! exports provided: GameEvent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameEvent", function() { return GameEvent; });
/**
 * 事件消息定义类
 */
var GameEvent;
(function (GameEvent) {
    /** 通知 */
    GameEvent.NOTICE = "notice";
    /**金币改变 */
    GameEvent.CHANGE_GOlD = "CHANGE_GOlD";
    /**获得新的道具 */
    GameEvent.NEW_PROP = "NEW_PROP";
    GameEvent.JUMP_TO = {
        /**彩蛋 */
        EGG: "JUMP_TO:EGG",
        /**签到 */
        SIGN: "JUMP_TO:SIGN",
        /**试用 */
        TRY_SKIN: "JUMP_TO:TRY_SKIN",
        /**转盘 */
        ROLL: "JUMP_TO:ROLL"
    };
    GameEvent.ITEM = {
        /**灭火器爆炸 */
        BOOM: "ITEM:BOOM",
        /**风扇吹 */
        FAN: "ITEM:FAN",
        /**启动破坏球 */
        ACTIVE_BALL: "ITEM:CLEAR_BALL"
    };
    /**游戏事件 */
    GameEvent.GAME = {
        /**游戏创建 */
        CREATE: "GAME:CREATE",
        /**游戏开始 */
        START: "GAME:START",
        /**游戏胜利 */
        VICTORY: "GAME:VICTORY",
        /**游戏失败 */
        DEFEAT: "GAME:DEFEAT",
        /**重来 */
        REPEAT_GAME: "GAME:REPEAT_GAME",
        /**复活 */
        RESURGENCE: "GAME:RESURGENCE",
        /**暂停游戏 */
        PAUSE: "GAME:PAUSE_GAME",
        /**恢复暂停 */
        RESUME: "GAME:RESUME_GAME",
        /**下一关 */
        NEXT_LV: "GAME:NEXT_LV",
        /**解锁关卡 */
        UNLOCK_LV: "GAME:UNLOCK_LV",
        /**销毁游戏 */
        DESTROY: "GAME:DESTROY",
        /**设置战斗界面状态 0 准备 1 战斗|移动 2 boss战斗 3 结算*/
        FIGHT_STATE: "GAME:FIGHT_STATE",
        /**关卡资源加载中 */
        LOADING_LV: "GAME:LOADING_LV",
        /**游戏进度 */
        RATE: "GAME:RATE",
        /**最大连击数 */
        MAX_COMBO: "GAME:MAX_COMBO"
    };
})(GameEvent || (GameEvent = {}));


/***/ }),

/***/ "./src/script/common/GlobalUnit.ts":
/*!*****************************************!*\
  !*** ./src/script/common/GlobalUnit.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GlobalUnit; });
/* harmony import */ var _manager_DataManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../manager/DataManager */ "./src/script/manager/DataManager.ts");
/* harmony import */ var _manager_EffectManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../manager/EffectManager */ "./src/script/manager/EffectManager.ts");
/* harmony import */ var _manager_EventManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../manager/EventManager */ "./src/script/manager/EventManager.ts");
/* harmony import */ var _logic_game_ViewGame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../logic/game/ViewGame */ "./src/script/logic/game/ViewGame.ts");
/* harmony import */ var _Router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Router */ "./src/script/common/Router.ts");
/* harmony import */ var _logic_game_EGameState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../logic/game/EGameState */ "./src/script/logic/game/EGameState.ts");
/* harmony import */ var _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/Physics/OIMOPhysicManager */ "./src/LTGame/Physics/OIMOPhysicManager.ts");
/* harmony import */ var _logic_LevelSaveData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../logic/LevelSaveData */ "./src/script/logic/LevelSaveData.ts");








class GlobalUnit {
    static InitAll(urls) {
        this.s3d = Laya.stage.addChildAt(new Laya.Scene3D(), 0);
        window['s3d'] = this.s3d;
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_6__["OIMOPhysicManager"].CreateInstance();
        new _logic_LevelSaveData__WEBPACK_IMPORTED_MODULE_7__["default"]();
        this.eventMgr = new _manager_EventManager__WEBPACK_IMPORTED_MODULE_2__["EventManager"](new _Router__WEBPACK_IMPORTED_MODULE_4__["Router"]());
        this.dataManager = new _manager_DataManager__WEBPACK_IMPORTED_MODULE_0__["DataManager"]();
        this.dataManager.InitData();
        this.game = new _logic_game_ViewGame__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.game.gamePreload(urls);
        window['s3d'] = this.s3d;
        window['GlobalUnit'] = this;
    }
    static ResetScene(scene) {
        if (this.s3d != null && !this.s3d.destroyed) {
            _manager_EffectManager__WEBPACK_IMPORTED_MODULE_1__["EffectManager"].instance.UnloadScene();
            this.s3d.destroy();
        }
        this.s3d = scene;
        Laya.stage.addChildAt(this.s3d, 0);
        _manager_EffectManager__WEBPACK_IMPORTED_MODULE_1__["EffectManager"].instance.ReAddScene();
        window['s3d'] = this.s3d;
    }
    static FirstCreate() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_6__["OIMOPhysicManager"].instance.InitWorld();
            this.game.fsm.ChangeState(_logic_game_EGameState__WEBPACK_IMPORTED_MODULE_5__["EGameState"].Main);
        });
    }
}
GlobalUnit.iconUrl = "";


/***/ }),

/***/ "./src/script/common/LayerDefine.ts":
/*!******************************************!*\
  !*** ./src/script/common/LayerDefine.ts ***!
  \******************************************/
/*! exports provided: LayerDefine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayerDefine", function() { return LayerDefine; });
class LayerDefine {
}
/**骰子 */
LayerDefine.Dice = Math.pow(2, 0);
/**地面 */
LayerDefine.Plane = Math.pow(2, 1);
/**墙 */
LayerDefine.Wall = Math.pow(2, 2);
/**失败 */
LayerDefine.End = Math.pow(2, 3);
/**炸弹 */
LayerDefine.Bomb = Math.pow(2, 4);
/**射线 */
LayerDefine.Ray = Math.pow(2, 8);


/***/ }),

/***/ "./src/script/common/ResDefine.ts":
/*!****************************************!*\
  !*** ./src/script/common/ResDefine.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ResDefine; });
/* harmony import */ var _LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");

class ResDefine {
    static FixPath(filePath) {
        if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(filePath)) {
            console.error("传入参数为空");
            return null;
        }
        return "res/export/Conventional/" + filePath + ".lh";
    }
    static FixScene(scenePath) {
        if (_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(scenePath)) {
            console.error("传入参数为空");
            return null;
        }
        return "res/export/Conventional/" + scenePath + ".ls";
    }
}
ResDefine.level = "Level";
ResDefine.shopPath = "Shop";
ResDefine.bomb = "zhadan";
ResDefine.magnet = "magnet";
ResDefine.gold = "gold";
ResDefine.dia = "dia";


/***/ }),

/***/ "./src/script/common/Router.ts":
/*!*************************************!*\
  !*** ./src/script/common/Router.ts ***!
  \*************************************/
/*! exports provided: Router */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Router", function() { return Router; });
/*
 * @Desc: 路由
 *        基于Laya.EventDispatcher实现的路由封装，集成事件路由和消息路由的
 *
 */
var EventDispatcher = Laya.EventDispatcher;
/**
 * 事件路由的默认实现
 */
class Router /* extends EventDispatcher*/ {
    constructor() {
        this._evtDispatcher = new EventDispatcher();
        this._msgDispatcher = new EventDispatcher();
    }
    /**
     * 派发事件。
     * @param type	事件类型。
     * @param data	（可选）回调数据。<b>注意：</b>如果是需要传递多个参数 p1,p2,p3,...可以使用数组结构如：[p1,p2,p3,...] ；如果需要回调单个参数 p ，且 p 是一个数组，则需要使用结构如：[p]，其他的单个参数 p ，可以直接传入参数 p。
     * @return 此事件类型是否有侦听者，如果有侦听者则值为 true，否则值为 false。
     */
    event(type, data) {
        return this._evtDispatcher.event(type, data);
    }
    /**
     * 使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知。
     * @param type		事件的类型。
     * @param caller	事件侦听函数的执行域。
     * @param listener	事件侦听函数。
     * @param args		（可选）事件侦听函数的回调参数。
     * @return 此 EventDispatcher 对象。
     */
    on(type, caller, listener, args) {
        this._evtDispatcher.on(type, caller, listener, args);
    }
    /**
     * 使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知，此侦听事件响应一次后自动移除。
     * @param type		事件的类型。
     * @param caller	事件侦听函数的执行域。
     * @param listener	事件侦听函数。
     * @param args		（可选）事件侦听函数的回调参数。
     * @return 此 EventDispatcher 对象。
     */
    once(type, caller, listener, args) {
        this._evtDispatcher.once(type, caller, listener, args);
    }
    /**
     * 从 EventDispatcher 对象中删除侦听器。
     * @param type		事件的类型。
     * @param caller	事件侦听函数的执行域。
     * @param listener	事件侦听函数。
     * @param onceOnly	（可选）如果值为 true ,则只移除通过 once 方法添加的侦听器。
     * @return 此 EventDispatcher 对象。
     */
    off(type, caller, listener, onceOnly) {
        this._evtDispatcher.off(type, caller, listener, onceOnly);
    }
    /**
     * 从 EventDispatcher 对象中删除指定事件类型的所有侦听器。
     * @param type	（可选）事件类型，如果值为 null，则移除本对象所有类型的侦听器。
     * @return 此 EventDispatcher 对象。
     */
    offAll(type) {
        this._evtDispatcher.offAll(type);
    }
    /**
     * 移除caller为target的所有事件监听
     * @param	caller caller对象
     */
    offAllCaller(caller) {
        this._evtDispatcher.offAllCaller(caller);
    }
    /**
     * 路由事件。
     * @param type	事件类型。
     * @param data	（可选）回调数据。<b>注意：</b>如果是需要传递多个参数 p1,p2,p3,...可以使用数组结构如：[p1,p2,p3,...] ；如果需要回调单个参数 p ，且 p 是一个数组，则需要使用结构如：[p]，其他的单个参数 p ，可以直接传入参数 p。
     * @return 此事件类型是否有侦听者，如果有侦听者则值为 true，否则值为 false。
     */
    route(type, data) {
        if (data === void 0)
            return this.event(type);
        return this.event(type, data);
    }
    /**
     * 使用对象注册指定类型的消息侦听器对象，以使侦听器能够接收消息通知。
     * @param type		消息的类型。
     * @param caller	消息侦听函数的执行域。
     * @param listener	消息侦听函数。
     * @param args		（可选）消息侦听函数的回调参数。
     * @return 此 EventDispatcher 对象。
     */
    onMsg(msgtype, caller, listener, args) {
        this._msgDispatcher.on(msgtype.toString(), caller, listener, args);
    }
    /**
     * 从 EventDispatcher 对象中删除侦听器。
     * @param type		消息的类型。
     * @param caller	消息侦听函数的执行域。
     * @param listener	消息侦听函数。
     * @param onceOnly	（可选）如果值为 true ,则只移除通过 once 方法添加的侦听器。
     * @return 此 EventDispatcher 对象。
     */
    offMsg(msgtype, caller, listener) {
        this._msgDispatcher.off(msgtype.toString(), caller, listener);
    }
    /**
     * 移除caller为target的所有消息监听
     * @param	caller caller对象
     */
    offAllCallerMsg(caller) {
        this._msgDispatcher.offAllCaller(caller);
    }
    /**
     * 路由消息
     * @param type 消息的类型
     * @param data 消息对象
     */
    routeMsg(msgtype, msg) {
        this._msgDispatcher.event(msgtype.toString(), msg);
    }
}


/***/ }),

/***/ "./src/script/config/AudioConfig.ts":
/*!******************************************!*\
  !*** ./src/script/config/AudioConfig.ts ***!
  \******************************************/
/*! exports provided: AudioConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AudioConfig", function() { return AudioConfig; });
var AudioConfig;
(function (AudioConfig) {
    class config {
    }
    AudioConfig.config = config;
    AudioConfig.isConst = false;
    AudioConfig.path = "res/config/AudioConfig.json";
})(AudioConfig || (AudioConfig = {}));


/***/ }),

/***/ "./src/script/config/DiceConfig.ts":
/*!*****************************************!*\
  !*** ./src/script/config/DiceConfig.ts ***!
  \*****************************************/
/*! exports provided: DiceConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiceConfig", function() { return DiceConfig; });
var DiceConfig;
(function (DiceConfig) {
    class config {
    }
    DiceConfig.config = config;
    DiceConfig.isConst = false;
    DiceConfig.path = "res/config/DiceConfig.json";
})(DiceConfig || (DiceConfig = {}));


/***/ }),

/***/ "./src/script/config/EffectConfig.ts":
/*!*******************************************!*\
  !*** ./src/script/config/EffectConfig.ts ***!
  \*******************************************/
/*! exports provided: EffectConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EffectConfig", function() { return EffectConfig; });
var EffectConfig;
(function (EffectConfig) {
    class config {
    }
    EffectConfig.config = config;
    EffectConfig.isConst = false;
    EffectConfig.path = "res/config/EffectConfig.json";
})(EffectConfig || (EffectConfig = {}));


/***/ }),

/***/ "./src/script/config/EggConfig.ts":
/*!****************************************!*\
  !*** ./src/script/config/EggConfig.ts ***!
  \****************************************/
/*! exports provided: EggConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EggConfig", function() { return EggConfig; });
var EggConfig;
(function (EggConfig) {
    class config {
    }
    EggConfig.config = config;
    EggConfig.isConst = false;
    EggConfig.path = "res/config/EggConfig.json";
})(EggConfig || (EggConfig = {}));


/***/ }),

/***/ "./src/script/config/GameConst.ts":
/*!****************************************!*\
  !*** ./src/script/config/GameConst.ts ***!
  \****************************************/
/*! exports provided: GameConst */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameConst", function() { return GameConst; });
var GameConst;
(function (GameConst) {
    class config {
    }
    GameConst.config = config;
    GameConst.isConst = true;
    GameConst.path = "res/config/GameConst.json";
})(GameConst || (GameConst = {}));


/***/ }),

/***/ "./src/script/config/LevelConfig.ts":
/*!******************************************!*\
  !*** ./src/script/config/LevelConfig.ts ***!
  \******************************************/
/*! exports provided: LevelConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelConfig", function() { return LevelConfig; });
var LevelConfig;
(function (LevelConfig) {
    class config {
    }
    LevelConfig.config = config;
    LevelConfig.isConst = false;
    LevelConfig.path = "res/config/LevelConfig.json";
})(LevelConfig || (LevelConfig = {}));


/***/ }),

/***/ "./src/script/config/PackConst.ts":
/*!****************************************!*\
  !*** ./src/script/config/PackConst.ts ***!
  \****************************************/
/*! exports provided: PackConst */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PackConst", function() { return PackConst; });
var PackConst;
(function (PackConst) {
    class config {
    }
    PackConst.config = config;
    PackConst.isConst = true;
    PackConst.path = "res/config/PackConst.json";
})(PackConst || (PackConst = {}));


/***/ }),

/***/ "./src/script/config/PushConfig.ts":
/*!*****************************************!*\
  !*** ./src/script/config/PushConfig.ts ***!
  \*****************************************/
/*! exports provided: PushConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PushConfig", function() { return PushConfig; });
var PushConfig;
(function (PushConfig) {
    class config {
    }
    PushConfig.config = config;
    PushConfig.isConst = false;
    PushConfig.path = "res/config/PushConfig.json";
})(PushConfig || (PushConfig = {}));


/***/ }),

/***/ "./src/script/config/RewardCodeConfig.ts":
/*!***********************************************!*\
  !*** ./src/script/config/RewardCodeConfig.ts ***!
  \***********************************************/
/*! exports provided: RewardCodeConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RewardCodeConfig", function() { return RewardCodeConfig; });
var RewardCodeConfig;
(function (RewardCodeConfig) {
    class config {
    }
    RewardCodeConfig.config = config;
    RewardCodeConfig.isConst = false;
    RewardCodeConfig.path = "res/config/RewardCodeConfig.json";
})(RewardCodeConfig || (RewardCodeConfig = {}));


/***/ }),

/***/ "./src/script/config/RollConfig.ts":
/*!*****************************************!*\
  !*** ./src/script/config/RollConfig.ts ***!
  \*****************************************/
/*! exports provided: RollConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RollConfig", function() { return RollConfig; });
var RollConfig;
(function (RollConfig) {
    class config {
    }
    RollConfig.config = config;
    RollConfig.isConst = false;
    RollConfig.path = "res/config/RollConfig.json";
})(RollConfig || (RollConfig = {}));


/***/ }),

/***/ "./src/script/config/SignConfig.ts":
/*!*****************************************!*\
  !*** ./src/script/config/SignConfig.ts ***!
  \*****************************************/
/*! exports provided: SignConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignConfig", function() { return SignConfig; });
var SignConfig;
(function (SignConfig) {
    class config {
    }
    SignConfig.config = config;
    SignConfig.isConst = false;
    SignConfig.path = "res/config/SignConfig.json";
})(SignConfig || (SignConfig = {}));


/***/ }),

/***/ "./src/script/config/TaskConfig.ts":
/*!*****************************************!*\
  !*** ./src/script/config/TaskConfig.ts ***!
  \*****************************************/
/*! exports provided: TaskConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskConfig", function() { return TaskConfig; });
var TaskConfig;
(function (TaskConfig) {
    class config {
    }
    TaskConfig.config = config;
    TaskConfig.isConst = false;
    TaskConfig.path = "res/config/TaskConfig.json";
})(TaskConfig || (TaskConfig = {}));


/***/ }),

/***/ "./src/script/config/TryItemConfig.ts":
/*!********************************************!*\
  !*** ./src/script/config/TryItemConfig.ts ***!
  \********************************************/
/*! exports provided: TryItemConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TryItemConfig", function() { return TryItemConfig; });
var TryItemConfig;
(function (TryItemConfig) {
    class config {
    }
    TryItemConfig.config = config;
    TryItemConfig.isConst = false;
    TryItemConfig.path = "res/config/TryItemConfig.json";
})(TryItemConfig || (TryItemConfig = {}));


/***/ }),

/***/ "./src/script/logic/LevelSaveData.ts":
/*!*******************************************!*\
  !*** ./src/script/logic/LevelSaveData.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelSaveData; });
/* harmony import */ var _LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/LTUtils/StringEx */ "./src/LTGame/LTUtils/StringEx.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");


class LevelSaveData {
    constructor() {
        this._saveDataName = "LevelSaveData_2048_3";
        LevelSaveData.instance = this;
        this._levelSaveData = {
            taskId: 0,
            diceDatas: []
        };
        this._readLevelData();
    }
    get levelSaveData() { return this._levelSaveData; }
    _readLevelData() {
        let readStr = Laya.LocalStorage.getJSON(this._saveDataName);
        if (!_LTGame_LTUtils_StringEx__WEBPACK_IMPORTED_MODULE_0__["default"].IsNullOrEmpty(readStr)) {
            let jsonData = JSON.parse(readStr);
            for (let key in jsonData) {
                this._levelSaveData[key] = jsonData[key];
            }
        }
    }
    _saveLevelData() {
        // console.error("保存中...");
        if (!this._levelSaveData)
            return;
        let diceDatas = [];
        let diceAry = _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_1__["default"].game.level.diceAry;
        let len = diceAry.length;
        while (--len >= 0) {
            let dice = diceAry[len];
            diceDatas[diceDatas.length] = dice.diceSaveData;
            let pos = dice.rootObj.transform.position;
            dice.diceSaveData.state = dice.state;
            dice.diceSaveData.position.x = pos.x;
            dice.diceSaveData.position.y = pos.y;
            dice.diceSaveData.position.z = pos.z;
            let rotation = dice.rootObj.transform.rotation;
            dice.diceSaveData.rotation.x = rotation.x;
            dice.diceSaveData.rotation.y = rotation.y;
            dice.diceSaveData.rotation.z = rotation.z;
            dice.diceSaveData.rotation.w = rotation.w;
        }
        this._levelSaveData.taskId = _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_1__["default"].game.level.curTaskId;
        this._levelSaveData.diceDatas = diceDatas;
        let json = JSON.stringify(this._levelSaveData);
        Laya.LocalStorage.setJSON(this._saveDataName, json);
    }
    saveLevelData() {
        Laya.timer.callLater(this, this._saveLevelData);
    }
    clearLevelSaveData() {
        this._levelSaveData.taskId = 0;
        this._levelSaveData.diceDatas = [];
        let json = JSON.stringify(this._levelSaveData);
        Laya.LocalStorage.setJSON(this._saveDataName, json);
    }
}


/***/ }),

/***/ "./src/script/logic/camera/ViewCamera.ts":
/*!***********************************************!*\
  !*** ./src/script/logic/camera/ViewCamera.ts ***!
  \***********************************************/
/*! exports provided: ViewCamera */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewCamera", function() { return ViewCamera; });
/* harmony import */ var _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../LTGame/LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../LTGame/LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");
/* harmony import */ var _common_ComTools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/ComTools */ "./src/script/common/ComTools.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/Const */ "./src/script/common/Const.ts");




class ViewCamera {
    get animator() {
        return this._animator;
    }
    BindView(obj) {
        this.rootObj = obj;
        let camera_ani = this.rootObj.getChildAt(0);
        this._animator = camera_ani.getComponent(Laya.Animator);
        this._animator && this._animator.play();
        this.rawCamera = camera_ani.getChildAt(0);
        this.rawCamera.farPlane = 100;
        // this.rootObj.transform.position = GlobalUnit.game.player.rootObj.transform.position;
        let light = camera_ani.getChildAt(1);
        light.shadowMode = Laya.ShadowMode.Hard;
        light.shadowDistance = 25;
        light.shadowStrength = 0.6;
        // this.goldCamera = camera_ani.getChildAt(2) as Laya.Camera;
        // // this.goldCamera.layer = 5;
        // this.goldCamera.cullingMask = Math.pow(2,5);
    }
    // public StartFollow(player: ViewPlayer) {
    //     this._followPlayer = player;
    //     this._cacheSpeedY = [0];
    // }
    StopFollow() {
        // this._followPlayer = null;
    }
    LateUpdate(dt) {
        // if (this._followPlayer == null) return;
        // let oldPos = this.rootObj.transform.position;
        // let targetPos = this._followPlayer.rootObj.transform.position;
        // oldPos.z = targetPos.z;
        // oldPos.y = MathEx.SmoothDamp(oldPos.y, targetPos.y, this._cacheSpeedY, 0.3, 100, dt);
        // this.rootObj.transform.position = oldPos;
    }
    directorLookAt(pos) {
        return __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => {
                let p = pos.clone();
                p.z -= 1;
                _common_ComTools__WEBPACK_IMPORTED_MODULE_2__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_3__["Const"].EFFECT_ID.ID_1, 0.9, p);
                // let start = Laya.timer.currTimer;
                // console.error(`开始：${start}`)
                let camera = this.rawCamera;
                let initPos = camera.transform.position.clone();
                let initRotation = camera.transform.rotation.clone();
                camera.transform.localPositionX = pos.x;
                camera.transform.localPositionY = 3;
                camera.transform.localPositionZ = pos.z - 5;
                camera.transform.lookAt(pos, _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_1__["default"].s_up, false);
                let targetPos = camera.transform.position.clone();
                let targetRotation = camera.transform.rotation.clone();
                camera.transform.position = initPos;
                camera.transform.rotation = initRotation;
                let cPos = initPos;
                let tPos = targetPos;
                let cRotation = initRotation;
                let tRotation = targetRotation;
                let transform = this.rawCamera.transform;
                let that = { pro: 0 };
                let updataPos = () => {
                    let v = that.pro;
                    let np = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_1__["default"].temp;
                    Laya.Vector3.lerp(cPos, tPos, _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].Clamp01(v), np);
                    transform.position = np;
                    let rp = Laya.Quaternion.DEFAULT;
                    Laya.Quaternion.lerp(cRotation, tRotation, _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_0__["default"].Clamp01(v), rp);
                    transform.rotation = rp;
                };
                Laya.Tween.to(that, {
                    pro: 1,
                    update: new Laya.Handler(this, updataPos)
                }, 1500, Laya.Ease.quadOut, Laya.Handler.create(this, () => {
                    resolve(true);
                }));
                // let end = Laya.timer.currTimer;
                // console.error(`结束：${end}`)
                // console.error(`差值：${start - end}`);
            });
        });
    }
    clearCamera() {
        this._animator = null;
        this.rootObj = null;
        this.rawCamera = null;
    }
}


/***/ }),

/***/ "./src/script/logic/game/BaseGameState.ts":
/*!************************************************!*\
  !*** ./src/script/logic/game/BaseGameState.ts ***!
  \************************************************/
/*! exports provided: BaseGameState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseGameState", function() { return BaseGameState; });
/* harmony import */ var _LTGame_Fsm_BaseState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../LTGame/Fsm/BaseState */ "./src/LTGame/Fsm/BaseState.ts");

class BaseGameState extends _LTGame_Fsm_BaseState__WEBPACK_IMPORTED_MODULE_0__["default"] {
}


/***/ }),

/***/ "./src/script/logic/game/EGameState.ts":
/*!*********************************************!*\
  !*** ./src/script/logic/game/EGameState.ts ***!
  \*********************************************/
/*! exports provided: EGameState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EGameState", function() { return EGameState; });
var EGameState;
(function (EGameState) {
    EGameState[EGameState["None"] = 0] = "None";
    EGameState[EGameState["Main"] = 1] = "Main";
    EGameState[EGameState["Fight"] = 2] = "Fight";
    EGameState[EGameState["Reset"] = 3] = "Reset";
    EGameState[EGameState["Reborn"] = 4] = "Reborn";
    EGameState[EGameState["Win"] = 5] = "Win";
    EGameState[EGameState["Lose"] = 6] = "Lose";
})(EGameState || (EGameState = {}));


/***/ }),

/***/ "./src/script/logic/game/GameStateFight.ts":
/*!*************************************************!*\
  !*** ./src/script/logic/game/GameStateFight.ts ***!
  \*************************************************/
/*! exports provided: GameStateFight */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameStateFight", function() { return GameStateFight; });
/* harmony import */ var _BaseGameState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseGameState */ "./src/script/logic/game/BaseGameState.ts");
/* harmony import */ var _EGameState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EGameState */ "./src/script/logic/game/EGameState.ts");
/* harmony import */ var _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/UI_FightMediator */ "./src/script/ui/UI_FightMediator.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _ui_UI_ReadSaveDataMediator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/UI_ReadSaveDataMediator */ "./src/script/ui/UI_ReadSaveDataMediator.ts");
/* harmony import */ var _LevelSaveData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../LevelSaveData */ "./src/script/logic/LevelSaveData.ts");
/* harmony import */ var _config_GameConst__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../config/GameConst */ "./src/script/config/GameConst.ts");




var LEVEL_STATE = _common_Const__WEBPACK_IMPORTED_MODULE_3__["Const"].LEVEL_STATE;




class GameStateFight extends _BaseGameState__WEBPACK_IMPORTED_MODULE_0__["BaseGameState"] {
    constructor(owner) {
        super(owner, _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Fight);
    }
    _DoEnter(exitState, param) {
        _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_2__["default"].instance.Show();
        let event = param;
        switch (exitState.id) {
            case _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Main:
                this._curState = LEVEL_STATE.READY;
                this._FromMain(event);
                break;
            case _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Reborn:
                this.owner.level.state = LEVEL_STATE.RE_GAME;
                break;
        }
    }
    _FromMain(event) {
        return __awaiter(this, void 0, void 0, function* () {
            //超过2048看广告读取进度
            if (_LevelSaveData__WEBPACK_IMPORTED_MODULE_6__["default"].instance.levelSaveData.taskId > _config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.taskId) {
                _ui_UI_ReadSaveDataMediator__WEBPACK_IMPORTED_MODULE_5__["default"].instance.Show();
                let isRead = yield _ui_UI_ReadSaveDataMediator__WEBPACK_IMPORTED_MODULE_5__["default"].instance.waitPromise();
                if (isRead) {
                    this._StartLevel(event);
                }
                else {
                    _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_2__["default"].instance.Hide();
                    this.isFinished = true;
                    this.nextState = _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Reset;
                }
            }
            else {
                this._StartLevel(event);
            }
        });
    }
    _StartLevel(event) {
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.recordManager.StartRecord(null, null);
        this.owner.level.StartLevel(event);
    }
    _DoRunning() {
        this.owner.level.LogicUpdate(this.deltaTime);
        let state = this.owner.level.state;
        this._enterNewState(state);
        // switch (state) {
        //     case LEVEL_STATE.END:
        //         {
        //         }
        //         break;
        //     case LEVEL_STATE.WIN:
        //         {
        //         }
        //         break;
        //     case LEVEL_STATE.LOSE:
        //         {
        //         }
        //         break;
        //     default:
        //         break;
        // }
    }
    _enterNewState(newState) {
        if (this._curState == newState)
            return;
        this._curState = newState;
        switch (newState) {
            case LEVEL_STATE.WIN:
                {
                    this.isFinished = true;
                    this.nextState = _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Win;
                }
                break;
            case LEVEL_STATE.LOSE:
                {
                    this.isFinished = true;
                    this.nextState = _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Lose;
                }
                break;
            default:
                break;
        }
    }
}


/***/ }),

/***/ "./src/script/logic/game/GameStateLose.ts":
/*!************************************************!*\
  !*** ./src/script/logic/game/GameStateLose.ts ***!
  \************************************************/
/*! exports provided: GameStateLose */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameStateLose", function() { return GameStateLose; });
/* harmony import */ var _BaseGameState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseGameState */ "./src/script/logic/game/BaseGameState.ts");
/* harmony import */ var _EGameState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EGameState */ "./src/script/logic/game/EGameState.ts");
/* harmony import */ var _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/UI_FightMediator */ "./src/script/ui/UI_FightMediator.ts");
/* harmony import */ var _ui_UI_LoseMediator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/UI_LoseMediator */ "./src/script/ui/UI_LoseMediator.ts");




class GameStateLose extends _BaseGameState__WEBPACK_IMPORTED_MODULE_0__["BaseGameState"] {
    constructor(owner) {
        super(owner, _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Lose);
    }
    _DoEnter() {
        return __awaiter(this, void 0, void 0, function* () {
            _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_2__["default"].instance.Hide();
            _ui_UI_LoseMediator__WEBPACK_IMPORTED_MODULE_3__["default"].instance.Show();
            let state = yield _ui_UI_LoseMediator__WEBPACK_IMPORTED_MODULE_3__["default"].instance.waitPromise();
            if (state) {
                this.isFinished = true;
                this.nextState = _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Reborn;
            }
            else {
                this.isFinished = true;
                this.nextState = _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Reset;
            }
        });
    }
}


/***/ }),

/***/ "./src/script/logic/game/GameStateMain.ts":
/*!************************************************!*\
  !*** ./src/script/logic/game/GameStateMain.ts ***!
  \************************************************/
/*! exports provided: GameStateMain */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameStateMain", function() { return GameStateMain; });
/* harmony import */ var _BaseGameState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseGameState */ "./src/script/logic/game/BaseGameState.ts");
/* harmony import */ var _EGameState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EGameState */ "./src/script/logic/game/EGameState.ts");
/* harmony import */ var _ui_UI_MainMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/UI_MainMediator */ "./src/script/ui/UI_MainMediator.ts");
/* harmony import */ var _common_GameData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/GameData */ "./src/script/common/GameData.ts");




class GameStateMain extends _BaseGameState__WEBPACK_IMPORTED_MODULE_0__["BaseGameState"] {
    constructor(owner) {
        super(owner, _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Main);
    }
    _DoEnter(param) {
        return __awaiter(this, void 0, void 0, function* () {
            _ui_UI_MainMediator__WEBPACK_IMPORTED_MODULE_2__["UI_MainMediator"].instance.Show();
            this.owner.level.levelData.lvId = _common_GameData__WEBPACK_IMPORTED_MODULE_3__["default"].instance.curLv;
            this.owner.CreateGame();
        });
    }
}


/***/ }),

/***/ "./src/script/logic/game/GameStateReborn.ts":
/*!**************************************************!*\
  !*** ./src/script/logic/game/GameStateReborn.ts ***!
  \**************************************************/
/*! exports provided: GameStateReborn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameStateReborn", function() { return GameStateReborn; });
/* harmony import */ var _BaseGameState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseGameState */ "./src/script/logic/game/BaseGameState.ts");
/* harmony import */ var _EGameState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EGameState */ "./src/script/logic/game/EGameState.ts");


class GameStateReborn extends _BaseGameState__WEBPACK_IMPORTED_MODULE_0__["BaseGameState"] {
    constructor(owner) {
        super(owner, _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Reborn);
    }
    _DoEnter(exitState, param) {
        this._AsyncAction();
    }
    _AsyncAction() {
        return __awaiter(this, void 0, void 0, function* () {
            // LTUI.ShowLoading('资源加载中');
            // this.owner.ClearGame();
            // let loadUrls: string[] = [];
            // this.owner.player.SetDressId(GameData.instance.dressId);
            // this.owner.player.SetPlayerId(GameData.instance.playerId);
            // this.owner.player.SetRollerId(GameData.instance.rollderId);
            // this.owner.player.SetDressPackId(GameData.instance.dressItemId);
            // this.owner.level.SetLevelId(this._cacheLevelId);
            // this.owner.Preload(loadUrls);
            // await LTRes.LoadAsync(loadUrls);
            // this.owner.CreateGame(this.owner.rebornIndex);
            // this.isFinished = true;
            // this.nextState = EGameState.Main;
            // UI_RebornReadyMediator.instance.Show();
            this.isFinished = true;
            this.nextState = _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Fight;
            // LTUI.HideLoading();
        });
    }
}


/***/ }),

/***/ "./src/script/logic/game/GameStateReset.ts":
/*!*************************************************!*\
  !*** ./src/script/logic/game/GameStateReset.ts ***!
  \*************************************************/
/*! exports provided: GameStateReset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameStateReset", function() { return GameStateReset; });
/* harmony import */ var _BaseGameState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseGameState */ "./src/script/logic/game/BaseGameState.ts");
/* harmony import */ var _EGameState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EGameState */ "./src/script/logic/game/EGameState.ts");
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");




class GameStateReset extends _BaseGameState__WEBPACK_IMPORTED_MODULE_0__["BaseGameState"] {
    constructor(owner) {
        super(owner, _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Reset);
    }
    _DoEnter(exitState, param) {
        this._AsyncAction();
    }
    _AsyncAction() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].ShowLoading('资源加载中');
            this.owner.ClearGame();
            let urls = [];
            this.owner.lvPreload(urls);
            yield _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_2__["default"].LoadAsync(urls);
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_3__["default"].HideLoading();
            this.isFinished = true;
            this.nextState = _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Main;
        });
    }
}


/***/ }),

/***/ "./src/script/logic/game/GameStateWin.ts":
/*!***********************************************!*\
  !*** ./src/script/logic/game/GameStateWin.ts ***!
  \***********************************************/
/*! exports provided: GameStateWin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameStateWin", function() { return GameStateWin; });
/* harmony import */ var _BaseGameState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseGameState */ "./src/script/logic/game/BaseGameState.ts");
/* harmony import */ var _EGameState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EGameState */ "./src/script/logic/game/EGameState.ts");
/* harmony import */ var _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/UI_FightMediator */ "./src/script/ui/UI_FightMediator.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTG_CommonUI_Data_LTG_Com_ShareVideoData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../LTG_CommonUI/Data/LTG_Com_ShareVideoData */ "./src/LTG_CommonUI/Data/LTG_Com_ShareVideoData.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");






class GameStateWin extends _BaseGameState__WEBPACK_IMPORTED_MODULE_0__["BaseGameState"] {
    constructor(owner) {
        super(owner, _EGameState__WEBPACK_IMPORTED_MODULE_1__["EGameState"].Win);
    }
    _DoEnter() {
        Laya.timer.once(3000, this, () => {
            _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_2__["default"].instance.Hide();
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.recordManager.StopRecord(null);
            if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.recordManager.supportRecord) {
                let openData = new _LTG_CommonUI_Data_LTG_Com_ShareVideoData__WEBPACK_IMPORTED_MODULE_4__["LTG_Com_ShareVideoData"]();
                openData.camera = _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_5__["default"].game.camera.rawCamera;
                openData.onClosed = Laya.Handler.create(this, (code) => {
                    if (code == 1) {
                        // CurrencyManager.instance.changeCurrency(GameConst.data.share_reward_coin);
                        // LTUI.Toast('获得分享奖励:' + GameConst.data.share_reward_coin + "金币");
                    }
                    this._FinalEnd();
                });
                openData.Send();
            }
            else {
                this._FinalEnd();
            }
        });
    }
    _FinalEnd() {
        // UI_WinMediator.instance.Show();
    }
}


/***/ }),

/***/ "./src/script/logic/game/ViewGame.ts":
/*!*******************************************!*\
  !*** ./src/script/logic/game/ViewGame.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ViewGame; });
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../LTGame/LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _common_ResDefine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/ResDefine */ "./src/script/common/ResDefine.ts");
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _LTG_CommonUI_Data_LTG_Com_TrySkinData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../LTG_CommonUI/Data/LTG_Com_TrySkinData */ "./src/LTG_CommonUI/Data/LTG_Com_TrySkinData.ts");
/* harmony import */ var _LTG_CommonUI_Data_LTG_Com_SignData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../LTG_CommonUI/Data/LTG_Com_SignData */ "./src/LTG_CommonUI/Data/LTG_Com_SignData.ts");
/* harmony import */ var _LTG_CommonUI_Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../LTG_CommonUI/Data/LTG_Com_EggWallData */ "./src/LTG_CommonUI/Data/LTG_Com_EggWallData.ts");
/* harmony import */ var _LTG_CommonUI_Data_LTG_Com_RollData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../LTG_CommonUI/Data/LTG_Com_RollData */ "./src/LTG_CommonUI/Data/LTG_Com_RollData.ts");
/* harmony import */ var _common_GameData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/GameData */ "./src/script/common/GameData.ts");
/* harmony import */ var _LTGame_Fsm_StateMachine__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../LTGame/Fsm/StateMachine */ "./src/LTGame/Fsm/StateMachine.ts");
/* harmony import */ var _level_ViewLevel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../level/ViewLevel */ "./src/script/logic/level/ViewLevel.ts");
/* harmony import */ var _camera_ViewCamera__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../camera/ViewCamera */ "./src/script/logic/camera/ViewCamera.ts");
/* harmony import */ var _GameStateMain__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./GameStateMain */ "./src/script/logic/game/GameStateMain.ts");
/* harmony import */ var _GameStateFight__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./GameStateFight */ "./src/script/logic/game/GameStateFight.ts");
/* harmony import */ var _GameStateReset__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./GameStateReset */ "./src/script/logic/game/GameStateReset.ts");
/* harmony import */ var _GameStateWin__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./GameStateWin */ "./src/script/logic/game/GameStateWin.ts");
/* harmony import */ var _GameStateLose__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./GameStateLose */ "./src/script/logic/game/GameStateLose.ts");
/* harmony import */ var _EGameState__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./EGameState */ "./src/script/logic/game/EGameState.ts");
/* harmony import */ var _LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../LTGame/LTUtils/MonoHelper */ "./src/LTGame/LTUtils/MonoHelper.ts");
/* harmony import */ var _config_TryItemConfig__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../config/TryItemConfig */ "./src/script/config/TryItemConfig.ts");
/* harmony import */ var _manager_AudioManager__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _GameStateReborn__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./GameStateReborn */ "./src/script/logic/game/GameStateReborn.ts");
/* harmony import */ var _config_LevelConfig__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../config/LevelConfig */ "./src/script/config/LevelConfig.ts");
/* harmony import */ var _config_DiceConfig__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../config/DiceConfig */ "./src/script/config/DiceConfig.ts");

























class ViewGame {
    constructor() {
        /**进入游戏次数 */
        this._enterCount = 0;
        /**总关卡 */
        this._totalLv = 0;
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_21__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_0__["Const"].SOUND.SOUND_1);
        this.camera = new _camera_ViewCamera__WEBPACK_IMPORTED_MODULE_12__["ViewCamera"]();
        this.level = new _level_ViewLevel__WEBPACK_IMPORTED_MODULE_11__["ViewLevel"]();
        this._initFsm();
        _LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_19__["default"].instance.AddAction(_LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_19__["EActionType"].Update, this, this._LogicUpdate);
        _LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_19__["default"].instance.AddAction(_LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_19__["EActionType"].LateUpdate, this, this._LateUpdate);
        this._totalLv = _config_LevelConfig__WEBPACK_IMPORTED_MODULE_23__["LevelConfig"].dataList.length;
    }
    get fsm() {
        return this._fsm;
    }
    get enterCount() { return this._enterCount; }
    _initFsm() {
        this._fsm = new _LTGame_Fsm_StateMachine__WEBPACK_IMPORTED_MODULE_10__["default"]();
        this._fsm.Add(new _GameStateMain__WEBPACK_IMPORTED_MODULE_13__["GameStateMain"](this)); //主界面
        this._fsm.Add(new _GameStateFight__WEBPACK_IMPORTED_MODULE_14__["GameStateFight"](this)); //战斗界面
        this._fsm.Add(new _GameStateReset__WEBPACK_IMPORTED_MODULE_15__["GameStateReset"](this)); //重启
        this._fsm.Add(new _GameStateReborn__WEBPACK_IMPORTED_MODULE_22__["GameStateReborn"](this)); //复活
        this._fsm.Add(new _GameStateWin__WEBPACK_IMPORTED_MODULE_16__["GameStateWin"](this)); //胜利
        this._fsm.Add(new _GameStateLose__WEBPACK_IMPORTED_MODULE_17__["GameStateLose"](this)); //失败
    }
    gamePreload(urls) {
        // urls.push(ResDefine.FixPath("line_01"));
        // urls.push(ResDefine.FixPath("yuanpan_01"));
        urls.push(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].FixPath(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].magnet));
        urls.push(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].FixPath(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].bomb));
        urls.push(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].FixPath(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].gold));
        urls.push(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].FixPath(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].dia));
        let len = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_24__["DiceConfig"].dataList.length;
        while (--len >= 0) {
            urls.push(_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].FixPath(_config_DiceConfig__WEBPACK_IMPORTED_MODULE_24__["DiceConfig"].dataList[len].path));
        }
        this.lvPreload(urls);
    }
    lvPreload(urls) {
        this.level.Preload(urls);
    }
    /**
     * 创建
     */
    CreateGame() {
        this.level.CreateLevel();
    }
    /**
     * 清理
     */
    ClearGame() {
        var _a, _b;
        (_a = this.camera) === null || _a === void 0 ? void 0 : _a.clearCamera();
        (_b = this.level) === null || _b === void 0 ? void 0 : _b.ClearLevel();
    }
    /**
     * 开始游戏
     */
    StartGame(event) {
        return __awaiter(this, void 0, void 0, function* () {
            this._enterCount++;
            this._fsm.SetForceChangeState(_EGameState__WEBPACK_IMPORTED_MODULE_18__["EGameState"].Fight, event);
        });
    }
    /**
     * 解锁关卡
     */
    onUnlockLv() {
        let unlockLv = _common_GameData__WEBPACK_IMPORTED_MODULE_9__["default"].instance.unlockLv;
        if (unlockLv < this._totalLv) {
            unlockLv++;
            _common_GameData__WEBPACK_IMPORTED_MODULE_9__["default"].instance.unlockLv = unlockLv;
        }
        let curLv = _common_GameData__WEBPACK_IMPORTED_MODULE_9__["default"].instance.curLv;
        if (curLv < this._totalLv) {
            curLv++;
        }
        else if (curLv == this._totalLv) {
            curLv = 1;
        }
        _common_GameData__WEBPACK_IMPORTED_MODULE_9__["default"].instance.curLv = curLv;
        _common_GameData__WEBPACK_IMPORTED_MODULE_9__["default"].SaveToDisk();
    }
    /**
     * 超凡开局
     * @param handler
     */
    // private async _showSuper() {
    //     UI_SuperMediator.instance.Show();
    //     let confirm = await UI_SuperMediator.instance.waitPromise();
    //     return confirm;
    // }
    /**
     * 转盘
     */
    _showRollPanel() {
        return __awaiter(this, void 0, void 0, function* () {
            let openData = new _LTG_CommonUI_Data_LTG_Com_RollData__WEBPACK_IMPORTED_MODULE_8__["LTG_Com_RollData"]();
            let handler = new Laya.Handler(this, this._OnRollConfig);
            openData.onRolled = handler; //结算奖励
            openData.onSpecial = handler; //特殊奖励
            openData.Send();
            yield openData.WaitClose();
        });
    }
    getTrySkinId(isLoad = true) {
        return __awaiter(this, void 0, void 0, function* () {
            let handArray = [];
            // TryItemConfig.dataList.filter((config: TryItemConfig.config) => {
            //     return !GlobalUnit.dataManager.IsSkinUnlocked(config.try_id);
            // });
            let len = handArray.length;
            if (len == 0) {
                return null;
            }
            let type = _common_Const__WEBPACK_IMPORTED_MODULE_0__["Const"].AWARD_TYPE.SKIN;
            let id = 0;
            let path = "";
            let randIndex = _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_1__["default"].RandomInt(0, len - 1);
            let ref = handArray[randIndex];
            id = ref.id;
            path = ref.display_model_path;
            if (isLoad) {
                _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].ShowLoading('加载中');
                let urls = [_common_ResDefine__WEBPACK_IMPORTED_MODULE_3__["default"].FixPath(path)];
                yield _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_4__["default"].LoadAsync(urls);
                _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].HideLoading();
            }
            return id;
        });
    }
    /**
     * 免费试用
     */
    showTrySkinPanel(tryId = null, handler = null) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!tryId) {
                tryId = yield this.getTrySkinId();
            }
            if (null == tryId) {
                return false;
            }
            let ref = _config_TryItemConfig__WEBPACK_IMPORTED_MODULE_20__["TryItemConfig"].data[tryId];
            return new Promise((resolve, reject) => {
                let openData = new _LTG_CommonUI_Data_LTG_Com_TrySkinData__WEBPACK_IMPORTED_MODULE_5__["LTG_Com_TrySkinData"]();
                openData.modelPath = ref.display_model_path;
                openData.onClose = Laya.Handler.create(this, (isTry) => {
                    if (isTry) {
                        switch (ref.try_type) {
                            case _common_Const__WEBPACK_IMPORTED_MODULE_0__["Const"].AWARD_TYPE.SKIN:
                                this.level.levelData.trySkinId = ref.id;
                                break;
                            default:
                                break;
                        }
                    }
                    handler === null || handler === void 0 ? void 0 : handler.runWith(isTry);
                    resolve(true);
                });
                openData.Send();
            });
        });
    }
    /**
     * 签到
     */
    showSignPanel() {
        let openData = new _LTG_CommonUI_Data_LTG_Com_SignData__WEBPACK_IMPORTED_MODULE_6__["LTG_Com_SignData"]();
        openData.onSign = Laya.Handler.create(this, (signConfig, isWatchAd) => {
            this.OnGetReward(signConfig.reward_type, signConfig.reward_value);
            if (isWatchAd) {
                this.OnGetReward(signConfig.ad_reward_type, signConfig.ad_reward_value);
            }
        });
        openData.Send();
    }
    /**
     * 彩蛋
     */
    showEgg() {
        let openData = new _LTG_CommonUI_Data_LTG_Com_EggWallData__WEBPACK_IMPORTED_MODULE_7__["LTG_Com_EggWallData"]();
        openData.onUnlocked = Laya.Handler.create(this, this.OnGetReward, null, false);
        // openData.onCloseed = Laya.Handler.create(this, () => {
        //     this.StartGame();
        // }, null, true);
        openData.Send();
    }
    /**
     *
     * @param type 奖励类型
     * @param val 奖励id
     */
    OnGetReward(type, val) {
        return __awaiter(this, void 0, void 0, function* () {
            switch (type) {
                case _common_Const__WEBPACK_IMPORTED_MODULE_0__["Const"].AWARD_TYPE.SKIN:
                    {
                        // let ref = FoodConfig.data[val];
                        // GlobalUnit.dataManager.UnlockSkinById(val);
                        // GameData.SaveToDisk();
                        // LTUI.ShowLoading('加载中');
                        // let urls: string[] = [ResDefine.FixPath(ref.path)];
                        // await LTRes.LoadAsync(urls);
                        // LTUI.HideLoading();
                        // LTUI.Toast('获得食材:' + ref.lvName);
                    }
                    break;
                case _common_Const__WEBPACK_IMPORTED_MODULE_0__["Const"].AWARD_TYPE.COIN:
                    {
                        // CurrencyManager.instance.changeCurrency(val)
                    }
                    break;
                default:
                    break;
            }
            _common_GameData__WEBPACK_IMPORTED_MODULE_9__["default"].SaveToDisk();
        });
    }
    _OnRollConfig(rollConfig) {
        let isRewarded = false;
        let type = rollConfig.reward_type;
        switch (type) {
            case _common_Const__WEBPACK_IMPORTED_MODULE_0__["Const"].AWARD_TYPE.SKIN:
                {
                    // isRewarded = GlobalUnit.dataManager.IsHandUnlocked(rollConfig.reward_value);
                }
                break;
            default:
                break;
        }
        if (isRewarded) {
            // 给钻石奖励
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].Toast('该奖励已获取,给与替代奖励');
            this.OnGetReward(rollConfig.re_reward_type, rollConfig.re_reward_value);
        }
        else {
            this.OnGetReward(rollConfig.reward_type, rollConfig.reward_value);
        }
    }
    _LogicUpdate(dt) {
        this._fsm.LogicUpdate(dt);
    }
    _LateUpdate(dt) {
    }
}


/***/ }),

/***/ "./src/script/logic/level/ViewLevel.ts":
/*!*********************************************!*\
  !*** ./src/script/logic/level/ViewLevel.ts ***!
  \*********************************************/
/*! exports provided: ViewLevel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewLevel", function() { return ViewLevel; });
/* harmony import */ var _config_LevelConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config/LevelConfig */ "./src/script/config/LevelConfig.ts");
/* harmony import */ var _common_ResDefine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/ResDefine */ "./src/script/common/ResDefine.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _manager_EffectManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../manager/EffectManager */ "./src/script/manager/EffectManager.ts");
/* harmony import */ var _LTGame_LTUtils_CameraEx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../LTGame/LTUtils/CameraEx */ "./src/LTGame/LTUtils/CameraEx.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _item_Wall__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./item/Wall */ "./src/script/logic/level/item/Wall.ts");
/* harmony import */ var _item_Plane__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./item/Plane */ "./src/script/logic/level/item/Plane.ts");
/* harmony import */ var _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../LTGame/Physics/OIMOPhysicManager */ "./src/LTGame/Physics/OIMOPhysicManager.ts");
/* harmony import */ var _item_Dice__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./item/Dice */ "./src/script/logic/level/item/Dice.ts");
/* harmony import */ var _common_ComTools__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/ComTools */ "./src/script/common/ComTools.ts");
/* harmony import */ var _config_TaskConfig__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../config/TaskConfig */ "./src/script/config/TaskConfig.ts");
/* harmony import */ var _config_GameConst__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../LTGame/Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../LTGame/LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ui/UI_FightMediator */ "./src/script/ui/UI_FightMediator.ts");
/* harmony import */ var _item_Magnet__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./item/Magnet */ "./src/script/logic/level/item/Magnet.ts");
/* harmony import */ var _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../LTGame/LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");
/* harmony import */ var _item_Bomb__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./item/Bomb */ "./src/script/logic/level/item/Bomb.ts");
/* harmony import */ var _config_DiceConfig__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../config/DiceConfig */ "./src/script/config/DiceConfig.ts");
/* harmony import */ var _item_End__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./item/End */ "./src/script/logic/level/item/End.ts");
/* harmony import */ var _LevelSaveData__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../LevelSaveData */ "./src/script/logic/LevelSaveData.ts");
/* harmony import */ var _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../LTGame/LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _manager_AudioManager__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _common_GameData__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../common/GameData */ "./src/script/common/GameData.ts");
/* harmony import */ var _ui_UI_UnlockNewDiceMediator__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../ui/UI_UnlockNewDiceMediator */ "./src/script/ui/UI_UnlockNewDiceMediator.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _manager_EventManager__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../manager/EventManager */ "./src/script/manager/EventManager.ts");
/* harmony import */ var _common_GameEvent__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../common/GameEvent */ "./src/script/common/GameEvent.ts");
/* harmony import */ var _common_CallQueue__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../common/CallQueue */ "./src/script/common/CallQueue.ts");


























var LEVEL_STATE = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].LEVEL_STATE;






class ViewLevel {
    constructor() {
        this._state = LEVEL_STATE.READY;
        this._touchX = -1;
        this._curItem = null;
        this._completeCount = 0;
        this._levelData = {
            /**0 正常开局 1 超凡开局（无敌护盾） */
            state: 0,
            /**关卡ID */
            lvId: 0,
            /**试用皮肤 */
            trySkinId: 0
        };
        this._moveSpeed = _config_GameConst__WEBPACK_IMPORTED_MODULE_14__["GameConst"].data.moveSpeed;
    }
    get curTaskId() { return this._curTaskConfig.id; }
    ;
    set curTaskId(id) {
        if (id > this._maxTaskId)
            return;
        this._curTaskConfig = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_13__["TaskConfig"].data[id];
    }
    get state() { return this._state; }
    set state(state) {
        if (this._state == state)
            return;
        this._state = state;
        switch (state) {
            case LEVEL_STATE.READY:
                { }
                break;
            case LEVEL_STATE.PLAYING:
                { }
                break;
            case LEVEL_STATE.PAUSEING:
                { }
                break;
            case LEVEL_STATE.RE_GAME:
                {
                    let aniNode = this._loseDice.getChildByName("dice").getChildAt(0);
                    aniNode.removeChildren();
                    this._loseDice.active = false;
                    let idx = this._diceAry.length;
                    while (--idx >= 0) {
                        let dice = this._diceAry[idx];
                        if (dice.rootObj.transform.position.z < 0 && _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.READY != dice.state) {
                            this._diceAry.splice(idx, 1)[0];
                            dice.clearItem();
                        }
                    }
                    this.state = LEVEL_STATE.PLAYING;
                    this.unlockScreen();
                    ;
                }
                break;
            case LEVEL_STATE.WIN:
                { }
                break;
            case LEVEL_STATE.LOSE:
                {
                    this.lockScreen(false);
                    _manager_AudioManager__WEBPACK_IMPORTED_MODULE_25__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].SOUND.SOUND_3);
                    this._loseDice.active = true;
                    let aniNode = this._loseDice.getChildByName("dice").getChildAt(0);
                    let ref = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_21__["DiceConfig"].data[this._curMaxDiceId];
                    let diceNode = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__["default"].Get(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixPath(ref.path));
                    aniNode.addChild(diceNode);
                }
                break;
            default:
                break;
        }
    }
    get levelData() { return this._levelData; }
    ;
    get diceAry() { return this._diceAry; }
    Preload(urls) {
        urls.push(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixScene(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].level));
    }
    CreateLevel() {
        return __awaiter(this, void 0, void 0, function* () {
            this.state = LEVEL_STATE.READY;
            this.config = _config_LevelConfig__WEBPACK_IMPORTED_MODULE_0__["LevelConfig"].data[this._levelData.lvId];
            this._maxTaskId = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_13__["TaskConfig"].dataList.length;
            this._maxDiceId = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_21__["DiceConfig"].dataList.length;
            this._diceAry = [];
            this._popUpQueue = new _common_CallQueue__WEBPACK_IMPORTED_MODULE_31__["default"]();
            //创建场景
            let loadScene = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__["default"].Get(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixScene(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].level), true);
            _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__["default"].ResetScene(loadScene);
            _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__["default"].game.camera.BindView(loadScene.getChildByName('camera'));
            this._start = loadScene.getChildByName("start");
            this._guideLine = this._start.getChildAt(0);
            this._guideLine.active = false;
            this._root = loadScene.getChildByName('root');
            this._magnetEnd = loadScene.getChildByName('magnetEnd');
            this._newDice = loadScene.getChildByName('newDice');
            this._newDice.active = false;
            this._loseDice = loadScene.getChildByName('loseDice');
            this._loseDice.active = false;
            /**创建地面墙体 */
            this._walls = [];
            let colliders = loadScene.getChildByName('colliders');
            let len = colliders.numChildren;
            while (--len >= 0) {
                let node = colliders.getChildAt(len);
                let name = node.name;
                if ("wall" == name) {
                    this._walls.push(new _item_Wall__WEBPACK_IMPORTED_MODULE_8__["default"](node));
                }
                else if ("plane" == name) {
                    this._walls.push(new _item_Plane__WEBPACK_IMPORTED_MODULE_9__["default"](node));
                }
                else if ("end" == name) {
                    this._walls.push(new _item_End__WEBPACK_IMPORTED_MODULE_22__["default"](node));
                }
            }
            /**创建初始骰子 */
            let initRoot = loadScene.getChildByName('initRoot');
            this._curMaxDiceId = 3;
            let levelSaveData = _LevelSaveData__WEBPACK_IMPORTED_MODULE_23__["default"].instance.levelSaveData;
            if (0 == levelSaveData.taskId) {
                this.curTaskId = 1;
                let idx = initRoot.numChildren;
                while (--idx >= 0) {
                    let child = initRoot.getChildAt(idx);
                    let name = child.name;
                    let id = Number(name.split("_")[1]);
                    let dice = _item_Dice__WEBPACK_IMPORTED_MODULE_11__["default"].getDice(id, child.transform.position, child.transform.rotation);
                    this._diceAry.push(dice);
                    this._root.addChild(dice.rootObj);
                    dice.state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.PLAYING;
                }
                initRoot.removeSelf();
                this._createStartDice();
            }
            else {
                initRoot.removeSelf();
                this.curTaskId = levelSaveData.taskId;
                let dices = levelSaveData.diceDatas;
                let len = dices.length;
                while (--len >= 0) {
                    let diceData = dices[len];
                    let dice = _item_Dice__WEBPACK_IMPORTED_MODULE_11__["default"].readDiceBySaveData(diceData);
                    this._diceAry.push(dice);
                    this._root.addChild(dice.rootObj);
                    if (!this._curItem && diceData.state == _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.READY) {
                        this._curItem = dice;
                    }
                    this._curMaxDiceId = diceData.id > this._curMaxDiceId ? diceData.id : this._curMaxDiceId;
                }
                if (!this._curItem) {
                    this._createStartDice();
                }
            }
        });
    }
    StartLevel(event) {
        return __awaiter(this, void 0, void 0, function* () {
            this.state = LEVEL_STATE.PLAYING;
            this.lockScreen(false);
            /**鼠标事件 */
            let downHanler = new Laya.Handler(this, this._onMouseDown);
            let upHanler = new Laya.Handler(this, this._onMouseUp);
            let moveHanler = new Laya.Handler(this, this._onMouseMove);
            _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.addHandlerEvent(downHanler, upHanler, moveHanler);
            _manager_EventManager__WEBPACK_IMPORTED_MODULE_29__["EventManager"].on(_common_GameEvent__WEBPACK_IMPORTED_MODULE_30__["GameEvent"].NEW_PROP, this, this._newProp);
            this.unlockScreen();
            this._ShowGuideLine();
            _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.PassEvent(event);
        });
    }
    //点击触发事件
    _onMouseDown(e) {
        switch (this.state) {
            case LEVEL_STATE.PLAYING:
                {
                    this._touchX = e.stageX;
                }
                break;
            default:
                break;
        }
    }
    _onMouseMove(e) {
        if (this._curItem == null)
            return;
        let touchX = e.stageX;
        let dx = (this._touchX - touchX) * this._moveSpeed / 100;
        let nextX = this._curItem.rootObj.transform.localPositionX;
        nextX += dx;
        nextX = nextX > 1.5 ? 1.5 : nextX < -1.5 ? -1.5 : nextX;
        this._curItem.rootObj.transform.localPositionX = nextX;
        this._guideLine.transform.localPositionX = nextX;
        this._touchX = touchX;
    }
    _onMouseUp(e) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this._curItem == null)
                return;
            this._touchX = -1;
            this._guideLine.active = false;
            _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_24__["LTUtils"].Vibrate(false);
            this._completeCount = 0;
            if (_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_TYPE.MAGNET == this._curItem.type) {
                this.lockScreen();
                _common_GameData__WEBPACK_IMPORTED_MODULE_26__["default"].instance.magnetCount--;
                _common_GameData__WEBPACK_IMPORTED_MODULE_26__["default"].SaveToDisk();
                _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.refreshCount();
                yield this._curItem.shoot(this._magnetEnd.transform.position);
                yield this._useMagnet();
                this.unlockScreen();
            }
            else if (_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_TYPE.BOMB == this._curItem.type) {
                _common_GameData__WEBPACK_IMPORTED_MODULE_26__["default"].instance.bombCount--;
                _common_GameData__WEBPACK_IMPORTED_MODULE_26__["default"].SaveToDisk();
                _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.refreshCount();
                this._curItem.shoot();
            }
            else {
                this._curItem.shoot();
            }
            // 设置为空
            this._curItem = null;
            yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_15__["default"].Seconds(1);
            this._createStartDice();
        });
    }
    /**
     * 创建起点骰子
     */
    _createStartDice() {
        if (this._curItem)
            return;
        let config = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_13__["TaskConfig"].data[this.curTaskId];
        let list = config.randomList;
        let weights = config.randomWeights;
        let id = _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_16__["default"].RandomFromWithWeight(list, weights);
        let dice = _item_Dice__WEBPACK_IMPORTED_MODULE_11__["default"].getDice(id, this._start.transform.position);
        this._diceAry.push(dice);
        this._root.addChild(dice.rootObj);
        this._curItem = dice;
        dice.playStartTween();
        this._ShowGuideLine();
    }
    _ShowGuideLine() {
        this._guideLine.active = true;
        this._guideLine.transform.localPositionX = this._start.transform.localPositionX;
    }
    /**
     * 创建磁铁
     */
    createMagnet() {
        if (this._curItem) {
            if (this._curItem.type == _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_TYPE.DICE) {
                this._curItem.state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.RECOVER;
            }
            else {
                _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__["default"].Toast("请先使用上一个道具。");
                return;
            }
        }
        let magnet = new _item_Magnet__WEBPACK_IMPORTED_MODULE_18__["default"](this._start.transform.position);
        this._root.addChild(magnet.rootObj);
        this._curItem = magnet;
    }
    /**
     * 创建炸弹
     */
    createBomb() {
        if (this._curBomb) {
            _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__["default"].Toast("等待上一个");
            return;
        }
        if (this._curItem) {
            if (this._curItem.type == _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_TYPE.DICE) {
                this._curItem.state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.RECOVER;
            }
            else {
                _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__["default"].Toast("请先使用上一个道具。");
                return;
            }
        }
        let bomb = new _item_Bomb__WEBPACK_IMPORTED_MODULE_20__["default"](this._start.transform.position);
        this._root.addChild(bomb.rootObj);
        this._curItem = bomb;
        this._curBomb = bomb;
    }
    /**
     * 创建合成骰子
     */
    createNextDice(id, pos) {
        if (id >= this._maxDiceId)
            return; //超过最大限制
        //连击音效
        this._completeCount++;
        let soundId = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].SOUND.SOUND_6;
        if (this._completeCount > 2) {
            soundId = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].SOUND.SOUND_8;
        }
        else if (this._completeCount > 1) {
            soundId = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].SOUND.SOUND_7;
        }
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_25__["default"].instance.PlayById(soundId);
        _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_24__["LTUtils"].Vibrate(false);
        let dice = _item_Dice__WEBPACK_IMPORTED_MODULE_11__["default"].getDice(id, pos);
        this._diceAry.push(dice);
        this._root.addChild(dice.rootObj);
        dice.state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.JUMP;
        _common_ComTools__WEBPACK_IMPORTED_MODULE_12__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].EFFECT_ID.ID_1, 0.7, pos);
        //金币奖励
        // let count = DiceConfig.data[id].awardGold;
        // CurrencyManager.instance.changeCurrency(count, 700, 1500);
        // let goldPos = CurrencyManager.instance.getCurrencyPos();
        // let endPos = CameraEx.ScreenPosToWorldPos(UI_FightMediator.instance.flyCamera, new Laya.Vector2(goldPos.x, goldPos.y), 3);
        // let endPos = CameraEx.get3DPos(EffectManager.instance.uiEffectCamera, new Laya.Vector2(goldPos.x, goldPos.y));
        // let x = startPos.x + MathEx.Random(-0.5, 0.5);
        // let y = startPos.y + MathEx.Random(1.5, 2.5);
        // let z = startPos.z + MathEx.Random(-2, -1);
        // let start = Vector3Ex.zero;
        // start.setValue(x, y, z);
        // let p1 = EffectManager.instance.uiEffectCamera.transform.position;
        // let p2 = GlobalUnit.game.camera.rawCamera.transform.position;
        // pos.z = endPos.z;
        // pos.y -= endPos.y / 2;
        // pos.x = -pos.x;
        // Currency3D.flyCurrency(pos, endPos);
        if (11 == id) {
            _common_ComTools__WEBPACK_IMPORTED_MODULE_12__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].EFFECT_ID.ID_8, 0.8, new Laya.Vector3(0, 2, 0));
        }
        let handler = Laya.Handler.create(this, this.doTask, [id, dice]);
        this._popUpQueue.addCall(handler);
        this._doPopUpHandler();
        return dice;
    }
    _doPopUpHandler() {
        Laya.timer.callLater(this, () => {
            this._popUpQueue.nextCall();
        });
    }
    doTask(id, dice) {
        return __awaiter(this, void 0, void 0, function* () {
            if (id >= this._curTaskConfig.targetId) { //完成目标任务 解锁新骰子
                _manager_AudioManager__WEBPACK_IMPORTED_MODULE_25__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].SOUND.SOUND_4);
                _common_ComTools__WEBPACK_IMPORTED_MODULE_12__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].EFFECT_ID.ID_2, 2, null, null, dice.rootObj);
                this._curMaxDiceId = id;
                this.curTaskId = this.curTaskId + 1;
                let count = this._curTaskConfig.dia;
                if (id >= _config_GameConst__WEBPACK_IMPORTED_MODULE_14__["GameConst"].data.popNewDiceId) {
                    this.lockScreen();
                    yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_15__["default"].Seconds(2);
                    _ui_UI_UnlockNewDiceMediator__WEBPACK_IMPORTED_MODULE_27__["default"].instance.Show(id);
                    this._newDice.active = true;
                    let aniNode = this._newDice.getChildByName("dice").getChildAt(0);
                    let ref = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_21__["DiceConfig"].data[id];
                    let diceNode = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__["default"].Get(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixPath(ref.path));
                    aniNode.addChild(diceNode);
                    this.unlockScreen();
                    yield _ui_UI_UnlockNewDiceMediator__WEBPACK_IMPORTED_MODULE_27__["default"].instance.waitPromise();
                    diceNode.destroy();
                    this._newDice.active = false;
                    // CurrencyManager.instance.changeCurrency(count, 700, 1500);
                }
                else {
                    // CurrencyManager.instance.changeCurrency(count);
                }
                _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.refreshTask();
                // let goldPos = CurrencyManager.instance.getCurrencyPos();
                // let endPos = CameraEx.ScreenPosToWorldPos(UI_FightMediator.instance.flyCamera, new Laya.Vector2(goldPos.x, goldPos.y), 3);
                // let endPos = CameraEx.get3DPos(EffectManager.instance.uiEffectCamera, new Laya.Vector2(goldPos.x, goldPos.y));
                // Currency3D.flyCurrency(new Laya.Vector3(0, 1.8, -0.5), endPos, 20);
            }
            if (id == _config_GameConst__WEBPACK_IMPORTED_MODULE_14__["GameConst"].data.popShareAndPropId) {
                this.lockScreen(false);
                yield this._showProp();
                this.unlockScreen();
            }
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_28__["default"].instance.recordManager.StartRecord(null, null);
            this._popUpQueue.nextCall();
        });
    }
    _useMagnet() {
        return __awaiter(this, void 0, void 0, function* () {
            _manager_AudioManager__WEBPACK_IMPORTED_MODULE_25__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].SOUND.SOUND_5);
            this._diceAry.sort((a, b) => a.ref.id - b.ref.id);
            let doubleDices = [];
            let idx = this._diceAry.length - 1;
            while (idx > 0) {
                let curDice = this._diceAry[idx];
                let nextDice = this._diceAry[idx - 1];
                if (curDice.ref.id == nextDice.ref.id) {
                    // this._diceAry.splice(idx - 1, 2)
                    doubleDices.push([curDice, nextDice]);
                    idx -= 2;
                }
                else {
                    idx--;
                }
            }
            let len = doubleDices.length;
            if (len > 0) {
                let pos = this._magnetEnd.transform.position.clone();
                pos.y -= 1;
                let callBacks = [];
                let pixs = [];
                for (let i = 0; i < len; i++) {
                    let dices = doubleDices[i];
                    let pix1 = this._createLine();
                    pixs.push(pix1);
                    callBacks.push(dices[0].playFlyTween(pos, pix1));
                    let pix2 = this._createLine();
                    pixs.push(pix2);
                    callBacks.push(dices[1].playFlyTween(pos, pix2));
                }
                yield Promise.all(callBacks);
                for (let i = 0, plen = pixs.length; i < plen; i++) {
                    this._recoverLine(pixs[i]);
                }
                pixs = [];
                // await Awaiters.Seconds(1);
                for (let i = 0; i < len; i++) {
                    let dices = doubleDices[i];
                    dices[0].state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.RECOVER;
                    dices[1].state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.RECOVER;
                    let dice = this.createNextDice(dices[0].ref.compositeId, pos);
                    dice.state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.PLAYING;
                }
                this._curItem.clearItem();
            }
            else {
                yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_15__["default"].Seconds(1);
                this._curItem.clearItem();
            }
        });
    }
    _createLine() {
        let pix = Laya.Pool.getItemByCreateFun(`__line__`, () => {
            return new Laya.PixelLineSprite3D(100);
        });
        this._root.addChild(pix);
        return pix;
    }
    _recoverLine(pix) {
        pix.clear();
        pix.removeSelf();
        Laya.Pool.recover(`__line__`, pix);
    }
    _showProp() {
        return __awaiter(this, void 0, void 0, function* () {
            yield _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.showProp();
        });
    }
    _newProp(type) {
        return __awaiter(this, void 0, void 0, function* () {
            let path = type == _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_TYPE.BOMB ? _common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].bomb : _common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].magnet;
            let pos = type == _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_TYPE.BOMB ? _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.ui.m_btnBomb.localToGlobal(0, 0) :
                _ui_UI_FightMediator__WEBPACK_IMPORTED_MODULE_17__["default"].instance.ui.m_btnMagnet.localToGlobal(0, 0);
            yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_15__["default"].NextFrame();
            this.lockScreen();
            this._newDice.active = true;
            let aniNode = this._newDice.getChildByName("dice").getChildAt(0);
            let magnet = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__["default"].Get(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixPath(path));
            aniNode.addChild(magnet);
            yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_15__["default"].Seconds(1);
            this._newDice.active = false;
            this._root.addChild(magnet);
            let startPos = magnet.transform.position.clone();
            let endPos = _LTGame_LTUtils_CameraEx__WEBPACK_IMPORTED_MODULE_5__["CameraEx"].ScreenPosToWorldPos(_common_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__["default"].game.camera.rawCamera, new Laya.Vector2(pos.x, pos.y), 8);
            let updataHandler = new Laya.Handler(this, (pro) => {
                let np = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_19__["default"].temp;
                Laya.Vector3.lerp(startPos, endPos, _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_16__["default"].Clamp01(pro), np);
                magnet.transform.position = np;
            });
            let endHandler = new Laya.Handler(this, () => {
                this._newDice.active = false;
                magnet.removeSelf();
            });
            _common_ComTools__WEBPACK_IMPORTED_MODULE_12__["ComTools"].runTween(updataHandler, 500, null, endHandler);
            this.unlockScreen();
        });
    }
    /**
     * 锁屏 禁止点击
     */
    lockScreen(isLockUI = true) {
        isLockUI && this._lockUI();
        this._isLockScreen = true;
    }
    unlockScreen() {
        this._unlockUI();
        this._isLockScreen = false;
    }
    _lockUI() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__["default"].LockScreen();
    }
    _unlockUI() {
        _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__["default"].UnlockScreen();
    }
    LogicUpdate(dt) {
        if (LEVEL_STATE.PLAYING == this.state) {
            /**骰子更新 */
            let len = this._diceAry.length;
            while (--len >= 0) {
                let dice = this._diceAry[len];
                if (dice.state == _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.RECOVER) {
                    dice.clearItem();
                    this._diceAry.splice(len, 1);
                }
                else {
                    dice.onLogicUpdate();
                }
            }
            /**炸弹更新 */
            if (this._curBomb) {
                if (this._curBomb.state == _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.RECOVER) {
                    //爆炸
                    _manager_AudioManager__WEBPACK_IMPORTED_MODULE_25__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].SOUND.SOUND_2);
                    let pos = this._curBomb.rootObj.transform.position;
                    let len = this._diceAry.length;
                    let sr = _config_GameConst__WEBPACK_IMPORTED_MODULE_14__["GameConst"].data.scopeR;
                    let kr = _config_GameConst__WEBPACK_IMPORTED_MODULE_14__["GameConst"].data.knockR;
                    while (--len >= 0) {
                        let dice = this._diceAry[len];
                        if (_LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_19__["default"].Distance(pos, dice.rootObj.transform.position) <= kr) {
                            if (_LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_19__["default"].Distance(pos, dice.rootObj.transform.position) <= sr) {
                                dice.state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.RECOVER;
                            }
                            else {
                                dice.state = _common_Const__WEBPACK_IMPORTED_MODULE_6__["Const"].ITEM_STATE.JUMP;
                            }
                        }
                    }
                    this._curBomb.clearItem();
                    this._curBomb = null;
                }
                else {
                    this._curBomb.onLogicUpdate();
                }
            }
            _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_10__["OIMOPhysicManager"].instance.Step(1 / 60);
        }
    }
    ClearLevel() {
        // this._levelData.state = 0;
        // this._levelData.lvId = 0;
        // this._levelData.trySkinId = 0;
        var _a, _b;
        this._curItem = null;
        (_a = this._curBomb) === null || _a === void 0 ? void 0 : _a.clearItem();
        this._curBomb = null;
        (_b = this._tween) === null || _b === void 0 ? void 0 : _b.complete();
        this._tween = null;
        /**清理骰子 */
        let len = this._diceAry.length;
        while (--len >= 0) {
            let dice = this._diceAry[len];
            dice.clearItem(false);
        }
        /**清理墙体 */
        let idx = this._walls.length;
        while (--idx >= 0) {
            this._walls[idx].clear();
        }
        this._walls = [];
        _manager_EffectManager__WEBPACK_IMPORTED_MODULE_4__["EffectManager"].instance.UnloadScene();
        _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__["default"].s3d.destroy();
        _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__["default"].Unload(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixScene(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].level));
        Laya.stage.offAllCaller(this);
        _LevelSaveData__WEBPACK_IMPORTED_MODULE_23__["default"].instance.clearLevelSaveData();
        _manager_EventManager__WEBPACK_IMPORTED_MODULE_29__["EventManager"].offAllCaller(this);
    }
}


/***/ }),

/***/ "./src/script/logic/level/item/Bomb.ts":
/*!*********************************************!*\
  !*** ./src/script/logic/level/item/Bomb.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Bomb; });
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _common_ResDefine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/ResDefine */ "./src/script/common/ResDefine.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/LayerDefine */ "./src/script/common/LayerDefine.ts");
/* harmony import */ var _common_ComTools__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/ComTools */ "./src/script/common/ComTools.ts");
/* harmony import */ var _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../LTGame/Physics/OimoHelper */ "./src/LTGame/Physics/OimoHelper.ts");
/* harmony import */ var _config_GameConst__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../LTGame/Physics/OIMOPhysicManager */ "./src/LTGame/Physics/OIMOPhysicManager.ts");








/**
 * 炸弹
 */
class Bomb {
    /*********************************************end */
    constructor(pos) {
        this.collisionGroup = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__["LayerDefine"].Bomb;
        this.collisionMask = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__["LayerDefine"].Dice | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__["LayerDefine"].Plane | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__["LayerDefine"].Wall;
        this._isShoot = false;
        /*********************************************接口 */
        this.type = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_TYPE.BOMB;
        this.rootObj = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_0__["default"].Get(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixPath(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].bomb));
        this.rootObj.transform.position = pos;
        //创建刚体
        let transform = this.rootObj.transform;
        this._rig = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_5__["OimoHelper"].CreateRigbody(transform.position, transform.rotation, OIMO.RigidBodyType.KINEMATIC);
        let shape = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_5__["OimoHelper"].CreateShapeByObj(this.rootObj, this.collisionGroup, this.collisionMask);
        this._rig.addShape(shape);
        this._rig.sleep();
        this._rig.userData = this;
        let contactCallback = shape.getContactCallback();
        contactCallback = new OIMO.ContactCallback();
        contactCallback.beginContact = this._beginContact.bind(this);
        shape.setContactCallback(contactCallback);
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_7__["OIMOPhysicManager"].instance.world.addRigidBody(this._rig);
        this.rootObj["__owner__"] = this;
    }
    shoot() {
        this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.SHOOT;
    }
    /************************碰撞事件 */
    _beginContact(c) {
        let data1 = c.getShape1().getRigidBody().userData;
        let data2 = c.getShape2().getRigidBody().userData;
        let other = data1 == this ? data2 : data1;
        this._onTrigger(other);
    }
    _preSolve(c) { }
    _postSolve(c) { }
    _endContact(c) { }
    _onTrigger(other) {
        let collisionGroup = other.collisionGroup;
        switch (collisionGroup) {
            case _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__["LayerDefine"].Dice:
                this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RECOVER;
                _common_ComTools__WEBPACK_IMPORTED_MODULE_4__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].EFFECT_ID.ID_6, 0.7, this.rootObj.transform.position);
                break;
            case _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__["LayerDefine"].Plane:
                break;
            case _common_LayerDefine__WEBPACK_IMPORTED_MODULE_3__["LayerDefine"].Wall:
                this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RECOVER;
                _common_ComTools__WEBPACK_IMPORTED_MODULE_4__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].EFFECT_ID.ID_6, 0.7, this.rootObj.transform.position);
                break;
            default:
                break;
        }
    }
    /**
     * 每帧更新时执行
     */
    onLogicUpdate() {
        if (this._isShoot) {
            _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_5__["OimoHelper"].SyncTransFromRig(this.rootObj.transform, this._rig);
        }
        else {
            _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_5__["OimoHelper"].SyncTransToRig(this.rootObj.transform, this._rig);
        }
    }
    get state() { return this._state; }
    set state(state) {
        if (this._state == state)
            return;
        this._state = state;
        switch (state) {
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.READY:
                {
                    this._rig.setType(OIMO.RigidBodyType.KINEMATIC);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.SHOOT:
                {
                    this._rig.setType(OIMO.RigidBodyType.DYNAMIC);
                    let shape = this._rig.getShapeList();
                    shape.setFriction(0);
                    let vs = _config_GameConst__WEBPACK_IMPORTED_MODULE_6__["GameConst"].data.shootVelocity;
                    this._rig.setLinearVelocity(new OIMO.Vec3(vs[0], vs[1], vs[2]));
                    this._isShoot = true;
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.JUMP:
                {
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING:
                {
                    this._rig.setType(OIMO.RigidBodyType.DYNAMIC);
                    let shape = this._rig.getShapeList();
                    shape.setFriction(_config_GameConst__WEBPACK_IMPORTED_MODULE_6__["GameConst"].data.friction);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PAUSE:
                {
                    // this._rig.getLinearVelocityTo(this._linearVelocity);
                    // this._rig.getAngularVelocityTo(this._angularVelocity);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RESUME:
                {
                    // this._rig.setLinearVelocity(this._linearVelocity);
                    // this._rig.setAngularVelocity(this._angularVelocity);
                    this._state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING;
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RECOVER:
                {
                }
                break;
            default:
                break;
        }
    }
    clearItem() {
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_7__["OIMOPhysicManager"].instance.world.removeRigidBody(this._rig);
        this.rootObj.removeSelf();
        this.rootObj = null;
        this._rig = null;
    }
}


/***/ }),

/***/ "./src/script/logic/level/item/Dice.ts":
/*!*********************************************!*\
  !*** ./src/script/logic/level/item/Dice.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Dice; });
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _common_ResDefine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/ResDefine */ "./src/script/common/ResDefine.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _config_DiceConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../config/DiceConfig */ "./src/script/config/DiceConfig.ts");
/* harmony import */ var _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/LayerDefine */ "./src/script/common/LayerDefine.ts");
/* harmony import */ var _common_ComTools__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/ComTools */ "./src/script/common/ComTools.ts");
/* harmony import */ var _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../LTGame/Physics/OimoHelper */ "./src/LTGame/Physics/OimoHelper.ts");
/* harmony import */ var _config_GameConst__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../LTGame/Physics/OIMOPhysicManager */ "./src/LTGame/Physics/OIMOPhysicManager.ts");
/* harmony import */ var _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../LTGame/LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");
/* harmony import */ var _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../LTGame/LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");
/* harmony import */ var _manager_EffectManager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../manager/EffectManager */ "./src/script/manager/EffectManager.ts");
/* harmony import */ var _LevelSaveData__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../LevelSaveData */ "./src/script/logic/LevelSaveData.ts");














/**
 * 骰子
 */
class Dice {
    constructor(id) {
        this.collisionGroup = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Dice;
        this._collisionMask = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Dice | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Plane | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Wall | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Bomb;
        /*********************************************接口 */
        this.type = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_TYPE.DICE;
        let ref = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_3__["DiceConfig"].data[id];
        this.ref = ref;
    }
    set collisionMask(collisionMask) {
        this._collisionMask = collisionMask;
        if (this._rig) {
            this._rig.getShapeList().setCollisionMask(this._collisionMask);
        }
    }
    get onlyId() { return this._onlyId; }
    shoot() {
        this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.SHOOT;
    }
    get diceSaveData() { return this._diceSaveData; }
    static getDice(id, position, rotation = null) {
        let dice = Laya.Pool.getItemByCreateFun(`dice_${id}`, () => {
            let dice = new Dice(id);
            dice._initDice(position);
            return dice;
        });
        dice._onEnter(position, rotation);
        return dice;
    }
    static readDiceBySaveData(saveData) {
        let position = saveData.position;
        let rotation = saveData.rotation;
        let dice = this.getDice(saveData.id, new Laya.Vector3(position.x, position.y, position.z), new Laya.Quaternion(rotation.x, rotation.y, rotation.z, rotation.w));
        dice.state = saveData.state;
        return dice;
    }
    /**初始化 */
    _initDice(position) {
        this.rootObj = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_0__["default"].Get(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixPath(this.ref.path));
        this.rootObj["__owner__"] = this;
        this._linearVelocity = new OIMO.Vec3();
        this._angularVelocity = new OIMO.Vec3();
        this._onlyId = this.rootObj.id;
        //创建刚体
        let transform = this.rootObj.transform;
        this._rig = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].CreateRigbody(position, transform.rotation, OIMO.RigidBodyType.KINEMATIC);
        let shape = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].CreateShapeByObj(this.rootObj, this.collisionGroup, this._collisionMask, 0.95);
        shape.setRestitution(_config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.restitution);
        this._rig.addShape(shape);
        this._rig.sleep();
        this._rig.userData = this;
        let contactCallback = shape.getContactCallback();
        contactCallback = new OIMO.ContactCallback();
        contactCallback.beginContact = this._beginContact.bind(this);
        // contactCallback.preSolve = this._preSolve.bind(this);
        // contactCallback.postSolve = this._postSolve.bind(this);
        // contactCallback.endContact = this._endContact.bind(this);
        shape.setContactCallback(contactCallback);
        this._diceSaveData = {
            id: this.ref.id,
            state: 0,
            position: { x: 0, y: 0, z: 0 },
            rotation: { x: 0, y: 0, z: 0, w: 0 }
        };
    }
    /**创建完成 */
    _onEnter(position, rotation = null) {
        this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.READY;
        this.rootObj.transform.position = position;
        if (rotation) {
            this.rootObj.transform.rotation = rotation;
        }
        else {
            this.rootObj.transform.rotationEuler = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_9__["default"].zero;
        }
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_8__["OIMOPhysicManager"].instance.world.addRigidBody(this._rig);
        _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].SyncTransToRig(this.rootObj.transform, this._rig);
        // console.error("创建保存");
        _LevelSaveData__WEBPACK_IMPORTED_MODULE_13__["default"].instance.saveLevelData();
        //2048特效不消失
        if (this.ref.id == _config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.effDiceId) {
            this._cacheEffectId = _common_ComTools__WEBPACK_IMPORTED_MODULE_5__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].EFFECT_ID.ID_2, null, null, null, this.rootObj, null, new Laya.Vector3(0.9, 0.9, 0.9));
        }
    }
    /**
     * 起始点创建动画
     */
    playStartTween() {
        let scale = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_9__["default"].s_zero;
        this.rootObj.transform.setWorldLossyScale(scale);
        let updataHandler = new Laya.Handler(this, (pro) => {
            scale.setValue(pro, pro, pro);
            this.rootObj.transform.setWorldLossyScale(scale);
        });
        _common_ComTools__WEBPACK_IMPORTED_MODULE_5__["ComTools"].runTween(updataHandler, 500, Laya.Ease.backOut);
    }
    /**
     * 飞行动画
     * @param tPos
     */
    playFlyTween(tPos, pix) {
        return __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => {
                this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.FLY;
                let transform = this.rootObj.transform;
                let cPos = transform.position.clone();
                // let cRotation = transform.localRotationEuler;
                // let tRotation = new Laya.Vector3(90, 0, 0);
                let updataHandler = new Laya.Handler(this, (pro) => {
                    let np = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_9__["default"].temp;
                    Laya.Vector3.lerp(cPos, tPos, _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_11__["default"].Clamp01(pro), np);
                    transform.position = np;
                    // Laya.Vector3.lerp(cRotation, tRotation, MathEx.Clamp01(pro), np);
                    // transform.localRotationEuler = np;
                    pix.clear();
                    this.drawLighting(pix, np, tPos, 0.8);
                });
                let endHandler = new Laya.Handler(this, () => __awaiter(this, void 0, void 0, function* () {
                    pix.clear();
                    resolve();
                }));
                _common_ComTools__WEBPACK_IMPORTED_MODULE_5__["ComTools"].runTween(updataHandler, 1000, Laya.Ease.quadInOut, endHandler);
            });
        });
    }
    // 画一条闪电。闪电由多条线段组成。参数displace影响闪电的剧烈程度，值越大越剧烈。
    drawLighting(pix, pos1, pos2, displace) {
        if (displace < 0.2) {
            pix.addLine(pos1, pos2, Laya.Color.WHITE, Laya.Color.WHITE);
        }
        else {
            let mid_x = (pos1.x + pos2.x) / 2;
            let mid_y = (pos1.y + pos2.y) / 2;
            let mid_z = (pos1.z + pos2.z) / 2;
            mid_x += (Math.random() - 0.5) * displace;
            mid_y += (Math.random() - 0.5) * displace;
            mid_z += (Math.random() - 0.5) * displace;
            let temp = new Laya.Vector3(mid_x, mid_y, mid_z);
            pix.addLine(pos1, temp, Laya.Color.WHITE, Laya.Color.WHITE);
            pix.addLine(pos2, temp, Laya.Color.WHITE, Laya.Color.WHITE);
            this.drawLighting(pix, pos1, temp, displace / 2);
            this.drawLighting(pix, pos2, temp, displace / 2);
        }
    }
    /************************碰撞事件 */
    _beginContact(c) {
        let data1 = c.getShape1().getRigidBody().userData;
        let data2 = c.getShape2().getRigidBody().userData;
        let other = data1 == this ? data2 : data1;
        this._onTrigger(other);
    }
    _preSolve(c) { }
    _postSolve(c) { }
    _endContact(c) { }
    _onTrigger(other) {
        return __awaiter(this, void 0, void 0, function* () {
            let collisionGroup = other.collisionGroup;
            switch (collisionGroup) {
                case _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Dice:
                    if ((_common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING == this.state || _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.SHOOT == this.state)
                        && (_common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING == other.state || _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.SHOOT == other.state)) {
                        if (this.ref.id == other.ref.id) {
                            this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RECOVER;
                            other.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RECOVER;
                            let selfPos = this.rootObj.transform.position;
                            let otherPos = other.rootObj.transform.position;
                            let pos = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_9__["default"].Lerp(selfPos, otherPos, 0.5);
                            _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_10__["default"].game.level.createNextDice(this.ref.compositeId, pos);
                        }
                    }
                    break;
                case _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Plane:
                    break;
                case _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Wall:
                    break;
                case _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].End:
                    _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_10__["default"].game.level.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].LEVEL_STATE.LOSE;
                    break;
                default:
                    break;
            }
        });
    }
    /**停止动画 */
    stopTween() {
    }
    /**
     * 每帧更新时执行
     */
    onLogicUpdate() {
        if (!this._rig)
            return;
        //刷新状态
        switch (this._state) {
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.READY:
                {
                    _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].SyncTransToRig(this.rootObj.transform, this._rig);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.SHOOT:
                {
                    _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].SyncTransFromRig(this.rootObj.transform, this._rig);
                    let zv = this._linearVelocity.z;
                    this._rig.getLinearVelocityTo(this._linearVelocity);
                    if (zv != this._linearVelocity.z) {
                        this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING;
                        if (this.rootObj.transform.localPositionZ <= -2.7) {
                            _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_10__["default"].game.level.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].LEVEL_STATE.LOSE;
                        }
                    }
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.JUMP:
                {
                    _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].SyncTransFromRig(this.rootObj.transform, this._rig);
                    this._rig.getLinearVelocityTo(this._linearVelocity);
                    if (this._linearVelocity.y <= 0) {
                        this.state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING;
                    }
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.FLY:
                {
                    _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].SyncTransToRig(this.rootObj.transform, this._rig);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING:
                {
                    _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].SyncTransFromRig(this.rootObj.transform, this._rig);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PAUSE:
                {
                    _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_6__["OimoHelper"].SyncTransToRig(this.rootObj.transform, this._rig);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RECOVER:
                {
                }
                break;
            default:
                break;
        }
    }
    /**状态 */
    get state() { return this._state; }
    set state(state) {
        if (this._state == state)
            return;
        this._state = state;
        switch (state) {
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.READY:
                {
                    this._rig.setType(OIMO.RigidBodyType.KINEMATIC);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.SHOOT:
                {
                    this._rig.setType(OIMO.RigidBodyType.DYNAMIC);
                    let shape = this._rig.getShapeList();
                    shape.setFriction(0);
                    let vs = _config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.shootVelocity;
                    this._linearVelocity.init(vs[0], vs[1], vs[2]);
                    this._rig.setLinearVelocity(this._linearVelocity);
                    this._angularVelocity.init(0, 0, 0);
                    this._rig.setAngularVelocity(this._angularVelocity);
                    this._tailingId = _common_ComTools__WEBPACK_IMPORTED_MODULE_5__["ComTools"].playEffect(_common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].EFFECT_ID.ID_9, null, null, null, this.rootObj);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.JUMP:
                {
                    this._rig.setType(OIMO.RigidBodyType.DYNAMIC);
                    let xs = _config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.jumpSpeedX;
                    let ys = _config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.jumpSpeedY;
                    let zs = _config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.jumpSpeedZ;
                    let xv = _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_11__["default"].Random(xs[0], xs[1]);
                    let yv = _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_11__["default"].Random(ys[0], ys[1]);
                    let zv = _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_11__["default"].Random(zs[0], zs[1]);
                    this._linearVelocity.init(xv, yv, zv);
                    this._rig.setLinearVelocity(this._linearVelocity);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.FLY:
                {
                    this._rig.setType(OIMO.RigidBodyType.KINEMATIC);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING:
                {
                    this.collisionMask = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Dice | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Plane | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Wall | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Bomb | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].End;
                    this._rig.setType(OIMO.RigidBodyType.DYNAMIC);
                    let shape = this._rig.getShapeList();
                    shape.setFriction(_config_GameConst__WEBPACK_IMPORTED_MODULE_7__["GameConst"].data.friction);
                    if (this._tailingId) {
                        _manager_EffectManager__WEBPACK_IMPORTED_MODULE_12__["EffectManager"].instance.StopEffectByIndex(this._tailingId);
                        this._tailingId = 0;
                    }
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PAUSE:
                {
                    this._rig.getLinearVelocityTo(this._linearVelocity);
                    this._rig.getAngularVelocityTo(this._angularVelocity);
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RESUME:
                {
                    this._rig.setLinearVelocity(this._linearVelocity);
                    this._rig.setAngularVelocity(this._angularVelocity);
                    this._state = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.PLAYING;
                }
                break;
            case _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_STATE.RECOVER:
                {
                }
                break;
            default:
                break;
        }
    }
    clearItem(isSave = true) {
        var _a;
        this.collisionMask = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Dice | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Plane | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Wall | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_4__["LayerDefine"].Bomb;
        if (this._tailingId) {
            _manager_EffectManager__WEBPACK_IMPORTED_MODULE_12__["EffectManager"].instance.StopEffectByIndex(this._tailingId);
            this._tailingId = 0;
        }
        this.stopTween();
        (_a = this.rootObj) === null || _a === void 0 ? void 0 : _a.removeSelf();
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_8__["OIMOPhysicManager"].instance.world.removeRigidBody(this._rig);
        Laya.Pool.recover(`dice_${this.ref.id}`, this);
        if (isSave) {
            // console.error("删除保存");
            _LevelSaveData__WEBPACK_IMPORTED_MODULE_13__["default"].instance.saveLevelData();
        }
        if (this._cacheEffectId) {
            _manager_EffectManager__WEBPACK_IMPORTED_MODULE_12__["EffectManager"].instance.StopEffectByIndex(this._cacheEffectId);
        }
    }
}


/***/ }),

/***/ "./src/script/logic/level/item/End.ts":
/*!********************************************!*\
  !*** ./src/script/logic/level/item/End.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return End; });
/* harmony import */ var _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/LayerDefine */ "./src/script/common/LayerDefine.ts");
/* harmony import */ var _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../LTGame/Physics/OimoHelper */ "./src/LTGame/Physics/OimoHelper.ts");
/* harmony import */ var _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../LTGame/Physics/OIMOPhysicManager */ "./src/LTGame/Physics/OIMOPhysicManager.ts");



/**
 * 游戏失败碰撞体
 */
class End {
    constructor(spr) {
        this.collisionGroup = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].End;
        this.collisionMask = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].Dice;
        this._rigType = OIMO.RigidBodyType.KINEMATIC;
        this.rootObj = spr;
        //创建刚体
        let transform = this.rootObj.transform;
        this._rig = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__["OimoHelper"].CreateRigbody(transform.position, transform.rotation, this._rigType);
        let shape = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__["OimoHelper"].CreateShapeByObj(this.rootObj, this.collisionGroup, this.collisionMask);
        this._rig.addShape(shape);
        this._rig.sleep();
        this._rig.userData = this;
        shape.setFriction(0);
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_2__["OIMOPhysicManager"].instance.world.addRigidBody(this._rig);
        this.rootObj["__owner__"] = this;
    }
    /**
     * 每帧更新时执行
     */
    _onLogicUpdate() {
    }
    clear() {
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_2__["OIMOPhysicManager"].instance.world.removeRigidBody(this._rig);
        this.rootObj = null;
    }
}


/***/ }),

/***/ "./src/script/logic/level/item/Magnet.ts":
/*!***********************************************!*\
  !*** ./src/script/logic/level/item/Magnet.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Magnet; });
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _common_ResDefine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/ResDefine */ "./src/script/common/ResDefine.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _common_ComTools__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/ComTools */ "./src/script/common/ComTools.ts");
/* harmony import */ var _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../LTGame/LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");
/* harmony import */ var _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../LTGame/LTUtils/MathEx */ "./src/LTGame/LTUtils/MathEx.ts");






/**
 * 磁铁
 */
class Magnet {
    /*********************************************end */
    constructor(pos) {
        /*********************************************接口 */
        this.type = _common_Const__WEBPACK_IMPORTED_MODULE_2__["Const"].ITEM_TYPE.MAGNET;
        this.rootObj = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_0__["default"].Get(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].FixPath(_common_ResDefine__WEBPACK_IMPORTED_MODULE_1__["default"].magnet));
        this.rootObj.transform.position = pos;
    }
    shoot(tPos) {
        return __awaiter(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => {
                let transform = this.rootObj.transform;
                let cPos = transform.position.clone();
                let cRotation = transform.localRotationEuler;
                let tRotation = new Laya.Vector3(90, 0, 0);
                let updataHandler = new Laya.Handler(this, (pro) => {
                    let np = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_4__["default"].temp;
                    Laya.Vector3.lerp(cPos, tPos, _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__["default"].Clamp01(pro), np);
                    transform.position = np;
                    Laya.Vector3.lerp(cRotation, tRotation, _LTGame_LTUtils_MathEx__WEBPACK_IMPORTED_MODULE_5__["default"].Clamp01(pro), np);
                    transform.localRotationEuler = np;
                });
                let endHandler = new Laya.Handler(this, () => {
                    resolve();
                });
                _common_ComTools__WEBPACK_IMPORTED_MODULE_3__["ComTools"].runTween(updataHandler, 1000, Laya.Ease.quadOut, endHandler);
            });
        });
    }
    /**
     * 每帧更新时执行
     */
    _onLogicUpdate() {
    }
    clearItem() {
        this.rootObj.removeSelf();
        this.rootObj = null;
    }
}


/***/ }),

/***/ "./src/script/logic/level/item/Plane.ts":
/*!**********************************************!*\
  !*** ./src/script/logic/level/item/Plane.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Plane; });
/* harmony import */ var _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/LayerDefine */ "./src/script/common/LayerDefine.ts");
/* harmony import */ var _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../LTGame/Physics/OimoHelper */ "./src/LTGame/Physics/OimoHelper.ts");
/* harmony import */ var _config_GameConst__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../LTGame/Physics/OIMOPhysicManager */ "./src/LTGame/Physics/OIMOPhysicManager.ts");




/**
 * 地面
 */
class Plane {
    constructor(spr) {
        this.collisionGroup = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].Plane;
        this.collisionMask = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].Dice | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].Bomb;
        this._rigType = OIMO.RigidBodyType.KINEMATIC;
        this.rootObj = spr;
        //创建刚体
        let transform = this.rootObj.transform;
        this._rig = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__["OimoHelper"].CreateRigbody(transform.position, transform.rotation, this._rigType);
        let shape = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__["OimoHelper"].CreateShapeByObj(this.rootObj, this.collisionGroup, this.collisionMask);
        this._rig.addShape(shape);
        this._rig.sleep();
        this._rig.userData = this;
        shape.setFriction(_config_GameConst__WEBPACK_IMPORTED_MODULE_2__["GameConst"].data.friction);
        shape.setRestitution(0);
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_3__["OIMOPhysicManager"].instance.world.addRigidBody(this._rig);
        this.rootObj["__owner__"] = this;
    }
    /**
     * 每帧更新时执行
     */
    _onLogicUpdate() {
    }
    clear() {
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_3__["OIMOPhysicManager"].instance.world.removeRigidBody(this._rig);
        this.rootObj = null;
    }
}


/***/ }),

/***/ "./src/script/logic/level/item/Wall.ts":
/*!*********************************************!*\
  !*** ./src/script/logic/level/item/Wall.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wall; });
/* harmony import */ var _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/LayerDefine */ "./src/script/common/LayerDefine.ts");
/* harmony import */ var _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../LTGame/Physics/OimoHelper */ "./src/LTGame/Physics/OimoHelper.ts");
/* harmony import */ var _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../LTGame/Physics/OIMOPhysicManager */ "./src/LTGame/Physics/OIMOPhysicManager.ts");



/**
 * 墙体
 */
class Wall {
    constructor(spr) {
        this.collisionGroup = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].Wall;
        this.collisionMask = _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].Dice | _common_LayerDefine__WEBPACK_IMPORTED_MODULE_0__["LayerDefine"].Bomb;
        this._rigType = OIMO.RigidBodyType.KINEMATIC;
        this.rootObj = spr;
        //创建刚体
        let transform = this.rootObj.transform;
        this._rig = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__["OimoHelper"].CreateRigbody(transform.position, transform.rotation, this._rigType);
        let shape = _LTGame_Physics_OimoHelper__WEBPACK_IMPORTED_MODULE_1__["OimoHelper"].CreateShapeByObj(this.rootObj, this.collisionGroup, this.collisionMask);
        this._rig.addShape(shape);
        this._rig.sleep();
        this._rig.userData = this;
        shape.setFriction(0);
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_2__["OIMOPhysicManager"].instance.world.addRigidBody(this._rig);
        this.rootObj["__owner__"] = this;
    }
    /**
     * 每帧更新时执行
     */
    _onLogicUpdate() {
    }
    clear() {
        _LTGame_Physics_OIMOPhysicManager__WEBPACK_IMPORTED_MODULE_2__["OIMOPhysicManager"].instance.world.removeRigidBody(this._rig);
        this.rootObj = null;
    }
}


/***/ }),

/***/ "./src/script/manager/AudioManager.ts":
/*!********************************************!*\
  !*** ./src/script/manager/AudioManager.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AudioManager; });
/* harmony import */ var _LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/LTUtils/MonoHelper */ "./src/LTGame/LTUtils/MonoHelper.ts");
/* harmony import */ var _LTGame_LTUtils_ArrayEx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/LTUtils/ArrayEx */ "./src/LTGame/LTUtils/ArrayEx.ts");
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _config_AudioConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config/AudioConfig */ "./src/script/config/AudioConfig.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");






class AudioManager {
    constructor() {
        this._isInited = false;
        Laya.SoundManager.autoStopMusic = true;
        this.Init();
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new AudioManager();
        }
        return this._instance;
    }
    Init() {
        if (this._isInited)
            return;
        this._isInited = true;
        this._needPlayAudioIds = [];
        _LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_0__["default"].instance.AddAction(_LTGame_LTUtils_MonoHelper__WEBPACK_IMPORTED_MODULE_0__["EActionType"].Update, this, this._LogicUpdate);
    }
    PlayByPath(audioPath) {
        return Laya.SoundManager.playMusic(audioPath);
    }
    _PlayBgm(bgmPath, volume) {
        return __awaiter(this, void 0, void 0, function* () {
            let formatUrl = Laya.URL.formatURL(bgmPath);
            if (Laya.SoundManager['_musicChannel'])
                Laya.SoundManager['_musicChannel'].stop();
            Laya.SoundManager['_bgMusic'] = formatUrl;
            yield _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_2__["default"].Load2dAsync(bgmPath);
            this._bgmAudio = AudioManager.instance.PlayByPath(bgmPath);
            if (this._bgmAudio) {
                this._bgmAudio.volume = volume;
            }
        });
    }
    StopBgm() {
        if (this._bgmAudio != null) {
            this._bgmAudio.stop();
            this._bgmId = null;
            this._bgmAudio = null;
        }
    }
    PlayById(audioId) {
        if (!_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isMusicOn)
            return;
        let audioConfig = _config_AudioConfig__WEBPACK_IMPORTED_MODULE_3__["AudioConfig"].data[audioId];
        if (audioConfig == null) {
            console.error("不存在的音效id" + audioId);
            return;
        }
        if (audioConfig.audio_type == 1) {
            // 音效
            if (!_LTGame_LTUtils_ArrayEx__WEBPACK_IMPORTED_MODULE_1__["default"].Contains(this._needPlayAudioIds, audioConfig.id)) {
                this._needPlayAudioIds.push(audioConfig.id);
            }
        }
        else {
            if (this._bgmId == audioConfig.id)
                return;
            this.StopBgm();
            this._bgmId = audioConfig.id;
            this._PlayBgm(this._GetAudioPath(audioConfig.audio_path), audioConfig.volume);
        }
    }
    _GetAudioPath(audioFilePath) {
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_5__["default"].instance.useWAV) {
            return 'res/audio_wav/' + audioFilePath.replace('.mp3', '.wav');
        }
        return "res/audio/" + audioFilePath;
    }
    _LogicUpdate() {
        if (this._needPlayAudioIds.length > 0) {
            for (let id of this._needPlayAudioIds) {
                let audioConfig = _config_AudioConfig__WEBPACK_IMPORTED_MODULE_3__["AudioConfig"].data[id];
                let channel = Laya.SoundManager.playSound(this._GetAudioPath(audioConfig.audio_path));
                if (channel) {
                    channel.volume = audioConfig.volume;
                }
            }
            this._needPlayAudioIds = [];
        }
    }
    StopAll() {
        this._bgmId = null;
        Laya.SoundManager.stopAll();
    }
    Pause() {
        if (this._bgmAudio) {
            this._bgmAudio.pause();
        }
    }
    Resume() {
        if (!_LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isMusicOn)
            return;
        if (this._bgmAudio) {
            this._bgmAudio.resume();
        }
    }
    MuteAll() {
        Laya.SoundManager.muted = true;
    }
    CancelMute() {
        Laya.SoundManager.muted = false;
    }
}


/***/ }),

/***/ "./src/script/manager/DataManager.ts":
/*!*******************************************!*\
  !*** ./src/script/manager/DataManager.ts ***!
  \*******************************************/
/*! exports provided: DataManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataManager", function() { return DataManager; });
class DataManager {
    InitData() {
    }
}


/***/ }),

/***/ "./src/script/manager/EffectManager.ts":
/*!*********************************************!*\
  !*** ./src/script/manager/EffectManager.ts ***!
  \*********************************************/
/*! exports provided: EffectManager, EffectShowData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EffectManager", function() { return EffectManager; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EffectShowData", function() { return EffectShowData; });
/* harmony import */ var _LTGame_LTUtils_LTDictionary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/LTUtils/LTDictionary */ "./src/LTGame/LTUtils/LTDictionary.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");
/* harmony import */ var _config_EffectConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config/EffectConfig */ "./src/script/config/EffectConfig.ts");
/* harmony import */ var _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/Res/LTRes */ "./src/LTGame/Res/LTRes.ts");
/* harmony import */ var _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _LTGame_LTUtils_ArrayEx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/LTUtils/ArrayEx */ "./src/LTGame/LTUtils/ArrayEx.ts");
/* harmony import */ var _common_ResDefine__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/ResDefine */ "./src/script/common/ResDefine.ts");
/* harmony import */ var _LTGame_LTUtils_CameraEx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../LTGame/LTUtils/CameraEx */ "./src/LTGame/LTUtils/CameraEx.ts");
/* harmony import */ var _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../LTGame/LTUtils/Vector3Ex */ "./src/LTGame/LTUtils/Vector3Ex.ts");
/* harmony import */ var _LTGame_LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../LTGame/LTUtils/TransformEx */ "./src/LTGame/LTUtils/TransformEx.ts");










class EffectManager {
    constructor() {
        this._Init();
    }
    static get instance() {
        if (this._instance == null) {
            this._instance = new EffectManager();
        }
        return this._instance;
    }
    get uiEffectScene() {
        return this._uiEffectScene;
    }
    get uiEffectCamera() {
        return this._uiEffectCamera;
    }
    _Init() {
        this._effectRoot = new Laya.Sprite3D("EffectManager");
        _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_1__["default"].s3d.addChild(this._effectRoot);
        this._effectMap = new _LTGame_LTUtils_LTDictionary__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._continueEffects = [];
    }
    setRoot(root) {
        this._effectRoot = root;
    }
    Preload(urls) {
        for (let i = 0; i < _config_EffectConfig__WEBPACK_IMPORTED_MODULE_2__["EffectConfig"].dataList.length; ++i) {
            let configItem = _config_EffectConfig__WEBPACK_IMPORTED_MODULE_2__["EffectConfig"].dataList[i];
            if (configItem.need_preload) {
                let effectPath = _common_ResDefine__WEBPACK_IMPORTED_MODULE_6__["default"].FixPath(configItem.model_path);
                urls.push(effectPath);
            }
        }
    }
    ReAddScene() {
        _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_1__["default"].s3d.addChild(this._effectRoot);
    }
    UnloadScene() {
        this._effectRoot.removeSelf();
    }
    _InitUIEffect() {
        if (this._uiEffectScene != null) {
            this._uiEffectScene.parent.setChildIndex(this._uiEffectScene, this._uiEffectScene.parent.numChildren - 1);
            return;
        }
        this._uiEffectScene = new Laya.Scene3D();
        this._uiEffectScene.name = "UIEffect";
        this._uiEffectScene.enableFog = false;
        this._uiEffectScene.mouseEnabled = false;
        this._uiEffectScene.enableLight = false;
        Laya.stage.addChildAt(this._uiEffectScene, 0);
        this._uiEffectCamera = new Laya.Camera();
        this._uiEffectCamera.name = 'UIEffectCamera';
        this._uiEffectCamera.nearPlane = 0.3;
        this._uiEffectCamera.clearFlag = Laya.CameraClearFlags.DepthOnly;
        // this._uiEffectCamera.transform.localRotationEulerY = 180;
        this._uiEffectScene.addChild(this._uiEffectCamera);
        this._uiEffectCamera.transform.localPositionZ = 10;
    }
    WarmEffects() {
        return __awaiter(this, void 0, void 0, function* () {
            this._InitUIEffect();
            let preloadEffects = [];
            for (let i = 0; i < _config_EffectConfig__WEBPACK_IMPORTED_MODULE_2__["EffectConfig"].dataList.length; ++i) {
                let configItem = _config_EffectConfig__WEBPACK_IMPORTED_MODULE_2__["EffectConfig"].dataList[i];
                if (configItem.need_preload) {
                    let effectPath = _common_ResDefine__WEBPACK_IMPORTED_MODULE_6__["default"].FixPath(configItem.model_path);
                    let getObj = _LTGame_Res_LTRes__WEBPACK_IMPORTED_MODULE_3__["default"].Get(effectPath, true);
                    if (getObj == null) {
                        console.log("特效", configItem, "不存在");
                        continue;
                    }
                    let effectObj = this._uiEffectScene.addChild(getObj);
                    _LTGame_LTUtils_TransformEx__WEBPACK_IMPORTED_MODULE_9__["TransformEx"].ResetLocalTrans(effectObj.transform);
                    preloadEffects.push(effectObj);
                    this._effectMap.set(configItem.id, effectObj);
                }
            }
            yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__["default"].NextFrame();
            for (let effectObj of preloadEffects) {
                effectObj.removeSelf();
            }
            this._uiEffectScene.parent.setChildIndex(this._uiEffectScene, Laya.stage.numChildren - 1);
        });
    }
    StopEffectByIndex(index) {
        if (index == null)
            return;
        if (index < 0)
            return;
        if (index >= this._continueEffects.length)
            return;
        let effectObj = this._continueEffects[index];
        effectObj.destroy();
        _LTGame_LTUtils_ArrayEx__WEBPACK_IMPORTED_MODULE_5__["default"].RemoveAt(this._continueEffects, index);
    }
    GetEffectObjById(effectId) {
        let effectConfig = _config_EffectConfig__WEBPACK_IMPORTED_MODULE_2__["EffectConfig"].data[effectId];
        if (effectConfig == null) {
            console.error("无效的特效id", effectId);
            return null;
        }
        let effectObj = this._effectMap.Get(effectId);
        if (effectObj == null) {
            console.error("特效", effectId, "尚未加载");
            return null;
        }
        let instEffect = effectObj.clone();
        return instEffect;
    }
    PlayEffectByData(showData) {
        let instEffect = this.GetEffectObjById(showData.effectId);
        if (showData.parent != null) {
            showData.parent.addChild(instEffect);
        }
        else {
            let effectConfig = _config_EffectConfig__WEBPACK_IMPORTED_MODULE_2__["EffectConfig"].data[showData.effectId];
            if (effectConfig.isUIEffect) {
                this._uiEffectScene.addChild(instEffect);
                if (showData.setPos != null) {
                    // 暂时移除
                    let ray = _LTGame_LTUtils_CameraEx__WEBPACK_IMPORTED_MODULE_7__["CameraEx"].ScreenPosToRay(this.uiEffectCamera, new Laya.Vector2(showData.setPos.x, showData.setPos.y));
                    let dotDistance = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_8__["default"].Dot(ray.direction, new Laya.Vector3(0, 0, -1));
                    let scale = 10 / dotDistance;
                    showData.setPos = _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_8__["default"].Add(this.uiEffectCamera.transform.position, _LTGame_LTUtils_Vector3Ex__WEBPACK_IMPORTED_MODULE_8__["default"].Scale(ray.direction, scale));
                }
            }
            else {
                this._effectRoot.addChild(instEffect);
            }
        }
        if (showData.setPos != null) {
            instEffect.transform.localPosition = showData.setPos.clone();
        }
        if (showData.setRot != null) {
            instEffect.transform.rotation = showData.setRot.clone();
        }
        if (showData.setScale != null) {
            instEffect.transform.setWorldLossyScale(showData.setScale);
        }
        if (showData.setColor != null) {
            let node = instEffect.getChildAt(0);
            let handler = new Laya.Handler(this, (node) => {
                if (node instanceof Laya.ShuriKenParticle3D) {
                    node.particleSystem.startColorConstant = showData.setColor;
                }
                let num = node.numChildren;
                for (let i = 0; i < num; i++) {
                    let _node = node.getChildAt(i);
                    handler.runWith(_node);
                }
            }, null, false);
            handler.runWith(node);
        }
        if (showData.continueTime) {
            this._WaitDestory(showData.continueTime, instEffect);
        }
        else {
            this._continueEffects.push(instEffect);
            return this._continueEffects.length - 1;
        }
        return -1;
    }
    _WaitDestory(time, obj) {
        return __awaiter(this, void 0, void 0, function* () {
            yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_4__["default"].Seconds(time);
            obj.destroy();
        });
    }
    DestoryByIndex(index) {
        if (index == null)
            return;
        if (index < 0)
            return;
        if (index >= this._continueEffects.length)
            return;
        let effectObj = this._continueEffects[index];
        effectObj.destroy();
    }
    PlayEffectById(effectId, duringTime = null, pos = null, rot = null, parent = null, color = null, scale = null) {
        let data = new EffectShowData(effectId);
        data.continueTime = duringTime;
        data.setPos = pos;
        data.setRot = rot;
        data.setColor = color;
        data.parent = parent;
        data.setScale = scale;
        return this.PlayEffectByData(data);
    }
}
class EffectShowData {
    constructor(effectId) {
        /**
         * 特效持续时间
         */
        this.continueTime = 2;
        /**
         * 设置位置,world
         */
        this.setPos = null;
        /**
         * 设置旋转,world
         */
        this.setRot = null;
        /**
         * 设置缩放,world
         */
        this.setScale = null;
        /**
         * 创建父物体
         */
        this.parent = null;
        /**
         * 颜色
         */
        this.setColor = null;
        this.effectId = effectId;
    }
}


/***/ }),

/***/ "./src/script/manager/EventManager.ts":
/*!********************************************!*\
  !*** ./src/script/manager/EventManager.ts ***!
  \********************************************/
/*! exports provided: EventManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventManager", function() { return EventManager; });
class EventManager {
    constructor(router) {
        EventManager.instance = this;
        EventManager.instance._router = router;
    }
    /**
     * 派发事件。
     * @param type	事件类型。
     * @param data	（可选）回调数据。<b>注意：</b>如果是需要传递多个参数 p1,p2,p3,...可以使用数组结构如：[p1,p2,p3,...] ；如果需要回调单个参数 p ，且 p 是一个数组，则需要使用结构如：[p]，其他的单个参数 p ，可以直接传入参数 p。
     * @return 此事件类型是否有侦听者，如果有侦听者则值为 true，否则值为 false。
     */
    static send(type, data) {
        EventManager.instance._router.event(type, data);
    }
    /**
     * 使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知。
     * @param type		事件的类型。
     * @param caller	事件侦听函数的执行域。
     * @param listener	事件侦听函数。
     * @param args		（可选）事件侦听函数的回调参数。
     * @return 此 EventDispatcher 对象。
     */
    static on(type, caller, listener, args) {
        EventManager.instance._router.on(type, caller, listener, args);
    }
    /**
     * 使用 EventDispatcher 对象注册指定类型的事件侦听器对象，以使侦听器能够接收事件通知，此侦听事件响应一次后自动移除。
     * @param type		事件的类型。
     * @param caller	事件侦听函数的执行域。
     * @param listener	事件侦听函数。
     * @param args		（可选）事件侦听函数的回调参数。
     * @return 此 EventDispatcher 对象。
     */
    static once(type, caller, listener, args) {
        EventManager.instance._router.once(type, caller, listener, args);
    }
    /**
     * 从 EventDispatcher 对象中删除侦听器。
     * @param type		事件的类型。
     * @param caller	事件侦听函数的执行域。
     * @param listener	事件侦听函数。
     * @param onceOnly	（可选）如果值为 true ,则只移除通过 once 方法添加的侦听器。
     * @return 此 EventDispatcher 对象。
     */
    static off(type, caller, listener, onceOnly) {
        EventManager.instance._router.off(type, caller, listener, onceOnly);
    }
    /**
     * 从 EventDispatcher 对象中删除指定事件类型的所有侦听器。
     * @param type	（可选）事件类型，如果值为 null，则移除本对象所有类型的侦听器。
     * @return 此 EventDispatcher 对象。
     */
    static offAll(type) {
        EventManager.instance._router.offAll(type);
    }
    /**
     * 移除caller为target的所有事件监听
     * @param	caller caller对象
     */
    static offAllCaller(caller) {
        EventManager.instance._router.offAllCaller(caller);
    }
    /**
     * 路由事件。
     * @param type	事件类型。
     * @param data	（可选）回调数据。<b>注意：</b>如果是需要传递多个参数 p1,p2,p3,...可以使用数组结构如：[p1,p2,p3,...] ；如果需要回调单个参数 p ，且 p 是一个数组，则需要使用结构如：[p]，其他的单个参数 p ，可以直接传入参数 p。
     * @return 此事件类型是否有侦听者，如果有侦听者则值为 true，否则值为 false。
     */
    static route(type, data) {
        if (data === void 0)
            return EventManager.instance._router.event(type);
        return EventManager.instance._router.event(type, data);
    }
    /**
     * 使用对象注册指定类型的消息侦听器对象，以使侦听器能够接收消息通知。
     * @param type		消息的类型。
     * @param caller	消息侦听函数的执行域。
     * @param listener	消息侦听函数。
     * @param args		（可选）消息侦听函数的回调参数。
     * @return 此 EventDispatcher 对象。
     */
    static onMsg(msgtype, caller, listener, args) {
        EventManager.instance._router.on(msgtype.toString(), caller, listener, args);
    }
    /**
     * 从 EventDispatcher 对象中删除侦听器。
     * @param type		消息的类型。
     * @param caller	消息侦听函数的执行域。
     * @param listener	消息侦听函数。
     * @param onceOnly	（可选）如果值为 true ,则只移除通过 once 方法添加的侦听器。
     * @return 此 EventDispatcher 对象。
     */
    static offMsg(msgtype, caller, listener) {
        EventManager.instance._router.off(msgtype.toString(), caller, listener);
    }
    /**
     * 移除caller为target的所有消息监听
     * @param	caller caller对象
     */
    static offAllCallerMsg(caller) {
        EventManager.instance._router.offAllCaller(caller);
    }
    /**
     * 路由消息
     * @param type 消息的类型
     * @param data 消息对象
     */
    static routeMsg(msgtype, msg) {
        EventManager.instance._router.event(msgtype.toString(), msg);
    }
}


/***/ }),

/***/ "./src/script/scene/MainScene.ts":
/*!***************************************!*\
  !*** ./src/script/scene/MainScene.ts ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MainScene; });
/* harmony import */ var _LTGame_Fsm_BaseState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Fsm/BaseState */ "./src/LTGame/Fsm/BaseState.ts");
/* harmony import */ var _LTGame_Start_ESceneType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Start/ESceneType */ "./src/LTGame/Start/ESceneType.ts");
/* harmony import */ var _LTGame_UIExt_DefaultUI_UI_ChannelMediator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/UIExt/DefaultUI/UI_ChannelMediator */ "./src/LTGame/UIExt/DefaultUI/UI_ChannelMediator.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");





class MainScene extends _LTGame_Fsm_BaseState__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, _LTGame_Start_ESceneType__WEBPACK_IMPORTED_MODULE_1__["ESceneType"].Main);
    }
    _DoEnter() {
        //     LTSDK.instance.checkState = ECheckState.NoGame;
        //     console.error("[测试功能]强制设置checkstate", LTSDK.instance.checkState);
        // UI_MainMediator.instance.Show();
        if (window["__GM"] && _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_4__["EPlatformType"].TT) {
            _LTGame_UIExt_DefaultUI_UI_ChannelMediator__WEBPACK_IMPORTED_MODULE_2__["UI_ChannelMediator"].instance.Show();
        }
    }
}


/***/ }),

/***/ "./src/script/scene/SplashScene.ts":
/*!*****************************************!*\
  !*** ./src/script/scene/SplashScene.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SplashScene; });
/* harmony import */ var _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Config/ConfigManager */ "./src/LTGame/Config/ConfigManager.ts");
/* harmony import */ var _LTGame_Start_ESceneType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Start/ESceneType */ "./src/LTGame/Start/ESceneType.ts");
/* harmony import */ var _LTGame_Start_LTSplashScene__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/Start/LTSplashScene */ "./src/LTGame/Start/LTSplashScene.ts");
/* harmony import */ var _ui_Load_LoadBinder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/Load/LoadBinder */ "./src/ui/Load/LoadBinder.ts");
/* harmony import */ var _ui_Load_UI_splash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/Load/UI_splash */ "./src/ui/Load/UI_splash.ts");
/* harmony import */ var _ui_Main_MainBinder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Main/MainBinder */ "./src/ui/Main/MainBinder.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");
/* harmony import */ var _config_AudioConfig__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../config/AudioConfig */ "./src/script/config/AudioConfig.ts");
/* harmony import */ var _config_EffectConfig__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../config/EffectConfig */ "./src/script/config/EffectConfig.ts");
/* harmony import */ var _config_EggConfig__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../config/EggConfig */ "./src/script/config/EggConfig.ts");
/* harmony import */ var _config_GameConst__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../config/GameConst */ "./src/script/config/GameConst.ts");
/* harmony import */ var _config_PackConst__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../config/PackConst */ "./src/script/config/PackConst.ts");
/* harmony import */ var _config_SignConfig__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../config/SignConfig */ "./src/script/config/SignConfig.ts");
/* harmony import */ var _manager_EffectManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../manager/EffectManager */ "./src/script/manager/EffectManager.ts");
/* harmony import */ var _config_RollConfig__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../config/RollConfig */ "./src/script/config/RollConfig.ts");
/* harmony import */ var _config_RewardCodeConfig__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../config/RewardCodeConfig */ "./src/script/config/RewardCodeConfig.ts");
/* harmony import */ var _config_TryItemConfig__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../config/TryItemConfig */ "./src/script/config/TryItemConfig.ts");
/* harmony import */ var _config_PushConfig__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../config/PushConfig */ "./src/script/config/PushConfig.ts");
/* harmony import */ var _config_LevelConfig__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../config/LevelConfig */ "./src/script/config/LevelConfig.ts");
/* harmony import */ var _config_DiceConfig__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../config/DiceConfig */ "./src/script/config/DiceConfig.ts");
/* harmony import */ var _config_TaskConfig__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../config/TaskConfig */ "./src/script/config/TaskConfig.ts");





















class SplashScene extends _LTGame_Start_LTSplashScene__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor() {
        super();
        this._splashUIClass = _ui_Load_UI_splash__WEBPACK_IMPORTED_MODULE_4__["default"];
        this._useCommonUI = true;
    }
    _OnBindUI() {
        _ui_Load_LoadBinder__WEBPACK_IMPORTED_MODULE_3__["default"].bindAll();
        _ui_Main_MainBinder__WEBPACK_IMPORTED_MODULE_5__["default"].bindAll();
    }
    _OnSetLoadConfig() {
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_AudioConfig__WEBPACK_IMPORTED_MODULE_7__["AudioConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_EffectConfig__WEBPACK_IMPORTED_MODULE_8__["EffectConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_GameConst__WEBPACK_IMPORTED_MODULE_10__["GameConst"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_PackConst__WEBPACK_IMPORTED_MODULE_11__["PackConst"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_EggConfig__WEBPACK_IMPORTED_MODULE_9__["EggConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_RewardCodeConfig__WEBPACK_IMPORTED_MODULE_15__["RewardCodeConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_SignConfig__WEBPACK_IMPORTED_MODULE_12__["SignConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_RollConfig__WEBPACK_IMPORTED_MODULE_14__["RollConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_TryItemConfig__WEBPACK_IMPORTED_MODULE_16__["TryItemConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_PushConfig__WEBPACK_IMPORTED_MODULE_17__["PushConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_TaskConfig__WEBPACK_IMPORTED_MODULE_20__["TaskConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_DiceConfig__WEBPACK_IMPORTED_MODULE_19__["DiceConfig"]);
        _LTGame_Config_ConfigManager__WEBPACK_IMPORTED_MODULE_0__["ConfigManager"].AddConfig(_config_LevelConfig__WEBPACK_IMPORTED_MODULE_18__["LevelConfig"]);
    }
    _OnGameResPrepared(urls) {
        _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_6__["default"].InitAll(urls);
        _manager_EffectManager__WEBPACK_IMPORTED_MODULE_13__["EffectManager"].instance.Preload(urls);
    }
    _OnGameResLoaded() {
        return __awaiter(this, void 0, void 0, function* () {
            yield _manager_EffectManager__WEBPACK_IMPORTED_MODULE_13__["EffectManager"].instance.WarmEffects();
            yield _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_6__["default"].FirstCreate();
            this.isFinished = true;
            this.nextState = _LTGame_Start_ESceneType__WEBPACK_IMPORTED_MODULE_1__["ESceneType"].Main;
        });
    }
}


/***/ }),

/***/ "./src/script/ui/UI_FightMediator.ts":
/*!*******************************************!*\
  !*** ./src/script/ui/UI_FightMediator.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_FightMediator; });
/* harmony import */ var _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/Async/Awaiters */ "./src/LTGame/Async/Awaiters.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/UIExt/Cmp/CmpSceneDisplay */ "./src/LTGame/UIExt/Cmp/CmpSceneDisplay.ts");
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _ui_Main_UI_Fight__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ui/Main/UI_Fight */ "./src/ui/Main/UI_Fight.ts");
/* harmony import */ var _common_ComTools__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/ComTools */ "./src/script/common/ComTools.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _common_GameData__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/GameData */ "./src/script/common/GameData.ts");
/* harmony import */ var _common_GameEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/GameEvent */ "./src/script/common/GameEvent.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");
/* harmony import */ var _config_DiceConfig__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../config/DiceConfig */ "./src/script/config/DiceConfig.ts");
/* harmony import */ var _config_TaskConfig__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../config/TaskConfig */ "./src/script/config/TaskConfig.ts");
/* harmony import */ var _manager_AudioManager__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _manager_EventManager__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../manager/EventManager */ "./src/script/manager/EventManager.ts");
/* harmony import */ var _UI_UnlockItemMediator__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./UI_UnlockItemMediator */ "./src/script/ui/UI_UnlockItemMediator.ts");




















class UI_FightMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_6__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_FightMediator();
            this._instance._classDefine = _ui_Main_UI_Fight__WEBPACK_IMPORTED_MODULE_9__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._onClick(this._ui.m_btnBomb, this._changeBomb);
        this._onClick(this._ui.m_btnMagnet, this._changeMangnet);
        this._onClick(this._ui.m_btnAddBomb, this._addBomb);
        this._onClick(this._ui.m_btnAddMagnet, this._addMagnet);
        this._onClick(this._ui.m_btnSound, this._onClickSoundGrp);
        this._onClick(this._ui.m_btnShock, this._onClickShakeGrp);
        this.ui.m_btnBomb.visible = !_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.isInCheck;
        this.ui.m_btnMagnet.visible = !_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_8__["default"].instance.isInCheck;
        /**鼠标事件 */
        this._ui.m_touch.on(Laya.Event.MOUSE_DOWN, this, this._onMouseDown);
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this._onMouseMove);
        Laya.stage.on(Laya.Event.MOUSE_UP, this, this._onMouseUp);
        Laya.stage.on(Laya.Event.MOUSE_OUT, this, this._onMouseUp);
        this._initTaskPro();
        this.refreshCount();
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.platform != _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_3__["EPlatformType"].TT) {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.ShowBannerAd();
        }
        this._updateToggleGrp();
        this._displayScene = new _LTGame_UIExt_Cmp_CmpSceneDisplay__WEBPACK_IMPORTED_MODULE_5__["CmpSceneDisplay"](this.ui.m_flyGold);
        this._CreateScene();
    }
    _OnHide() {
        this._displayScene.Dispose();
        this._ui.m_touch.off(Laya.Event.MOUSE_DOWN, this, this._onMouseDown);
        Laya.stage.off(Laya.Event.MOUSE_UP, this, this._onMouseUp);
        Laya.stage.off(Laya.Event.MOUSE_OUT, this, this._onMouseUp);
        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this._onMouseMove);
        _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.HideBannerAd();
    }
    get flyCamera() {
        return this._displayScene.camera;
    }
    _CreateScene() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this._displayScene.LoadScene('FlyGold');
            this._displayScene.camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
            this._flyGoldRoot = _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_2__["LTUtils"].FindChild(this._displayScene.s3d, 'root');
        });
    }
    PassEvent(event) {
        var _a;
        this._isPressed = true;
        this._touchId = event.touchId;
        (_a = this._downHandler) === null || _a === void 0 ? void 0 : _a.runWith(event);
    }
    addGold(gold) {
        this._flyGoldRoot.addChild(gold);
    }
    _updateToggleGrp() {
        let ui = this._ui;
        let data = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance;
        ui.m_btnSound.m_switch.selectedIndex = data.isMusicOn ? 1 : 0;
        ui.m_btnShock.m_switch.selectedIndex = data.isShakeOn ? 1 : 0;
    }
    _onClickSoundGrp(evt) {
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_17__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_11__["Const"].SOUND.SOUND_1);
        _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_2__["LTUtils"].Vibrate(false);
        let data = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance;
        data.isMusicOn = !data.isMusicOn;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].SaveToDisk();
        this._updateToggleGrp();
        if (data.isMusicOn) {
            _manager_AudioManager__WEBPACK_IMPORTED_MODULE_17__["default"].instance.CancelMute();
        }
        else {
            _manager_AudioManager__WEBPACK_IMPORTED_MODULE_17__["default"].instance.MuteAll();
        }
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_17__["default"].instance.PlayById(8);
    }
    _onClickShakeGrp(evt) {
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_17__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_11__["Const"].SOUND.SOUND_1);
        let data = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].instance;
        data.isShakeOn = !data.isShakeOn;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_1__["default"].SaveToDisk();
        _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_2__["LTUtils"].Vibrate(false);
        this._updateToggleGrp();
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_17__["default"].instance.PlayById(8);
    }
    _changeBomb() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.RecordEvent("ad_main", { id: 1, complete: 0 });
            let res = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.ShowRewardVideoAdAsync();
            if (res) {
                _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.RecordEvent("ad_main", { id: 1, complete: 1 });
                _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_14__["default"].game.level.createBomb();
            }
            // if (GameData.instance.bombCount > 0) {
            //     GlobalUnit.game.level.createBomb();
            // } else {
            //     LTUI.Toast("道具不足。");
            //     this._addBomb();
            // }
        });
    }
    _changeMangnet() {
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.RecordEvent("ad_main", { id: 2, complete: 0 });
            let res = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.ShowRewardVideoAdAsync();
            if (res) {
                _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_4__["default"].instance.RecordEvent("ad_main", { id: 2, complete: 1 });
                _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_14__["default"].game.level.createMagnet();
            }
            // if (GameData.instance.magnetCount > 0) {
            //     GlobalUnit.game.level.createMagnet();
            // } else {
            //     LTUI.Toast("道具不足。");
            //     this._addMagnet();
            // }
        });
    }
    _addBomb() {
        return __awaiter(this, void 0, void 0, function* () {
            if (_common_GameData__WEBPACK_IMPORTED_MODULE_12__["default"].instance.bombCount >= 5) {
                _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__["default"].Toast("道具上限。");
                return;
            }
            _UI_UnlockItemMediator__WEBPACK_IMPORTED_MODULE_19__["default"].instance.Show(_common_Const__WEBPACK_IMPORTED_MODULE_11__["Const"].ITEM_TYPE.BOMB);
            let isRefresh = yield _UI_UnlockItemMediator__WEBPACK_IMPORTED_MODULE_19__["default"].instance.waitPromise();
            if (isRefresh) {
                _manager_EventManager__WEBPACK_IMPORTED_MODULE_18__["EventManager"].send(_common_GameEvent__WEBPACK_IMPORTED_MODULE_13__["GameEvent"].NEW_PROP, _common_Const__WEBPACK_IMPORTED_MODULE_11__["Const"].ITEM_TYPE.BOMB);
                yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_0__["default"].Seconds(1);
            }
            this.refreshCount();
        });
    }
    _addMagnet() {
        return __awaiter(this, void 0, void 0, function* () {
            if (_common_GameData__WEBPACK_IMPORTED_MODULE_12__["default"].instance.magnetCount >= 5) {
                _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_7__["default"].Toast("道具上限。");
                return;
            }
            _UI_UnlockItemMediator__WEBPACK_IMPORTED_MODULE_19__["default"].instance.Show(_common_Const__WEBPACK_IMPORTED_MODULE_11__["Const"].ITEM_TYPE.MAGNET);
            let isRefresh = yield _UI_UnlockItemMediator__WEBPACK_IMPORTED_MODULE_19__["default"].instance.waitPromise();
            if (isRefresh) {
                _manager_EventManager__WEBPACK_IMPORTED_MODULE_18__["EventManager"].send(_common_GameEvent__WEBPACK_IMPORTED_MODULE_13__["GameEvent"].NEW_PROP, _common_Const__WEBPACK_IMPORTED_MODULE_11__["Const"].ITEM_TYPE.MAGNET);
                yield _LTGame_Async_Awaiters__WEBPACK_IMPORTED_MODULE_0__["default"].Seconds(1);
            }
            this.refreshCount();
        });
    }
    showProp() {
        return __awaiter(this, void 0, void 0, function* () {
            let num = _common_ComTools__WEBPACK_IMPORTED_MODULE_10__["ComTools"].getRandom(0, 1);
            if (num == 0) {
                yield this._addBomb();
            }
            else {
                yield this._addMagnet();
            }
        });
    }
    addHandlerEvent(downHandler, upHandler, moveHandler) {
        this._downHandler = downHandler;
        this._upHandler = upHandler;
        this._moveHandler = moveHandler;
    }
    _onMouseDown(e) {
        var _a;
        if (this._isPressed)
            return;
        this._touchId = e.touchId;
        this._isPressed = true;
        (_a = this._downHandler) === null || _a === void 0 ? void 0 : _a.runWith(e);
    }
    _onMouseUp(e) {
        var _a;
        if (!this._isPressed)
            return;
        if (e.touchId != this._touchId)
            return;
        this._isPressed = false;
        (_a = this._upHandler) === null || _a === void 0 ? void 0 : _a.runWith(e);
    }
    _onMouseMove(e) {
        var _a;
        if (!this._isPressed)
            return;
        if (e.touchId != this._touchId)
            return;
        (_a = this._moveHandler) === null || _a === void 0 ? void 0 : _a.runWith(e);
    }
    refreshCount() {
        this._ui.m_btnBomb.m_count.text = `${_common_GameData__WEBPACK_IMPORTED_MODULE_12__["default"].instance.bombCount}`;
        this._ui.m_btnBomb.m_count.visible = _common_GameData__WEBPACK_IMPORTED_MODULE_12__["default"].instance.bombCount > 0;
        this._ui.m_btnMagnet.m_count.text = `${_common_GameData__WEBPACK_IMPORTED_MODULE_12__["default"].instance.magnetCount}`;
        this._ui.m_btnMagnet.m_count.visible = _common_GameData__WEBPACK_IMPORTED_MODULE_12__["default"].instance.magnetCount > 0;
    }
    _initTaskPro() {
        let curTaskId = _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_14__["default"].game.level.curTaskId;
        this._taskData = [];
        let taskLen = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_16__["TaskConfig"].dataList.length;
        this._endTaskId = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_16__["TaskConfig"].dataList[taskLen - 1].id;
        let taskData = [];
        for (let i = 0; i < taskLen; i++) {
            let taskConfig = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_16__["TaskConfig"].dataList[i];
            let id = taskConfig.id;
            let diceId = taskConfig.targetId;
            taskData[taskData.length] = {
                /**id */
                taskId: id,
                /**骰子id */
                diceId: diceId,
                /**完成状态 0 已达成；1 目标达成；2 未达成 */
                state: curTaskId > id ? 0 : id == curTaskId ? 1 : 2
            };
        }
        this._taskData = taskData;
        this._ui.m_taskItems.m_taskList.setVirtual();
        this._ui.m_taskItems.m_taskList.itemRenderer = new Laya.Handler(this, this._onRenderItem);
        this._ui.m_taskItems.m_taskList.numItems = taskLen;
        let pro = 0;
        if (this._endTaskId == curTaskId) {
            pro = 100;
        }
        else if (this._endTaskId == curTaskId + 1) {
            pro = 66;
        }
        else if (curTaskId > 1) {
            pro = 33;
        }
        this._ui.m_taskItems.m_taskPro.tweenValue(pro, 0.3);
        if (curTaskId > 2) {
            this._ui.m_taskItems.m_taskList.scrollToView(curTaskId - 2, false, true);
        }
    }
    _onRenderItem(idx, item) {
        let data = this._taskData[idx];
        let id = data.diceId;
        let icon = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_15__["DiceConfig"].data[id].icon;
        item.m_dice.url = icon;
        item.m_state.selectedIndex = data.state;
    }
    refreshTask() {
        let curTaskId = _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_14__["default"].game.level.curTaskId;
        for (let i = 0, len = this._taskData.length; i < len; i++) {
            let task = this._taskData[i];
            task.state = curTaskId > task.taskId ? 0 : task.taskId == curTaskId ? 1 : 2;
        }
        this._ui.m_taskItems.m_taskList.refreshVirtualList();
        if (curTaskId > 2) {
            this._ui.m_taskItems.m_taskList.scrollToView(curTaskId - 2, true, true);
        }
        let pro = this._ui.m_taskItems.m_taskPro.value;
        let nextValue = 0;
        if (this._endTaskId == curTaskId) {
            nextValue = 100;
        }
        else if (this._endTaskId == curTaskId + 1) {
            nextValue = 66;
        }
        else if (curTaskId > 1) {
            nextValue = 33;
        }
        if (pro != nextValue) {
            this._ui.m_taskItems.m_taskPro.tweenValue(nextValue, 0.3);
        }
    }
}


/***/ }),

/***/ "./src/script/ui/UI_LoseMediator.ts":
/*!******************************************!*\
  !*** ./src/script/ui/UI_LoseMediator.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_LoseMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../LTGame/UIExt/LTUI */ "./src/LTGame/UIExt/LTUI.ts");
/* harmony import */ var _ui_Main_UI_Lose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/Main/UI_Lose */ "./src/ui/Main/UI_Lose.ts");




class UI_LoseMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_LoseMediator();
            this._instance._classDefine = _ui_Main_UI_Lose__WEBPACK_IMPORTED_MODULE_3__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._onClick(this._ui.m_btnAd, this._showAd);
        this._onClick(this._ui.m_btnClose, this._onClose);
        // let diceConfig = DiceConfig.data[this._openParam];
        // this._gold = diceConfig.unlockGold;
        // this._ui.m_count.text = `+${this._gold}`;
        // this._ui.m_imgDice.url = diceConfig.icon;
        // this._ui.m_state.selectedIndex = 0;
    }
    _OnHide() { }
    _showAd() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.RecordEvent("ad_popup", { id: 3, complete: 0 });
            let rst = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShowRewardVideoAdAsync();
            if (rst) {
                _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.RecordEvent("ad_popup", { id: 3, complete: 1 });
                _LTGame_UIExt_LTUI__WEBPACK_IMPORTED_MODULE_2__["default"].Toast(`复活成功`);
                this.Hide();
                (_a = this._hideHandler) === null || _a === void 0 ? void 0 : _a.runWith(true);
            }
        });
    }
    _onClose() {
        var _a;
        this.Hide();
        (_a = this._hideHandler) === null || _a === void 0 ? void 0 : _a.runWith(false);
    }
}


/***/ }),

/***/ "./src/script/ui/UI_MainMediator.ts":
/*!******************************************!*\
  !*** ./src/script/ui/UI_MainMediator.ts ***!
  \******************************************/
/*! exports provided: UI_MainMediator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI_MainMediator", function() { return UI_MainMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _ui_Main_UI_Main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ui/Main/UI_Main */ "./src/ui/Main/UI_Main.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");
/* harmony import */ var _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/Commom/CommonSaveData */ "./src/LTGame/Commom/CommonSaveData.ts");
/* harmony import */ var _manager_AudioManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../manager/AudioManager */ "./src/script/manager/AudioManager.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../LTGame/LTUtils/LTUtils */ "./src/LTGame/LTUtils/LTUtils.ts");







class UI_MainMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_MainMediator();
            this._instance._classDefine = _ui_Main_UI_Main__WEBPACK_IMPORTED_MODULE_1__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        this.ui.m_start.on(Laya.Event.MOUSE_DOWN, this, this._OnMouseDown);
        this._onClick(this._ui.m_btnSound, this._onClickSoundGrp);
        this._onClick(this._ui.m_btnShock, this._onClickShakeGrp);
        this._updateToggleGrp();
    }
    _updateToggleGrp() {
        let ui = this._ui;
        let data = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_3__["default"].instance;
        ui.m_btnSound.m_switch.selectedIndex = data.isMusicOn ? 1 : 0;
        ui.m_btnShock.m_switch.selectedIndex = data.isShakeOn ? 1 : 0;
    }
    _OnMouseDown(event) {
        this.Hide();
        _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_2__["default"].game.StartGame(event);
    }
    _onClickSoundGrp(evt) {
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_4__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_5__["Const"].SOUND.SOUND_1);
        _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_6__["LTUtils"].Vibrate(false);
        let data = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_3__["default"].instance;
        data.isMusicOn = !data.isMusicOn;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_3__["default"].SaveToDisk();
        this._updateToggleGrp();
        if (data.isMusicOn) {
            _manager_AudioManager__WEBPACK_IMPORTED_MODULE_4__["default"].instance.CancelMute();
        }
        else {
            _manager_AudioManager__WEBPACK_IMPORTED_MODULE_4__["default"].instance.MuteAll();
        }
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_4__["default"].instance.PlayById(8);
    }
    _onClickShakeGrp(evt) {
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_4__["default"].instance.PlayById(_common_Const__WEBPACK_IMPORTED_MODULE_5__["Const"].SOUND.SOUND_1);
        let data = _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_3__["default"].instance;
        data.isShakeOn = !data.isShakeOn;
        _LTGame_Commom_CommonSaveData__WEBPACK_IMPORTED_MODULE_3__["default"].SaveToDisk();
        _LTGame_LTUtils_LTUtils__WEBPACK_IMPORTED_MODULE_6__["LTUtils"].Vibrate(false);
        this._updateToggleGrp();
        _manager_AudioManager__WEBPACK_IMPORTED_MODULE_4__["default"].instance.PlayById(8);
    }
}


/***/ }),

/***/ "./src/script/ui/UI_ReadSaveDataMediator.ts":
/*!**************************************************!*\
  !*** ./src/script/ui/UI_ReadSaveDataMediator.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_ReadSaveDataMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _ui_Main_UI_ReadSaveData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/Main/UI_ReadSaveData */ "./src/ui/Main/UI_ReadSaveData.ts");
/* harmony import */ var _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/GlobalUnit */ "./src/script/common/GlobalUnit.ts");
/* harmony import */ var _config_TaskConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config/TaskConfig */ "./src/script/config/TaskConfig.ts");
/* harmony import */ var _config_DiceConfig__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../config/DiceConfig */ "./src/script/config/DiceConfig.ts");






class UI_ReadSaveDataMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_ReadSaveDataMediator();
            this._instance._classDefine = _ui_Main_UI_ReadSaveData__WEBPACK_IMPORTED_MODULE_2__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._onClick(this._ui.m_btnAd, this._showAd);
        this._onClick(this._ui.m_btnClose, this._onClose);
        this._initTaskPro();
    }
    _OnHide() { }
    _showAd() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.RecordEvent("ad_popup", { id: 1, complete: 0 });
            let rst = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShowRewardVideoAdAsync();
            if (rst) {
                _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.RecordEvent("ad_popup", { id: 1, complete: 1 });
                this.Hide();
                (_a = this._hideHandler) === null || _a === void 0 ? void 0 : _a.runWith(true);
            }
        });
    }
    _onClose() {
        var _a;
        this.Hide();
        (_a = this._hideHandler) === null || _a === void 0 ? void 0 : _a.runWith(false);
    }
    _initTaskPro() {
        let curTaskId = _common_GlobalUnit__WEBPACK_IMPORTED_MODULE_3__["default"].game.level.curTaskId;
        this._taskData = [];
        let taskLen = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_4__["TaskConfig"].dataList.length;
        this._endTaskId = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_4__["TaskConfig"].dataList[taskLen - 1].id;
        let taskData = [];
        for (let i = 0; i < taskLen; i++) {
            let taskConfig = _config_TaskConfig__WEBPACK_IMPORTED_MODULE_4__["TaskConfig"].dataList[i];
            let id = taskConfig.id;
            let diceId = taskConfig.targetId;
            taskData[taskData.length] = {
                /**id */
                taskId: id,
                /**骰子id */
                diceId: diceId,
                /**完成状态 0 已达成；1 目标达成；2 未达成 */
                state: curTaskId > id ? 0 : id == curTaskId ? 1 : 2
            };
        }
        this._taskData = taskData;
        this._ui.m_taskItems.m_taskList.setVirtual();
        this._ui.m_taskItems.m_taskList.itemRenderer = new Laya.Handler(this, this._onRenderItem);
        this._ui.m_taskItems.m_taskList.numItems = taskLen;
        let pro = 0;
        if (this._endTaskId == curTaskId) {
            pro = 100;
        }
        else if (this._endTaskId == curTaskId + 1) {
            pro = 66;
        }
        else if (curTaskId > 1) {
            pro = 33;
        }
        this._ui.m_taskItems.m_taskPro.tweenValue(pro, 0.3);
        if (curTaskId > 2) {
            this._ui.m_taskItems.m_taskList.scrollToView(curTaskId - 2, false, true);
        }
    }
    _onRenderItem(idx, item) {
        let data = this._taskData[idx];
        let id = data.diceId;
        let icon = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_5__["DiceConfig"].data[id].icon;
        item.m_dice.url = icon;
        item.m_state.selectedIndex = data.state;
    }
}


/***/ }),

/***/ "./src/script/ui/UI_UnlockItemMediator.ts":
/*!************************************************!*\
  !*** ./src/script/ui/UI_UnlockItemMediator.ts ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_UnlockItemMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _common_GameData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/GameData */ "./src/script/common/GameData.ts");
/* harmony import */ var _ui_Main_UI_UnlockItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/Main/UI_UnlockItem */ "./src/ui/Main/UI_UnlockItem.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _common_Const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/Const */ "./src/script/common/Const.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");






class UI_UnlockItemMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_UnlockItemMediator();
            this._instance._classDefine = _ui_Main_UI_UnlockItem__WEBPACK_IMPORTED_MODULE_2__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        this._itemType = this._openParam;
        this._onClick(this._ui.m_btnAd, this._showAd);
        this._onClick(this._ui.m_btnClose, this._onClose);
        this._ui.m_type.selectedIndex = this._itemType == _common_Const__WEBPACK_IMPORTED_MODULE_4__["Const"].ITEM_TYPE.BOMB ? 0 : 1;
    }
    _OnHide() {
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.platform != _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_5__["EPlatformType"].TT) {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.ShowBannerAd();
        }
    }
    _showAd() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            let rst = yield _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_3__["default"].instance.ShowRewardVideoAdAsync();
            if (rst) {
                if (this._itemType == _common_Const__WEBPACK_IMPORTED_MODULE_4__["Const"].ITEM_TYPE.BOMB) {
                    _common_GameData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.bombCount = _common_GameData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.bombCount + 1 > 5 ? 5 : _common_GameData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.bombCount + 1;
                }
                else if (this._itemType == _common_Const__WEBPACK_IMPORTED_MODULE_4__["Const"].ITEM_TYPE.MAGNET) {
                    _common_GameData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.magnetCount = _common_GameData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.magnetCount + 1 > 5 ? 5 : _common_GameData__WEBPACK_IMPORTED_MODULE_1__["default"].instance.magnetCount + 1;
                }
                _common_GameData__WEBPACK_IMPORTED_MODULE_1__["default"].SaveToDisk();
                (_a = this._hideHandler) === null || _a === void 0 ? void 0 : _a.runWith(true);
                this.Hide();
            }
        });
    }
    _onClose() {
        var _a;
        (_a = this._hideHandler) === null || _a === void 0 ? void 0 : _a.runWith(false);
        this.Hide();
    }
}


/***/ }),

/***/ "./src/script/ui/UI_UnlockNewDiceMediator.ts":
/*!***************************************************!*\
  !*** ./src/script/ui/UI_UnlockNewDiceMediator.ts ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_UnlockNewDiceMediator; });
/* harmony import */ var _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../LTGame/UIExt/FGui/BaseUIMediator */ "./src/LTGame/UIExt/FGui/BaseUIMediator.ts");
/* harmony import */ var _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../LTGame/Platform/LTPlatform */ "./src/LTGame/Platform/LTPlatform.ts");
/* harmony import */ var _ui_Main_UI_UnlockNewDice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/Main/UI_UnlockNewDice */ "./src/ui/Main/UI_UnlockNewDice.ts");
/* harmony import */ var _config_DiceConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config/DiceConfig */ "./src/script/config/DiceConfig.ts");
/* harmony import */ var _SDK_LTSDK__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../SDK/LTSDK */ "./src/SDK/LTSDK.ts");
/* harmony import */ var _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../LTGame/Platform/EPlatformType */ "./src/LTGame/Platform/EPlatformType.ts");






class UI_UnlockNewDiceMediator extends _LTGame_UIExt_FGui_BaseUIMediator__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static get instance() {
        if (this._instance == null) {
            this._instance = new UI_UnlockNewDiceMediator();
            this._instance._classDefine = _ui_Main_UI_UnlockNewDice__WEBPACK_IMPORTED_MODULE_2__["default"];
        }
        return this._instance;
    }
    _OnShow() {
        super._OnShow();
        // your code
        // this._onClick(this._ui.m_btnAd, this._showAd);
        this._onClick(this._ui.m_btnClose, this._onClose);
        let diceConfig = _config_DiceConfig__WEBPACK_IMPORTED_MODULE_3__["DiceConfig"].data[this._openParam];
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platform == _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_5__["EPlatformType"].Native_Android) {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShowInterstitalAd();
        }
        if (diceConfig.id % 2 == 1 && !_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isInCheck) {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.createShortcut();
        }
    }
    _OnHide() {
        if (!_SDK_LTSDK__WEBPACK_IMPORTED_MODULE_4__["default"].instance.isInCheck && _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platform != _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_5__["EPlatformType"].Native_Android) {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShowInterstitalAd();
        }
        if (_LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.platform != _LTGame_Platform_EPlatformType__WEBPACK_IMPORTED_MODULE_5__["EPlatformType"].TT) {
            _LTGame_Platform_LTPlatform__WEBPACK_IMPORTED_MODULE_1__["default"].instance.ShowBannerAd();
        }
    }
    _onClose() {
        var _a;
        this.Hide();
        (_a = this._hideHandler) === null || _a === void 0 ? void 0 : _a.runWith(false);
    }
}


/***/ }),

/***/ "./src/ui/Load/LoadBinder.ts":
/*!***********************************!*\
  !*** ./src/ui/Load/LoadBinder.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadBinder; });
/* harmony import */ var _UI_splash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UI_splash */ "./src/ui/Load/UI_splash.ts");
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/

class LoadBinder {
    static bindAll() {
        fgui.UIObjectFactory.setExtension(_UI_splash__WEBPACK_IMPORTED_MODULE_0__["default"].URL, _UI_splash__WEBPACK_IMPORTED_MODULE_0__["default"]);
    }
}


/***/ }),

/***/ "./src/ui/Load/UI_splash.ts":
/*!**********************************!*\
  !*** ./src/ui/Load/UI_splash.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_splash; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_splash extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Load", "splash"));
    }
    onConstruct() {
        this.m_plat = this.getControllerAt(0);
        this.m_progress = (this.getChildAt(2));
        this.m_text_logo = (this.getChildAt(3));
        this.m_text_laya = (this.getChildAt(4));
    }
}
UI_splash.URL = "ui://n3oedpp6nihr0";


/***/ }),

/***/ "./src/ui/Main/MainBinder.ts":
/*!***********************************!*\
  !*** ./src/ui/Main/MainBinder.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MainBinder; });
/* harmony import */ var _UI_ReadSaveData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UI_ReadSaveData */ "./src/ui/Main/UI_ReadSaveData.ts");
/* harmony import */ var _UI_btn_giveup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI_btn_giveup */ "./src/ui/Main/UI_btn_giveup.ts");
/* harmony import */ var _UI_btn_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UI_btn_get */ "./src/ui/Main/UI_btn_get.ts");
/* harmony import */ var _UI_btn_no__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UI_btn_no */ "./src/ui/Main/UI_btn_no.ts");
/* harmony import */ var _UI_btnSwitch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UI_btnSwitch */ "./src/ui/Main/UI_btnSwitch.ts");
/* harmony import */ var _UI_btnItem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./UI_btnItem */ "./src/ui/Main/UI_btnItem.ts");
/* harmony import */ var _UI_DiceItem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UI_DiceItem */ "./src/ui/Main/UI_DiceItem.ts");
/* harmony import */ var _UI_taskItems__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./UI_taskItems */ "./src/ui/Main/UI_taskItems.ts");
/* harmony import */ var _UI_UnlockItem__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UI_UnlockItem */ "./src/ui/Main/UI_UnlockItem.ts");
/* harmony import */ var _UI_UnlockNewDice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./UI_UnlockNewDice */ "./src/ui/Main/UI_UnlockNewDice.ts");
/* harmony import */ var _UI_Lose__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./UI_Lose */ "./src/ui/Main/UI_Lose.ts");
/* harmony import */ var _UI_Main__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./UI_Main */ "./src/ui/Main/UI_Main.ts");
/* harmony import */ var _UI_Fight__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./UI_Fight */ "./src/ui/Main/UI_Fight.ts");
/* harmony import */ var _UI_Top__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./UI_Top */ "./src/ui/Main/UI_Top.ts");
/* harmony import */ var _UI_view_guide__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./UI_view_guide */ "./src/ui/Main/UI_view_guide.ts");
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/















class MainBinder {
    static bindAll() {
        fgui.UIObjectFactory.setExtension(_UI_ReadSaveData__WEBPACK_IMPORTED_MODULE_0__["default"].URL, _UI_ReadSaveData__WEBPACK_IMPORTED_MODULE_0__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btn_giveup__WEBPACK_IMPORTED_MODULE_1__["default"].URL, _UI_btn_giveup__WEBPACK_IMPORTED_MODULE_1__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btn_get__WEBPACK_IMPORTED_MODULE_2__["default"].URL, _UI_btn_get__WEBPACK_IMPORTED_MODULE_2__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btn_no__WEBPACK_IMPORTED_MODULE_3__["default"].URL, _UI_btn_no__WEBPACK_IMPORTED_MODULE_3__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btnSwitch__WEBPACK_IMPORTED_MODULE_4__["default"].URL, _UI_btnSwitch__WEBPACK_IMPORTED_MODULE_4__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_btnItem__WEBPACK_IMPORTED_MODULE_5__["default"].URL, _UI_btnItem__WEBPACK_IMPORTED_MODULE_5__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_DiceItem__WEBPACK_IMPORTED_MODULE_6__["default"].URL, _UI_DiceItem__WEBPACK_IMPORTED_MODULE_6__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_taskItems__WEBPACK_IMPORTED_MODULE_7__["default"].URL, _UI_taskItems__WEBPACK_IMPORTED_MODULE_7__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_UnlockItem__WEBPACK_IMPORTED_MODULE_8__["default"].URL, _UI_UnlockItem__WEBPACK_IMPORTED_MODULE_8__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_UnlockNewDice__WEBPACK_IMPORTED_MODULE_9__["default"].URL, _UI_UnlockNewDice__WEBPACK_IMPORTED_MODULE_9__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_Lose__WEBPACK_IMPORTED_MODULE_10__["default"].URL, _UI_Lose__WEBPACK_IMPORTED_MODULE_10__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_Main__WEBPACK_IMPORTED_MODULE_11__["default"].URL, _UI_Main__WEBPACK_IMPORTED_MODULE_11__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_Fight__WEBPACK_IMPORTED_MODULE_12__["default"].URL, _UI_Fight__WEBPACK_IMPORTED_MODULE_12__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_Top__WEBPACK_IMPORTED_MODULE_13__["default"].URL, _UI_Top__WEBPACK_IMPORTED_MODULE_13__["default"]);
        fgui.UIObjectFactory.setExtension(_UI_view_guide__WEBPACK_IMPORTED_MODULE_14__["default"].URL, _UI_view_guide__WEBPACK_IMPORTED_MODULE_14__["default"]);
    }
}


/***/ }),

/***/ "./src/ui/Main/UI_DiceItem.ts":
/*!************************************!*\
  !*** ./src/ui/Main/UI_DiceItem.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_DiceItem; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_DiceItem extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "DiceItem"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(0);
        this.m_dice = (this.getChildAt(0));
        this.m_t0 = this.getTransitionAt(0);
    }
}
UI_DiceItem.URL = "ui://c6t3i6k8iz3t3f";


/***/ }),

/***/ "./src/ui/Main/UI_Fight.ts":
/*!*********************************!*\
  !*** ./src/ui/Main/UI_Fight.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_Fight; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_Fight extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "Fight"));
    }
    onConstruct() {
        this.m_flyGold = (this.getChildAt(0));
        this.m_touch = (this.getChildAt(1));
        this.m_btnBomb = (this.getChildAt(2));
        this.m_btnMagnet = (this.getChildAt(3));
        this.m_taskItems = (this.getChildAt(4));
        this.m_btnAddBomb = (this.getChildAt(5));
        this.m_btnAddMagnet = (this.getChildAt(6));
        this.m_btnSound = (this.getChildAt(7));
        this.m_btnShock = (this.getChildAt(8));
    }
}
UI_Fight.URL = "ui://c6t3i6k8ump63";


/***/ }),

/***/ "./src/ui/Main/UI_Lose.ts":
/*!********************************!*\
  !*** ./src/ui/Main/UI_Lose.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_Lose; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_Lose extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "Lose"));
    }
    onConstruct() {
        this.m_btnAd = (this.getChildAt(3));
        this.m_btnClose = (this.getChildAt(4));
    }
}
UI_Lose.URL = "ui://c6t3i6k8iz3t3l";


/***/ }),

/***/ "./src/ui/Main/UI_Main.ts":
/*!********************************!*\
  !*** ./src/ui/Main/UI_Main.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_Main; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_Main extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "Main"));
    }
    onConstruct() {
        this.m_start = (this.getChildAt(0));
        this.m_btnShop = (this.getChildAt(1));
        this.m_btnSound = (this.getChildAt(3));
        this.m_btnShock = (this.getChildAt(4));
    }
}
UI_Main.URL = "ui://c6t3i6k8qqmy1";


/***/ }),

/***/ "./src/ui/Main/UI_ReadSaveData.ts":
/*!****************************************!*\
  !*** ./src/ui/Main/UI_ReadSaveData.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_ReadSaveData; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_ReadSaveData extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "ReadSaveData"));
    }
    onConstruct() {
        this.m_btnAd = (this.getChildAt(4));
        this.m_btnClose = (this.getChildAt(5));
        this.m_taskItems = (this.getChildAt(6));
    }
}
UI_ReadSaveData.URL = "ui://c6t3i6k8d9on3r";


/***/ }),

/***/ "./src/ui/Main/UI_Top.ts":
/*!*******************************!*\
  !*** ./src/ui/Main/UI_Top.ts ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_Top; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_Top extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "Top"));
    }
    onConstruct() {
        this.m_touch = (this.getChildAt(0));
        this.m_icon = (this.getChildAt(1));
    }
}
UI_Top.URL = "ui://c6t3i6k8ump68";


/***/ }),

/***/ "./src/ui/Main/UI_UnlockItem.ts":
/*!**************************************!*\
  !*** ./src/ui/Main/UI_UnlockItem.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_UnlockItem; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_UnlockItem extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "UnlockItem"));
    }
    onConstruct() {
        this.m_type = this.getControllerAt(0);
        this.m_btnAd = (this.getChildAt(6));
        this.m_btnClose = (this.getChildAt(7));
    }
}
UI_UnlockItem.URL = "ui://c6t3i6k8iz3t3j";


/***/ }),

/***/ "./src/ui/Main/UI_UnlockNewDice.ts":
/*!*****************************************!*\
  !*** ./src/ui/Main/UI_UnlockNewDice.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_UnlockNewDice; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_UnlockNewDice extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "UnlockNewDice"));
    }
    onConstruct() {
        this.m_btnClose = (this.getChildAt(2));
    }
}
UI_UnlockNewDice.URL = "ui://c6t3i6k8iz3t3k";


/***/ }),

/***/ "./src/ui/Main/UI_btnItem.ts":
/*!***********************************!*\
  !*** ./src/ui/Main/UI_btnItem.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btnItem; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btnItem extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "btnItem"));
    }
    onConstruct() {
        this.m_state = this.getControllerAt(1);
        this.m_count = (this.getChildAt(1));
    }
}
UI_btnItem.URL = "ui://c6t3i6k8iz3t3e";


/***/ }),

/***/ "./src/ui/Main/UI_btnSwitch.ts":
/*!*************************************!*\
  !*** ./src/ui/Main/UI_btnSwitch.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btnSwitch; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btnSwitch extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "btnSwitch"));
    }
    onConstruct() {
        this.m_switch = this.getControllerAt(0);
        this.m_off = (this.getChildAt(0));
        this.m_on = (this.getChildAt(1));
    }
}
UI_btnSwitch.URL = "ui://c6t3i6k8iz3t3c";


/***/ }),

/***/ "./src/ui/Main/UI_btn_get.ts":
/*!***********************************!*\
  !*** ./src/ui/Main/UI_btn_get.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btn_get; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btn_get extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "btn_get"));
    }
    onConstruct() {
        this.m_loader_text = (this.getChildAt(1));
    }
}
UI_btn_get.URL = "ui://c6t3i6k8drhb4j";


/***/ }),

/***/ "./src/ui/Main/UI_btn_giveup.ts":
/*!**************************************!*\
  !*** ./src/ui/Main/UI_btn_giveup.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btn_giveup; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btn_giveup extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "btn_giveup"));
    }
    onConstruct() {
        this.m_loader_text = (this.getChildAt(1));
    }
}
UI_btn_giveup.URL = "ui://c6t3i6k8drhb4e";


/***/ }),

/***/ "./src/ui/Main/UI_btn_no.ts":
/*!**********************************!*\
  !*** ./src/ui/Main/UI_btn_no.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_btn_no; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_btn_no extends fgui.GButton {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "btn_no"));
    }
    onConstruct() {
        this.m_loader_text = (this.getChildAt(1));
    }
}
UI_btn_no.URL = "ui://c6t3i6k8drhb4k";


/***/ }),

/***/ "./src/ui/Main/UI_taskItems.ts":
/*!*************************************!*\
  !*** ./src/ui/Main/UI_taskItems.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_taskItems; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_taskItems extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "taskItems"));
    }
    onConstruct() {
        this.m_taskPro = (this.getChildAt(0));
        this.m_taskList = (this.getChildAt(1));
    }
}
UI_taskItems.URL = "ui://c6t3i6k8iz3t3g";


/***/ }),

/***/ "./src/ui/Main/UI_view_guide.ts":
/*!**************************************!*\
  !*** ./src/ui/Main/UI_view_guide.ts ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UI_view_guide; });
/** This is an automatically generated class by FairyGUI. Please do not modify it. **/
class UI_view_guide extends fgui.GComponent {
    static createInstance() {
        return (fgui.UIPackage.createObject("Main", "view_guide"));
    }
    onConstruct() {
        this.m_anim_loop = this.getTransitionAt(0);
    }
}
UI_view_guide.URL = "ui://c6t3i6k8wa0v4c";


/***/ })

/******/ });
//# sourceMappingURL=bundle.js.map